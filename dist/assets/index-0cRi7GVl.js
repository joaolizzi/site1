function __(r,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sy={exports:{}},Mc={},oy={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=Symbol.for("react.element"),x_=Symbol.for("react.portal"),S_=Symbol.for("react.fragment"),E_=Symbol.for("react.strict_mode"),T_=Symbol.for("react.profiler"),k_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),R_=Symbol.for("react.suspense"),A_=Symbol.for("react.memo"),P_=Symbol.for("react.lazy"),r0=Symbol.iterator;function M_(r){return r===null||typeof r!="object"?null:(r=r0&&r[r0]||r["@@iterator"],typeof r=="function"?r:null)}var ay={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ly=Object.assign,uy={};function Yo(r,t,e){this.props=r,this.context=t,this.refs=uy,this.updater=e||ay}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,t,"setState")};Yo.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function cy(){}cy.prototype=Yo.prototype;function Ld(r,t,e){this.props=r,this.context=t,this.refs=uy,this.updater=e||ay}var Fd=Ld.prototype=new cy;Fd.constructor=Ld;ly(Fd,Yo.prototype);Fd.isPureReactComponent=!0;var n0=Array.isArray,hy=Object.prototype.hasOwnProperty,Vd={current:null},fy={key:!0,ref:!0,__self:!0,__source:!0};function dy(r,t,e){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)hy.call(t,n)&&!fy.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=e;else if(1<u){for(var l=Array(u),a=0;a<u;a++)l[a]=arguments[a+2];i.children=l}if(r&&r.defaultProps)for(n in u=r.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:wl,type:r,key:s,ref:o,props:i,_owner:Vd.current}}function N_(r,t){return{$$typeof:wl,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function Bd(r){return typeof r=="object"&&r!==null&&r.$$typeof===wl}function O_(r){var t={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(e){return t[e]})}var i0=/\/+/g;function Eh(r,t){return typeof r=="object"&&r!==null&&r.key!=null?O_(""+r.key):t.toString(36)}function vu(r,t,e,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var o=!1;if(r===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(r.$$typeof){case wl:case x_:o=!0}}if(o)return o=r,i=i(o),r=n===""?"."+Eh(o,0):n,n0(i)?(e="",r!=null&&(e=r.replace(i0,"$&/")+"/"),vu(i,t,e,"",function(a){return a})):i!=null&&(Bd(i)&&(i=N_(i,e+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(i0,"$&/")+"/")+r)),t.push(i)),1;if(o=0,n=n===""?".":n+":",n0(r))for(var u=0;u<r.length;u++){s=r[u];var l=n+Eh(s,u);o+=vu(s,t,e,l,i)}else if(l=M_(r),typeof l=="function")for(r=l.call(r),u=0;!(s=r.next()).done;)s=s.value,l=n+Eh(s,u++),o+=vu(s,t,e,l,i);else if(s==="object")throw t=String(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wl(r,t,e){if(r==null)return r;var n=[],i=0;return vu(r,n,"","",function(s){return t.call(e,s,i++)}),n}function D_(r){if(r._status===-1){var t=r._result;t=t(),t.then(function(e){(r._status===0||r._status===-1)&&(r._status=1,r._result=e)},function(e){(r._status===0||r._status===-1)&&(r._status=2,r._result=e)}),r._status===-1&&(r._status=0,r._result=t)}if(r._status===1)return r._result.default;throw r._result}var Xr={current:null},wu={transition:null},j_={ReactCurrentDispatcher:Xr,ReactCurrentBatchConfig:wu,ReactCurrentOwner:Vd};function py(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:Wl,forEach:function(r,t,e){Wl(r,function(){t.apply(this,arguments)},e)},count:function(r){var t=0;return Wl(r,function(){t++}),t},toArray:function(r){return Wl(r,function(t){return t})||[]},only:function(r){if(!Bd(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};wt.Component=Yo;wt.Fragment=S_;wt.Profiler=T_;wt.PureComponent=Ld;wt.StrictMode=E_;wt.Suspense=R_;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j_;wt.act=py;wt.cloneElement=function(r,t,e){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=ly({},r.props),i=r.key,s=r.ref,o=r._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Vd.current),t.key!==void 0&&(i=""+t.key),r.type&&r.type.defaultProps)var u=r.type.defaultProps;for(l in t)hy.call(t,l)&&!fy.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&u!==void 0?u[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=e;else if(1<l){u=Array(l);for(var a=0;a<l;a++)u[a]=arguments[a+2];n.children=u}return{$$typeof:wl,type:r.type,key:i,ref:s,props:n,_owner:o}};wt.createContext=function(r){return r={$$typeof:C_,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:k_,_context:r},r.Consumer=r};wt.createElement=dy;wt.createFactory=function(r){var t=dy.bind(null,r);return t.type=r,t};wt.createRef=function(){return{current:null}};wt.forwardRef=function(r){return{$$typeof:I_,render:r}};wt.isValidElement=Bd;wt.lazy=function(r){return{$$typeof:P_,_payload:{_status:-1,_result:r},_init:D_}};wt.memo=function(r,t){return{$$typeof:A_,type:r,compare:t===void 0?null:t}};wt.startTransition=function(r){var t=wu.transition;wu.transition={};try{r()}finally{wu.transition=t}};wt.unstable_act=py;wt.useCallback=function(r,t){return Xr.current.useCallback(r,t)};wt.useContext=function(r){return Xr.current.useContext(r)};wt.useDebugValue=function(){};wt.useDeferredValue=function(r){return Xr.current.useDeferredValue(r)};wt.useEffect=function(r,t){return Xr.current.useEffect(r,t)};wt.useId=function(){return Xr.current.useId()};wt.useImperativeHandle=function(r,t,e){return Xr.current.useImperativeHandle(r,t,e)};wt.useInsertionEffect=function(r,t){return Xr.current.useInsertionEffect(r,t)};wt.useLayoutEffect=function(r,t){return Xr.current.useLayoutEffect(r,t)};wt.useMemo=function(r,t){return Xr.current.useMemo(r,t)};wt.useReducer=function(r,t,e){return Xr.current.useReducer(r,t,e)};wt.useRef=function(r){return Xr.current.useRef(r)};wt.useState=function(r){return Xr.current.useState(r)};wt.useSyncExternalStore=function(r,t,e){return Xr.current.useSyncExternalStore(r,t,e)};wt.useTransition=function(){return Xr.current.useTransition()};wt.version="18.3.1";oy.exports=wt;var Ee=oy.exports;const my=iy(Ee),L_=__({__proto__:null,default:my},[Ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=Ee,V_=Symbol.for("react.element"),B_=Symbol.for("react.fragment"),U_=Object.prototype.hasOwnProperty,z_=F_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$_={key:!0,ref:!0,__self:!0,__source:!0};function gy(r,t,e){var n,i={},s=null,o=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)U_.call(t,n)&&!$_.hasOwnProperty(n)&&(i[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:V_,type:r,key:s,ref:o,props:i,_owner:z_.current}}Mc.Fragment=B_;Mc.jsx=gy;Mc.jsxs=gy;sy.exports=Mc;var ae=sy.exports,ff={},yy={exports:{}},gn={},by={exports:{}},vy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function t(_,S){var C=_.length;_.push(S);e:for(;0<C;){var j=C-1>>>1,F=_[j];if(0<i(F,S))_[j]=S,_[C]=F,C=j;else break e}}function e(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var S=_[0],C=_.pop();if(C!==S){_[0]=C;e:for(var j=0,F=_.length,H=F>>>1;j<H;){var W=2*(j+1)-1,Y=_[W],B=W+1,G=_[B];if(0>i(Y,C))B<F&&0>i(G,Y)?(_[j]=G,_[B]=C,j=B):(_[j]=Y,_[W]=C,j=W);else if(B<F&&0>i(G,C))_[j]=G,_[B]=C,j=B;else break e}}return S}function i(_,S){var C=_.sortIndex-S.sortIndex;return C!==0?C:_.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();r.unstable_now=function(){return o.now()-u}}var l=[],a=[],c=1,d=null,h=3,f=!1,m=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var S=e(a);S!==null;){if(S.callback===null)n(a);else if(S.startTime<=_)n(a),S.sortIndex=S.expirationTime,t(l,S);else break;S=e(a)}}function k(_){if(y=!1,w(_),!m)if(e(l)!==null)m=!0,v(A);else{var S=e(a);S!==null&&x(k,S.startTime-_)}}function A(_,S){m=!1,y&&(y=!1,b(R),R=-1),f=!0;var C=h;try{for(w(S),d=e(l);d!==null&&(!(d.expirationTime>S)||_&&!z());){var j=d.callback;if(typeof j=="function"){d.callback=null,h=d.priorityLevel;var F=j(d.expirationTime<=S);S=r.unstable_now(),typeof F=="function"?d.callback=F:d===e(l)&&n(l),w(S)}else n(l);d=e(l)}if(d!==null)var H=!0;else{var W=e(a);W!==null&&x(k,W.startTime-S),H=!1}return H}finally{d=null,h=C,f=!1}}var U=!1,V=null,R=-1,N=5,L=-1;function z(){return!(r.unstable_now()-L<N)}function O(){if(V!==null){var _=r.unstable_now();L=_;var S=!0;try{S=V(!0,_)}finally{S?T():(U=!1,V=null)}}else U=!1}var T;if(typeof g=="function")T=function(){g(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,E=P.port2;P.port1.onmessage=O,T=function(){E.postMessage(null)}}else T=function(){p(O,0)};function v(_){V=_,U||(U=!0,T())}function x(_,S){R=p(function(){_(r.unstable_now())},S)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(_){_.callback=null},r.unstable_continueExecution=function(){m||f||(m=!0,v(A))},r.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<_?Math.floor(1e3/_):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return e(l)},r.unstable_next=function(_){switch(h){case 1:case 2:case 3:var S=3;break;default:S=h}var C=h;h=S;try{return _()}finally{h=C}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(_,S){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var C=h;h=_;try{return S()}finally{h=C}},r.unstable_scheduleCallback=function(_,S,C){var j=r.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?j+C:j):C=j,_){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=C+F,_={id:c++,callback:S,priorityLevel:_,startTime:C,expirationTime:F,sortIndex:-1},C>j?(_.sortIndex=C,t(a,_),e(l)===null&&_===e(a)&&(y?(b(R),R=-1):y=!0,x(k,C-j))):(_.sortIndex=F,t(l,_),m||f||(m=!0,v(A))),_},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(_){var S=h;return function(){var C=h;h=S;try{return _.apply(this,arguments)}finally{h=C}}}})(vy);by.exports=vy;var H_=by.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_=Ee,mn=H_;function Ie(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wy=new Set,Ha={};function Gs(r,t){Do(r,t),Do(r+"Capture",t)}function Do(r,t){for(Ha[r]=t,r=0;r<t.length;r++)wy.add(t[r])}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=Object.prototype.hasOwnProperty,W_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s0={},o0={};function G_(r){return df.call(o0,r)?!0:df.call(s0,r)?!1:W_.test(r)?o0[r]=!0:(s0[r]=!0,!1)}function K_(r,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function X_(r,t,e,n){if(t===null||typeof t>"u"||K_(r,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yr(r,t,e,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=r,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Ar[r]=new Yr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];Ar[t]=new Yr(t,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Ar[r]=new Yr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Ar[r]=new Yr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Ar[r]=new Yr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Ar[r]=new Yr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Ar[r]=new Yr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Ar[r]=new Yr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Ar[r]=new Yr(r,5,!1,r.toLowerCase(),null,!1,!1)});var Ud=/[\-:]([a-z])/g;function zd(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(Ud,zd);Ar[t]=new Yr(t,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(Ud,zd);Ar[t]=new Yr(t,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(Ud,zd);Ar[t]=new Yr(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Ar[r]=new Yr(r,1,!1,r.toLowerCase(),null,!1,!1)});Ar.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Ar[r]=new Yr(r,1,!1,r.toLowerCase(),null,!0,!0)});function $d(r,t,e,n){var i=Ar.hasOwnProperty(t)?Ar[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X_(t,e,i,n)&&(e=null),n||i===null?G_(t)&&(e===null?r.removeAttribute(t):r.setAttribute(t,""+e)):i.mustUseProperty?r[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,n=i.attributeNamespace,e===null?r.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,n?r.setAttributeNS(n,t,e):r.setAttribute(t,e))))}var ki=q_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),co=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),Hd=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),_y=Symbol.for("react.provider"),xy=Symbol.for("react.context"),qd=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),gf=Symbol.for("react.suspense_list"),Wd=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),Sy=Symbol.for("react.offscreen"),a0=Symbol.iterator;function ha(r){return r===null||typeof r!="object"?null:(r=a0&&r[a0]||r["@@iterator"],typeof r=="function"?r:null)}var Zt=Object.assign,Th;function wa(r){if(Th===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Th=t&&t[1]||""}return`
`+Th+r}var kh=!1;function Ch(r,t){if(!r||kh)return"";kh=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var n=a}Reflect.construct(r,[],t)}else{try{t.call()}catch(a){n=a}r.call(t.prototype)}else{try{throw Error()}catch(a){n=a}r()}}catch(a){if(a&&n&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var l=`
`+i[o].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=o&&0<=u);break}}}finally{kh=!1,Error.prepareStackTrace=e}return(r=r?r.displayName||r.name:"")?wa(r):""}function Y_(r){switch(r.tag){case 5:return wa(r.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return r=Ch(r.type,!1),r;case 11:return r=Ch(r.type.render,!1),r;case 1:return r=Ch(r.type,!0),r;default:return""}}function yf(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ho:return"Fragment";case co:return"Portal";case pf:return"Profiler";case Hd:return"StrictMode";case mf:return"Suspense";case gf:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case xy:return(r.displayName||"Context")+".Consumer";case _y:return(r._context.displayName||"Context")+".Provider";case qd:var t=r.render;return r=r.displayName,r||(r=t.displayName||t.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Wd:return t=r.displayName||null,t!==null?t:yf(r.type)||"Memo";case Ni:t=r._payload,r=r._init;try{return yf(r(t))}catch{}}return null}function Q_(r){var t=r.type;switch(r.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=t.render,r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(t);case 8:return t===Hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ss(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ey(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J_(r){var t=Ey(r)?"checked":"value",e=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),n=""+r[t];if(!r.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,s=e.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(r,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function Kl(r){r._valueTracker||(r._valueTracker=J_(r))}function Ty(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return r&&(n=Ey(r)?r.checked?"true":"false":r.value),r=n,r!==e?(t.setValue(r),!0):!1}function $u(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function bf(r,t){var e=t.checked;return Zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??r._wrapperState.initialChecked})}function l0(r,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=ss(t.value!=null?t.value:e),r._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ky(r,t){t=t.checked,t!=null&&$d(r,"checked",t,!1)}function vf(r,t){ky(r,t);var e=ss(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+e):r.value!==""+e&&(r.value=""+e);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?wf(r,t.type,e):t.hasOwnProperty("defaultValue")&&wf(r,t.type,ss(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function u0(r,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,e||t===r.value||(r.value=t),r.defaultValue=t}e=r.name,e!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,e!==""&&(r.name=e)}function wf(r,t,e){(t!=="number"||$u(r.ownerDocument)!==r)&&(e==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+e&&(r.defaultValue=""+e))}var _a=Array.isArray;function Eo(r,t,e,n){if(r=r.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<r.length;e++)i=t.hasOwnProperty("$"+r[e].value),r[e].selected!==i&&(r[e].selected=i),i&&n&&(r[e].defaultSelected=!0)}else{for(e=""+ss(e),t=null,i=0;i<r.length;i++){if(r[i].value===e){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}t!==null||r[i].disabled||(t=r[i])}t!==null&&(t.selected=!0)}}function _f(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Zt({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function c0(r,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Ie(92));if(_a(e)){if(1<e.length)throw Error(Ie(93));e=e[0]}t=e}t==null&&(t=""),e=t}r._wrapperState={initialValue:ss(e)}}function Cy(r,t){var e=ss(t.value),n=ss(t.defaultValue);e!=null&&(e=""+e,e!==r.value&&(r.value=e),t.defaultValue==null&&r.defaultValue!==e&&(r.defaultValue=e)),n!=null&&(r.defaultValue=""+n)}function h0(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}function Iy(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xf(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?Iy(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Xl,Ry=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return r(t,e,n,i)})}:r}(function(r,t){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=t;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xl.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function qa(r,t){if(t){var e=r.firstChild;if(e&&e===r.lastChild&&e.nodeType===3){e.nodeValue=t;return}}r.textContent=t}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z_=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(r){Z_.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),Ia[t]=Ia[r]})});function Ay(r,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Ia.hasOwnProperty(r)&&Ia[r]?(""+t).trim():t+"px"}function Py(r,t){r=r.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,i=Ay(e,t[e],n);e==="float"&&(e="cssFloat"),n?r.setProperty(e,i):r[e]=i}}var e3=Zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sf(r,t){if(t){if(e3[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,r));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function Ef(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function Gd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var kf=null,To=null,ko=null;function f0(r){if(r=Sl(r)){if(typeof kf!="function")throw Error(Ie(280));var t=r.stateNode;t&&(t=Lc(t),kf(r.stateNode,r.type,t))}}function My(r){To?ko?ko.push(r):ko=[r]:To=r}function Ny(){if(To){var r=To,t=ko;if(ko=To=null,f0(r),t)for(r=0;r<t.length;r++)f0(t[r])}}function Oy(r,t){return r(t)}function Dy(){}var Ih=!1;function jy(r,t,e){if(Ih)return r(t,e);Ih=!0;try{return Oy(r,t,e)}finally{Ih=!1,(To!==null||ko!==null)&&(Dy(),Ny())}}function Wa(r,t){var e=r.stateNode;if(e===null)return null;var n=Lc(e);if(n===null)return null;e=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(e&&typeof e!="function")throw Error(Ie(231,t,typeof e));return e}var Cf=!1;if(yi)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Cf=!1}function t3(r,t,e,n,i,s,o,u,l){var a=Array.prototype.slice.call(arguments,3);try{t.apply(e,a)}catch(c){this.onError(c)}}var Ra=!1,Hu=null,qu=!1,If=null,r3={onError:function(r){Ra=!0,Hu=r}};function n3(r,t,e,n,i,s,o,u,l){Ra=!1,Hu=null,t3.apply(r3,arguments)}function i3(r,t,e,n,i,s,o,u,l){if(n3.apply(this,arguments),Ra){if(Ra){var a=Hu;Ra=!1,Hu=null}else throw Error(Ie(198));qu||(qu=!0,If=a)}}function Ks(r){var t=r,e=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,t.flags&4098&&(e=t.return),r=t.return;while(r)}return t.tag===3?e:null}function Ly(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function d0(r){if(Ks(r)!==r)throw Error(Ie(188))}function s3(r){var t=r.alternate;if(!t){if(t=Ks(r),t===null)throw Error(Ie(188));return t!==r?null:r}for(var e=r,n=t;;){var i=e.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){e=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===e)return d0(i),r;if(s===n)return d0(i),t;s=s.sibling}throw Error(Ie(188))}if(e.return!==n.return)e=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===e){o=!0,e=i,n=s;break}if(u===n){o=!0,n=i,e=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===e){o=!0,e=s,n=i;break}if(u===n){o=!0,n=s,e=i;break}u=u.sibling}if(!o)throw Error(Ie(189))}}if(e.alternate!==n)throw Error(Ie(190))}if(e.tag!==3)throw Error(Ie(188));return e.stateNode.current===e?r:t}function Fy(r){return r=s3(r),r!==null?Vy(r):null}function Vy(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var t=Vy(r);if(t!==null)return t;r=r.sibling}return null}var By=mn.unstable_scheduleCallback,p0=mn.unstable_cancelCallback,o3=mn.unstable_shouldYield,a3=mn.unstable_requestPaint,ar=mn.unstable_now,l3=mn.unstable_getCurrentPriorityLevel,Kd=mn.unstable_ImmediatePriority,Uy=mn.unstable_UserBlockingPriority,Wu=mn.unstable_NormalPriority,u3=mn.unstable_LowPriority,zy=mn.unstable_IdlePriority,Nc=null,Yn=null;function c3(r){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Nc,r,void 0,(r.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:d3,h3=Math.log,f3=Math.LN2;function d3(r){return r>>>=0,r===0?32:31-(h3(r)/f3|0)|0}var Yl=64,Ql=4194304;function xa(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gu(r,t){var e=r.pendingLanes;if(e===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,o=e&268435455;if(o!==0){var u=o&~i;u!==0?n=xa(u):(s&=o,s!==0&&(n=xa(s)))}else o=e&~i,o!==0?n=xa(o):s!==0&&(n=xa(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=e&16),t=r.entangledLanes,t!==0)for(r=r.entanglements,t&=n;0<t;)e=31-jn(t),i=1<<e,n|=r[e],t&=~i;return n}function p3(r,t){switch(r){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m3(r,t){for(var e=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var o=31-jn(s),u=1<<o,l=i[o];l===-1?(!(u&e)||u&n)&&(i[o]=p3(u,t)):l<=t&&(r.expiredLanes|=u),s&=~u}}function Rf(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $y(){var r=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),r}function Rh(r){for(var t=[],e=0;31>e;e++)t.push(r);return t}function _l(r,t,e){r.pendingLanes|=t,t!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,t=31-jn(t),r[t]=e}function g3(r,t){var e=r.pendingLanes&~t;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=t,r.mutableReadLanes&=t,r.entangledLanes&=t,t=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<e;){var i=31-jn(e),s=1<<i;t[i]=0,n[i]=-1,r[i]=-1,e&=~s}}function Xd(r,t){var e=r.entangledLanes|=t;for(r=r.entanglements;e;){var n=31-jn(e),i=1<<n;i&t|r[n]&t&&(r[n]|=t),e&=~i}}var Bt=0;function Hy(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var qy,Yd,Wy,Gy,Ky,Af=!1,Jl=[],Wi=null,Gi=null,Ki=null,Ga=new Map,Ka=new Map,Di=[],y3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m0(r,t){switch(r){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ga.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(t.pointerId)}}function da(r,t,e,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Sl(t),t!==null&&Yd(t)),r):(r.eventSystemFlags|=n,t=r.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),r)}function b3(r,t,e,n,i){switch(t){case"focusin":return Wi=da(Wi,r,t,e,n,i),!0;case"dragenter":return Gi=da(Gi,r,t,e,n,i),!0;case"mouseover":return Ki=da(Ki,r,t,e,n,i),!0;case"pointerover":var s=i.pointerId;return Ga.set(s,da(Ga.get(s)||null,r,t,e,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ka.set(s,da(Ka.get(s)||null,r,t,e,n,i)),!0}return!1}function Xy(r){var t=ks(r.target);if(t!==null){var e=Ks(t);if(e!==null){if(t=e.tag,t===13){if(t=Ly(e),t!==null){r.blockedOn=t,Ky(r.priority,function(){Wy(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){r.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _u(r){if(r.blockedOn!==null)return!1;for(var t=r.targetContainers;0<t.length;){var e=Pf(r.domEventName,r.eventSystemFlags,t[0],r.nativeEvent);if(e===null){e=r.nativeEvent;var n=new e.constructor(e.type,e);Tf=n,e.target.dispatchEvent(n),Tf=null}else return t=Sl(e),t!==null&&Yd(t),r.blockedOn=e,!1;t.shift()}return!0}function g0(r,t,e){_u(r)&&e.delete(t)}function v3(){Af=!1,Wi!==null&&_u(Wi)&&(Wi=null),Gi!==null&&_u(Gi)&&(Gi=null),Ki!==null&&_u(Ki)&&(Ki=null),Ga.forEach(g0),Ka.forEach(g0)}function pa(r,t){r.blockedOn===t&&(r.blockedOn=null,Af||(Af=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,v3)))}function Xa(r){function t(i){return pa(i,r)}if(0<Jl.length){pa(Jl[0],r);for(var e=1;e<Jl.length;e++){var n=Jl[e];n.blockedOn===r&&(n.blockedOn=null)}}for(Wi!==null&&pa(Wi,r),Gi!==null&&pa(Gi,r),Ki!==null&&pa(Ki,r),Ga.forEach(t),Ka.forEach(t),e=0;e<Di.length;e++)n=Di[e],n.blockedOn===r&&(n.blockedOn=null);for(;0<Di.length&&(e=Di[0],e.blockedOn===null);)Xy(e),e.blockedOn===null&&Di.shift()}var Co=ki.ReactCurrentBatchConfig,Ku=!0;function w3(r,t,e,n){var i=Bt,s=Co.transition;Co.transition=null;try{Bt=1,Qd(r,t,e,n)}finally{Bt=i,Co.transition=s}}function _3(r,t,e,n){var i=Bt,s=Co.transition;Co.transition=null;try{Bt=4,Qd(r,t,e,n)}finally{Bt=i,Co.transition=s}}function Qd(r,t,e,n){if(Ku){var i=Pf(r,t,e,n);if(i===null)Vh(r,t,n,Xu,e),m0(r,n);else if(b3(i,r,t,e,n))n.stopPropagation();else if(m0(r,n),t&4&&-1<y3.indexOf(r)){for(;i!==null;){var s=Sl(i);if(s!==null&&qy(s),s=Pf(r,t,e,n),s===null&&Vh(r,t,n,Xu,e),s===i)break;i=s}i!==null&&n.stopPropagation()}else Vh(r,t,n,null,e)}}var Xu=null;function Pf(r,t,e,n){if(Xu=null,r=Gd(n),r=ks(r),r!==null)if(t=Ks(r),t===null)r=null;else if(e=t.tag,e===13){if(r=Ly(t),r!==null)return r;r=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;r=null}else t!==r&&(r=null);return Xu=r,null}function Yy(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l3()){case Kd:return 1;case Uy:return 4;case Wu:case u3:return 16;case zy:return 536870912;default:return 16}default:return 16}}var zi=null,Jd=null,xu=null;function Qy(){if(xu)return xu;var r,t=Jd,e=t.length,n,i="value"in zi?zi.value:zi.textContent,s=i.length;for(r=0;r<e&&t[r]===i[r];r++);var o=e-r;for(n=1;n<=o&&t[e-n]===i[s-n];n++);return xu=i.slice(r,1<n?1-n:void 0)}function Su(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}function Zl(){return!0}function y0(){return!1}function yn(r){function t(e,n,i,s,o){this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in r)r.hasOwnProperty(u)&&(e=r[u],this[u]=e?e(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zl:y0,this.isPropagationStopped=y0,this}return Zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),t}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zd=yn(Qo),xl=Zt({},Qo,{view:0,detail:0}),x3=yn(xl),Ah,Ph,ma,Oc=Zt({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ma&&(ma&&r.type==="mousemove"?(Ah=r.screenX-ma.screenX,Ph=r.screenY-ma.screenY):Ph=Ah=0,ma=r),Ah)},movementY:function(r){return"movementY"in r?r.movementY:Ph}}),b0=yn(Oc),S3=Zt({},Oc,{dataTransfer:0}),E3=yn(S3),T3=Zt({},xl,{relatedTarget:0}),Mh=yn(T3),k3=Zt({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),C3=yn(k3),I3=Zt({},Qo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),R3=yn(I3),A3=Zt({},Qo,{data:0}),v0=yn(A3),P3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O3(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=N3[r])?!!t[r]:!1}function ep(){return O3}var D3=Zt({},xl,{key:function(r){if(r.key){var t=P3[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=Su(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?M3[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(r){return r.type==="keypress"?Su(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Su(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),j3=yn(D3),L3=Zt({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=yn(L3),F3=Zt({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),V3=yn(F3),B3=Zt({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),U3=yn(B3),z3=Zt({},Oc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$3=yn(z3),H3=[9,13,27,32],tp=yi&&"CompositionEvent"in window,Aa=null;yi&&"documentMode"in document&&(Aa=document.documentMode);var q3=yi&&"TextEvent"in window&&!Aa,Jy=yi&&(!tp||Aa&&8<Aa&&11>=Aa),_0=" ",x0=!1;function Zy(r,t){switch(r){case"keyup":return H3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fo=!1;function W3(r,t){switch(r){case"compositionend":return eb(t);case"keypress":return t.which!==32?null:(x0=!0,_0);case"textInput":return r=t.data,r===_0&&x0?null:r;default:return null}}function G3(r,t){if(fo)return r==="compositionend"||!tp&&Zy(r,t)?(r=Qy(),xu=Jd=zi=null,fo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jy&&t.locale!=="ko"?null:t.data;default:return null}}var K3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S0(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!K3[r.type]:t==="textarea"}function tb(r,t,e,n){My(n),t=Yu(t,"onChange"),0<t.length&&(e=new Zd("onChange","change",null,e,n),r.push({event:e,listeners:t}))}var Pa=null,Ya=null;function X3(r){fb(r,0)}function Dc(r){var t=go(r);if(Ty(t))return r}function Y3(r,t){if(r==="change")return t}var rb=!1;if(yi){var Nh;if(yi){var Oh="oninput"in document;if(!Oh){var E0=document.createElement("div");E0.setAttribute("oninput","return;"),Oh=typeof E0.oninput=="function"}Nh=Oh}else Nh=!1;rb=Nh&&(!document.documentMode||9<document.documentMode)}function T0(){Pa&&(Pa.detachEvent("onpropertychange",nb),Ya=Pa=null)}function nb(r){if(r.propertyName==="value"&&Dc(Ya)){var t=[];tb(t,Ya,r,Gd(r)),jy(X3,t)}}function Q3(r,t,e){r==="focusin"?(T0(),Pa=t,Ya=e,Pa.attachEvent("onpropertychange",nb)):r==="focusout"&&T0()}function J3(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Dc(Ya)}function Z3(r,t){if(r==="click")return Dc(t)}function e4(r,t){if(r==="input"||r==="change")return Dc(t)}function t4(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var Vn=typeof Object.is=="function"?Object.is:t4;function Qa(r,t){if(Vn(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var e=Object.keys(r),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var i=e[n];if(!df.call(t,i)||!Vn(r[i],t[i]))return!1}return!0}function k0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function C0(r,t){var e=k0(r);r=0;for(var n;e;){if(e.nodeType===3){if(n=r+e.textContent.length,r<=t&&n>=t)return{node:e,offset:t-r};r=n}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=k0(e)}}function ib(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?ib(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function sb(){for(var r=window,t=$u();t instanceof r.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)r=t.contentWindow;else break;t=$u(r.document)}return t}function rp(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}function r4(r){var t=sb(),e=r.focusedElem,n=r.selectionRange;if(t!==e&&e&&e.ownerDocument&&ib(e.ownerDocument.documentElement,e)){if(n!==null&&rp(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var i=e.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=C0(e,s);var o=C0(e,n);i&&o&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==o.node||r.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(t),r.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var n4=yi&&"documentMode"in document&&11>=document.documentMode,po=null,Mf=null,Ma=null,Nf=!1;function I0(r,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Nf||po==null||po!==$u(n)||(n=po,"selectionStart"in n&&rp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ma&&Qa(Ma,n)||(Ma=n,n=Yu(Mf,"onSelect"),0<n.length&&(t=new Zd("onSelect","select",null,t,e),r.push({event:t,listeners:n}),t.target=po)))}function eu(r,t){var e={};return e[r.toLowerCase()]=t.toLowerCase(),e["Webkit"+r]="webkit"+t,e["Moz"+r]="moz"+t,e}var mo={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},Dh={},ob={};yi&&(ob=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function jc(r){if(Dh[r])return Dh[r];if(!mo[r])return r;var t=mo[r],e;for(e in t)if(t.hasOwnProperty(e)&&e in ob)return Dh[r]=t[e];return r}var ab=jc("animationend"),lb=jc("animationiteration"),ub=jc("animationstart"),cb=jc("transitionend"),hb=new Map,R0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(r,t){hb.set(r,t),Gs(t,[r])}for(var jh=0;jh<R0.length;jh++){var Lh=R0[jh],i4=Lh.toLowerCase(),s4=Lh[0].toUpperCase()+Lh.slice(1);ps(i4,"on"+s4)}ps(ab,"onAnimationEnd");ps(lb,"onAnimationIteration");ps(ub,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(cb,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function A0(r,t,e){var n=r.type||"unknown-event";r.currentTarget=e,i3(n,t,void 0,r),r.currentTarget=null}function fb(r,t){t=(t&4)!==0;for(var e=0;e<r.length;e++){var n=r[e],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],l=u.instance,a=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;A0(i,u,a),s=l}else for(o=0;o<n.length;o++){if(u=n[o],l=u.instance,a=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;A0(i,u,a),s=l}}}if(qu)throw r=If,qu=!1,If=null,r}function Wt(r,t){var e=t[Ff];e===void 0&&(e=t[Ff]=new Set);var n=r+"__bubble";e.has(n)||(db(t,r,2,!1),e.add(n))}function Fh(r,t,e){var n=0;t&&(n|=4),db(e,r,n,t)}var tu="_reactListening"+Math.random().toString(36).slice(2);function Ja(r){if(!r[tu]){r[tu]=!0,wy.forEach(function(e){e!=="selectionchange"&&(o4.has(e)||Fh(e,!1,r),Fh(e,!0,r))});var t=r.nodeType===9?r:r.ownerDocument;t===null||t[tu]||(t[tu]=!0,Fh("selectionchange",!1,t))}}function db(r,t,e,n){switch(Yy(t)){case 1:var i=w3;break;case 4:i=_3;break;default:i=Qd}e=i.bind(null,t,e,r),i=void 0,!Cf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(t,e,{capture:!0,passive:i}):r.addEventListener(t,e,!0):i!==void 0?r.addEventListener(t,e,{passive:i}):r.addEventListener(t,e,!1)}function Vh(r,t,e,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=ks(u),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}u=u.parentNode}}n=n.return}jy(function(){var a=s,c=Gd(e),d=[];e:{var h=hb.get(r);if(h!==void 0){var f=Zd,m=r;switch(r){case"keypress":if(Su(e)===0)break e;case"keydown":case"keyup":f=j3;break;case"focusin":m="focus",f=Mh;break;case"focusout":m="blur",f=Mh;break;case"beforeblur":case"afterblur":f=Mh;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=b0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=E3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=V3;break;case ab:case lb:case ub:f=C3;break;case cb:f=U3;break;case"scroll":f=x3;break;case"wheel":f=$3;break;case"copy":case"cut":case"paste":f=R3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=w0}var y=(t&4)!==0,p=!y&&r==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var g=a,w;g!==null;){w=g;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,b!==null&&(k=Wa(g,b),k!=null&&y.push(Za(g,k,w)))),p)break;g=g.return}0<y.length&&(h=new f(h,m,null,e,c),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=r==="mouseover"||r==="pointerover",f=r==="mouseout"||r==="pointerout",h&&e!==Tf&&(m=e.relatedTarget||e.fromElement)&&(ks(m)||m[bi]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=e.relatedTarget||e.toElement,f=a,m=m?ks(m):null,m!==null&&(p=Ks(m),m!==p||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=a),f!==m)){if(y=b0,k="onMouseLeave",b="onMouseEnter",g="mouse",(r==="pointerout"||r==="pointerover")&&(y=w0,k="onPointerLeave",b="onPointerEnter",g="pointer"),p=f==null?h:go(f),w=m==null?h:go(m),h=new y(k,g+"leave",f,e,c),h.target=p,h.relatedTarget=w,k=null,ks(c)===a&&(y=new y(b,g+"enter",m,e,c),y.target=w,y.relatedTarget=p,k=y),p=k,f&&m)t:{for(y=f,b=m,g=0,w=y;w;w=so(w))g++;for(w=0,k=b;k;k=so(k))w++;for(;0<g-w;)y=so(y),g--;for(;0<w-g;)b=so(b),w--;for(;g--;){if(y===b||b!==null&&y===b.alternate)break t;y=so(y),b=so(b)}y=null}else y=null;f!==null&&P0(d,h,f,y,!1),m!==null&&p!==null&&P0(d,p,m,y,!0)}}e:{if(h=a?go(a):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var A=Y3;else if(S0(h))if(rb)A=e4;else{A=J3;var U=Q3}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=Z3);if(A&&(A=A(r,a))){tb(d,A,e,c);break e}U&&U(r,h,a),r==="focusout"&&(U=h._wrapperState)&&U.controlled&&h.type==="number"&&wf(h,"number",h.value)}switch(U=a?go(a):window,r){case"focusin":(S0(U)||U.contentEditable==="true")&&(po=U,Mf=a,Ma=null);break;case"focusout":Ma=Mf=po=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,I0(d,e,c);break;case"selectionchange":if(n4)break;case"keydown":case"keyup":I0(d,e,c)}var V;if(tp)e:{switch(r){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else fo?Zy(r,e)&&(R="onCompositionEnd"):r==="keydown"&&e.keyCode===229&&(R="onCompositionStart");R&&(Jy&&e.locale!=="ko"&&(fo||R!=="onCompositionStart"?R==="onCompositionEnd"&&fo&&(V=Qy()):(zi=c,Jd="value"in zi?zi.value:zi.textContent,fo=!0)),U=Yu(a,R),0<U.length&&(R=new v0(R,r,null,e,c),d.push({event:R,listeners:U}),V?R.data=V:(V=eb(e),V!==null&&(R.data=V)))),(V=q3?W3(r,e):G3(r,e))&&(a=Yu(a,"onBeforeInput"),0<a.length&&(c=new v0("onBeforeInput","beforeinput",null,e,c),d.push({event:c,listeners:a}),c.data=V))}fb(d,t)})}function Za(r,t,e){return{instance:r,listener:t,currentTarget:e}}function Yu(r,t){for(var e=t+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wa(r,e),s!=null&&n.unshift(Za(r,s,i)),s=Wa(r,t),s!=null&&n.push(Za(r,s,i))),r=r.return}return n}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function P0(r,t,e,n,i){for(var s=t._reactName,o=[];e!==null&&e!==n;){var u=e,l=u.alternate,a=u.stateNode;if(l!==null&&l===n)break;u.tag===5&&a!==null&&(u=a,i?(l=Wa(e,s),l!=null&&o.unshift(Za(e,l,u))):i||(l=Wa(e,s),l!=null&&o.push(Za(e,l,u)))),e=e.return}o.length!==0&&r.push({event:t,listeners:o})}var a4=/\r\n?/g,l4=/\u0000|\uFFFD/g;function M0(r){return(typeof r=="string"?r:""+r).replace(a4,`
`).replace(l4,"")}function ru(r,t,e){if(t=M0(t),M0(r)!==t&&e)throw Error(Ie(425))}function Qu(){}var Of=null,Df=null;function jf(r,t){return r==="textarea"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,u4=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,c4=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(r){return N0.resolve(null).then(r).catch(h4)}:Lf;function h4(r){setTimeout(function(){throw r})}function Bh(r,t){var e=t,n=0;do{var i=e.nextSibling;if(r.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(n===0){r.removeChild(i),Xa(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=i}while(e);Xa(t)}function Xi(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break;if(t===8){if(t=r.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return r}function O0(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return r;t--}else e==="/$"&&t++}r=r.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Jo,el="__reactProps$"+Jo,bi="__reactContainer$"+Jo,Ff="__reactEvents$"+Jo,f4="__reactListeners$"+Jo,d4="__reactHandles$"+Jo;function ks(r){var t=r[Kn];if(t)return t;for(var e=r.parentNode;e;){if(t=e[bi]||e[Kn]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(r=O0(r);r!==null;){if(e=r[Kn])return e;r=O0(r)}return t}r=e,e=r.parentNode}return null}function Sl(r){return r=r[Kn]||r[bi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function go(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Ie(33))}function Lc(r){return r[el]||null}var Vf=[],yo=-1;function ms(r){return{current:r}}function Kt(r){0>yo||(r.current=Vf[yo],Vf[yo]=null,yo--)}function Ht(r,t){yo++,Vf[yo]=r.current,r.current=t}var os={},Ur=ms(os),sn=ms(!1),js=os;function jo(r,t){var e=r.type.contextTypes;if(!e)return os;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in e)i[s]=t[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=i),i}function on(r){return r=r.childContextTypes,r!=null}function Ju(){Kt(sn),Kt(Ur)}function D0(r,t,e){if(Ur.current!==os)throw Error(Ie(168));Ht(Ur,t),Ht(sn,e)}function pb(r,t,e){var n=r.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ie(108,Q_(r)||"Unknown",i));return Zt({},e,n)}function Zu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||os,js=Ur.current,Ht(Ur,r),Ht(sn,sn.current),!0}function j0(r,t,e){var n=r.stateNode;if(!n)throw Error(Ie(169));e?(r=pb(r,t,js),n.__reactInternalMemoizedMergedChildContext=r,Kt(sn),Kt(Ur),Ht(Ur,r)):Kt(sn),Ht(sn,e)}var ci=null,Fc=!1,Uh=!1;function mb(r){ci===null?ci=[r]:ci.push(r)}function p4(r){Fc=!0,mb(r)}function gs(){if(!Uh&&ci!==null){Uh=!0;var r=0,t=Bt;try{var e=ci;for(Bt=1;r<e.length;r++){var n=e[r];do n=n(!0);while(n!==null)}ci=null,Fc=!1}catch(i){throw ci!==null&&(ci=ci.slice(r+1)),By(Kd,gs),i}finally{Bt=t,Uh=!1}}return null}var bo=[],vo=0,ec=null,tc=0,vn=[],wn=0,Ls=null,hi=1,fi="";function Ss(r,t){bo[vo++]=tc,bo[vo++]=ec,ec=r,tc=t}function gb(r,t,e){vn[wn++]=hi,vn[wn++]=fi,vn[wn++]=Ls,Ls=r;var n=hi;r=fi;var i=32-jn(n)-1;n&=~(1<<i),e+=1;var s=32-jn(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,hi=1<<32-jn(t)+i|e<<i|n,fi=s+r}else hi=1<<s|e<<i|n,fi=r}function np(r){r.return!==null&&(Ss(r,1),gb(r,1,0))}function ip(r){for(;r===ec;)ec=bo[--vo],bo[vo]=null,tc=bo[--vo],bo[vo]=null;for(;r===Ls;)Ls=vn[--wn],vn[wn]=null,fi=vn[--wn],vn[wn]=null,hi=vn[--wn],vn[wn]=null}var pn=null,hn=null,Xt=!1,Mn=null;function yb(r,t){var e=xn(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=r,t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)}function L0(r,t){switch(r.tag){case 5:var e=r.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,pn=r,hn=Xi(t.firstChild),!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,pn=r,hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Ls!==null?{id:hi,overflow:fi}:null,r.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=xn(18,null,null,0),e.stateNode=t,e.return=r,r.child=e,pn=r,hn=null,!0):!1;default:return!1}}function Bf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Uf(r){if(Xt){var t=hn;if(t){var e=t;if(!L0(r,t)){if(Bf(r))throw Error(Ie(418));t=Xi(e.nextSibling);var n=pn;t&&L0(r,t)?yb(n,e):(r.flags=r.flags&-4097|2,Xt=!1,pn=r)}}else{if(Bf(r))throw Error(Ie(418));r.flags=r.flags&-4097|2,Xt=!1,pn=r}}}function F0(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function nu(r){if(r!==pn)return!1;if(!Xt)return F0(r),Xt=!0,!1;var t;if((t=r.tag!==3)&&!(t=r.tag!==5)&&(t=r.type,t=t!=="head"&&t!=="body"&&!jf(r.type,r.memoizedProps)),t&&(t=hn)){if(Bf(r))throw bb(),Error(Ie(418));for(;t;)yb(r,t),t=Xi(t.nextSibling)}if(F0(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ie(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="/$"){if(t===0){hn=Xi(r.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}r=r.nextSibling}hn=null}}else hn=pn?Xi(r.stateNode.nextSibling):null;return!0}function bb(){for(var r=hn;r;)r=Xi(r.nextSibling)}function Lo(){hn=pn=null,Xt=!1}function sp(r){Mn===null?Mn=[r]:Mn.push(r)}var m4=ki.ReactCurrentBatchConfig;function ga(r,t,e){if(r=e.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Ie(309));var n=e.stateNode}if(!n)throw Error(Ie(147,r));var i=n,s=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof r!="string")throw Error(Ie(284));if(!e._owner)throw Error(Ie(290,r))}return r}function iu(r,t){throw r=Object.prototype.toString.call(t),Error(Ie(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}function V0(r){var t=r._init;return t(r._payload)}function vb(r){function t(b,g){if(r){var w=b.deletions;w===null?(b.deletions=[g],b.flags|=16):w.push(g)}}function e(b,g){if(!r)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function n(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function i(b,g){return b=Zi(b,g),b.index=0,b.sibling=null,b}function s(b,g,w){return b.index=w,r?(w=b.alternate,w!==null?(w=w.index,w<g?(b.flags|=2,g):w):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return r&&b.alternate===null&&(b.flags|=2),b}function u(b,g,w,k){return g===null||g.tag!==6?(g=Kh(w,b.mode,k),g.return=b,g):(g=i(g,w),g.return=b,g)}function l(b,g,w,k){var A=w.type;return A===ho?c(b,g,w.props.children,k,w.key):g!==null&&(g.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ni&&V0(A)===g.type)?(k=i(g,w.props),k.ref=ga(b,g,w),k.return=b,k):(k=Au(w.type,w.key,w.props,null,b.mode,k),k.ref=ga(b,g,w),k.return=b,k)}function a(b,g,w,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Xh(w,b.mode,k),g.return=b,g):(g=i(g,w.children||[]),g.return=b,g)}function c(b,g,w,k,A){return g===null||g.tag!==7?(g=Ps(w,b.mode,k,A),g.return=b,g):(g=i(g,w),g.return=b,g)}function d(b,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Kh(""+g,b.mode,w),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gl:return w=Au(g.type,g.key,g.props,null,b.mode,w),w.ref=ga(b,null,g),w.return=b,w;case co:return g=Xh(g,b.mode,w),g.return=b,g;case Ni:var k=g._init;return d(b,k(g._payload),w)}if(_a(g)||ha(g))return g=Ps(g,b.mode,w,null),g.return=b,g;iu(b,g)}return null}function h(b,g,w,k){var A=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:u(b,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:return w.key===A?l(b,g,w,k):null;case co:return w.key===A?a(b,g,w,k):null;case Ni:return A=w._init,h(b,g,A(w._payload),k)}if(_a(w)||ha(w))return A!==null?null:c(b,g,w,k,null);iu(b,w)}return null}function f(b,g,w,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(w)||null,u(g,b,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gl:return b=b.get(k.key===null?w:k.key)||null,l(g,b,k,A);case co:return b=b.get(k.key===null?w:k.key)||null,a(g,b,k,A);case Ni:var U=k._init;return f(b,g,w,U(k._payload),A)}if(_a(k)||ha(k))return b=b.get(w)||null,c(g,b,k,A,null);iu(g,k)}return null}function m(b,g,w,k){for(var A=null,U=null,V=g,R=g=0,N=null;V!==null&&R<w.length;R++){V.index>R?(N=V,V=null):N=V.sibling;var L=h(b,V,w[R],k);if(L===null){V===null&&(V=N);break}r&&V&&L.alternate===null&&t(b,V),g=s(L,g,R),U===null?A=L:U.sibling=L,U=L,V=N}if(R===w.length)return e(b,V),Xt&&Ss(b,R),A;if(V===null){for(;R<w.length;R++)V=d(b,w[R],k),V!==null&&(g=s(V,g,R),U===null?A=V:U.sibling=V,U=V);return Xt&&Ss(b,R),A}for(V=n(b,V);R<w.length;R++)N=f(V,b,R,w[R],k),N!==null&&(r&&N.alternate!==null&&V.delete(N.key===null?R:N.key),g=s(N,g,R),U===null?A=N:U.sibling=N,U=N);return r&&V.forEach(function(z){return t(b,z)}),Xt&&Ss(b,R),A}function y(b,g,w,k){var A=ha(w);if(typeof A!="function")throw Error(Ie(150));if(w=A.call(w),w==null)throw Error(Ie(151));for(var U=A=null,V=g,R=g=0,N=null,L=w.next();V!==null&&!L.done;R++,L=w.next()){V.index>R?(N=V,V=null):N=V.sibling;var z=h(b,V,L.value,k);if(z===null){V===null&&(V=N);break}r&&V&&z.alternate===null&&t(b,V),g=s(z,g,R),U===null?A=z:U.sibling=z,U=z,V=N}if(L.done)return e(b,V),Xt&&Ss(b,R),A;if(V===null){for(;!L.done;R++,L=w.next())L=d(b,L.value,k),L!==null&&(g=s(L,g,R),U===null?A=L:U.sibling=L,U=L);return Xt&&Ss(b,R),A}for(V=n(b,V);!L.done;R++,L=w.next())L=f(V,b,R,L.value,k),L!==null&&(r&&L.alternate!==null&&V.delete(L.key===null?R:L.key),g=s(L,g,R),U===null?A=L:U.sibling=L,U=L);return r&&V.forEach(function(O){return t(b,O)}),Xt&&Ss(b,R),A}function p(b,g,w,k){if(typeof w=="object"&&w!==null&&w.type===ho&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:e:{for(var A=w.key,U=g;U!==null;){if(U.key===A){if(A=w.type,A===ho){if(U.tag===7){e(b,U.sibling),g=i(U,w.props.children),g.return=b,b=g;break e}}else if(U.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ni&&V0(A)===U.type){e(b,U.sibling),g=i(U,w.props),g.ref=ga(b,U,w),g.return=b,b=g;break e}e(b,U);break}else t(b,U);U=U.sibling}w.type===ho?(g=Ps(w.props.children,b.mode,k,w.key),g.return=b,b=g):(k=Au(w.type,w.key,w.props,null,b.mode,k),k.ref=ga(b,g,w),k.return=b,b=k)}return o(b);case co:e:{for(U=w.key;g!==null;){if(g.key===U)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){e(b,g.sibling),g=i(g,w.children||[]),g.return=b,b=g;break e}else{e(b,g);break}else t(b,g);g=g.sibling}g=Xh(w,b.mode,k),g.return=b,b=g}return o(b);case Ni:return U=w._init,p(b,g,U(w._payload),k)}if(_a(w))return m(b,g,w,k);if(ha(w))return y(b,g,w,k);iu(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(e(b,g.sibling),g=i(g,w),g.return=b,b=g):(e(b,g),g=Kh(w,b.mode,k),g.return=b,b=g),o(b)):e(b,g)}return p}var Fo=vb(!0),wb=vb(!1),rc=ms(null),nc=null,wo=null,op=null;function ap(){op=wo=nc=null}function lp(r){var t=rc.current;Kt(rc),r._currentValue=t}function zf(r,t,e){for(;r!==null;){var n=r.alternate;if((r.childLanes&t)!==t?(r.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),r===e)break;r=r.return}}function Io(r,t){nc=r,op=wo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&t&&(nn=!0),r.firstContext=null)}function En(r){var t=r._currentValue;if(op!==r)if(r={context:r,memoizedValue:t,next:null},wo===null){if(nc===null)throw Error(Ie(308));wo=r,nc.dependencies={lanes:0,firstContext:r}}else wo=wo.next=r;return t}var Cs=null;function up(r){Cs===null?Cs=[r]:Cs.push(r)}function _b(r,t,e,n){var i=t.interleaved;return i===null?(e.next=e,up(t)):(e.next=i.next,i.next=e),t.interleaved=e,vi(r,n)}function vi(r,t){r.lanes|=t;var e=r.alternate;for(e!==null&&(e.lanes|=t),e=r,r=r.return;r!==null;)r.childLanes|=t,e=r.alternate,e!==null&&(e.childLanes|=t),e=r,r=r.return;return e.tag===3?e.stateNode:null}var Oi=!1;function cp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xb(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function mi(r,t){return{eventTime:r,lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(r,t,e){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Ot&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,vi(r,e)}return i=n.interleaved,i===null?(t.next=t,up(n)):(t.next=i.next,i.next=t),n.interleaved=t,vi(r,e)}function Eu(r,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,Xd(r,e)}}function B0(r,t){var e=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var i=null,s=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};s===null?i=s=o:s=s.next=o,e=e.next}while(e!==null);s===null?i=s=t:s=s.next=t}else i=s=t;e={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=e;return}r=e.lastBaseUpdate,r===null?e.firstBaseUpdate=t:r.next=t,e.lastBaseUpdate=t}function ic(r,t,e,n){var i=r.updateQueue;Oi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,a=l.next;l.next=null,o===null?s=a:o.next=a,o=l;var c=r.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==o&&(u===null?c.firstBaseUpdate=a:u.next=a,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=a=l=null,u=s;do{var h=u.lane,f=u.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var m=r,y=u;switch(h=t,f=e,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Zt({},d,h);break e;case 2:Oi=!0}}u.callback!==null&&u.lane!==0&&(r.flags|=64,h=i.effects,h===null?i.effects=[u]:h.push(u))}else f={eventTime:f,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(a=c=f,l=d):c=c.next=f,o|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;h=u,u=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=a,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Vs|=o,r.lanes=o,r.memoizedState=d}}function U0(r,t,e){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var n=r[t],i=n.callback;if(i!==null){if(n.callback=null,n=e,typeof i!="function")throw Error(Ie(191,i));i.call(n)}}}var El={},Qn=ms(El),tl=ms(El),rl=ms(El);function Is(r){if(r===El)throw Error(Ie(174));return r}function hp(r,t){switch(Ht(rl,t),Ht(tl,r),Ht(Qn,El),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xf(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=xf(t,r)}Kt(Qn),Ht(Qn,t)}function Vo(){Kt(Qn),Kt(tl),Kt(rl)}function Sb(r){Is(rl.current);var t=Is(Qn.current),e=xf(t,r.type);t!==e&&(Ht(tl,r),Ht(Qn,e))}function fp(r){tl.current===r&&(Kt(Qn),Kt(tl))}var Qt=ms(0);function sc(r){for(var t=r;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zh=[];function dp(){for(var r=0;r<zh.length;r++)zh[r]._workInProgressVersionPrimary=null;zh.length=0}var Tu=ki.ReactCurrentDispatcher,$h=ki.ReactCurrentBatchConfig,Fs=0,Jt=null,yr=null,_r=null,oc=!1,Na=!1,nl=0,g4=0;function Dr(){throw Error(Ie(321))}function pp(r,t){if(t===null)return!1;for(var e=0;e<t.length&&e<r.length;e++)if(!Vn(r[e],t[e]))return!1;return!0}function mp(r,t,e,n,i,s){if(Fs=s,Jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tu.current=r===null||r.memoizedState===null?w4:_4,r=e(n,i),Na){s=0;do{if(Na=!1,nl=0,25<=s)throw Error(Ie(301));s+=1,_r=yr=null,t.updateQueue=null,Tu.current=x4,r=e(n,i)}while(Na)}if(Tu.current=ac,t=yr!==null&&yr.next!==null,Fs=0,_r=yr=Jt=null,oc=!1,t)throw Error(Ie(300));return r}function gp(){var r=nl!==0;return nl=0,r}function Wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Jt.memoizedState=_r=r:_r=_r.next=r,_r}function Tn(){if(yr===null){var r=Jt.alternate;r=r!==null?r.memoizedState:null}else r=yr.next;var t=_r===null?Jt.memoizedState:_r.next;if(t!==null)_r=t,yr=r;else{if(r===null)throw Error(Ie(310));yr=r,r={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},_r===null?Jt.memoizedState=_r=r:_r=_r.next=r}return _r}function il(r,t){return typeof t=="function"?t(r):t}function Hh(r){var t=Tn(),e=t.queue;if(e===null)throw Error(Ie(311));e.lastRenderedReducer=r;var n=yr,i=n.baseQueue,s=e.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,e.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,l=null,a=s;do{var c=a.lane;if((Fs&c)===c)l!==null&&(l=l.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),n=a.hasEagerState?a.eagerState:r(n,a.action);else{var d={lane:c,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};l===null?(u=l=d,o=n):l=l.next=d,Jt.lanes|=c,Vs|=c}a=a.next}while(a!==null&&a!==s);l===null?o=n:l.next=u,Vn(n,t.memoizedState)||(nn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,e.lastRenderedState=n}if(r=e.interleaved,r!==null){i=r;do s=i.lane,Jt.lanes|=s,Vs|=s,i=i.next;while(i!==r)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function qh(r){var t=Tn(),e=t.queue;if(e===null)throw Error(Ie(311));e.lastRenderedReducer=r;var n=e.dispatch,i=e.pending,s=t.memoizedState;if(i!==null){e.pending=null;var o=i=i.next;do s=r(s,o.action),o=o.next;while(o!==i);Vn(s,t.memoizedState)||(nn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),e.lastRenderedState=s}return[s,n]}function Eb(){}function Tb(r,t){var e=Jt,n=Tn(),i=t(),s=!Vn(n.memoizedState,i);if(s&&(n.memoizedState=i,nn=!0),n=n.queue,yp(Ib.bind(null,e,n,r),[r]),n.getSnapshot!==t||s||_r!==null&&_r.memoizedState.tag&1){if(e.flags|=2048,sl(9,Cb.bind(null,e,n,i,t),void 0,null),xr===null)throw Error(Ie(349));Fs&30||kb(e,t,i)}return i}function kb(r,t,e){r.flags|=16384,r={getSnapshot:t,value:e},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.stores=[r]):(e=t.stores,e===null?t.stores=[r]:e.push(r))}function Cb(r,t,e,n){t.value=e,t.getSnapshot=n,Rb(t)&&Ab(r)}function Ib(r,t,e){return e(function(){Rb(t)&&Ab(r)})}function Rb(r){var t=r.getSnapshot;r=r.value;try{var e=t();return!Vn(r,e)}catch{return!0}}function Ab(r){var t=vi(r,1);t!==null&&Ln(t,r,1,-1)}function z0(r){var t=Wn();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:r},t.queue=r,r=r.dispatch=v4.bind(null,Jt,r),[t.memoizedState,r]}function sl(r,t,e,n){return r={tag:r,create:t,destroy:e,deps:n,next:null},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.lastEffect=r.next=r):(e=t.lastEffect,e===null?t.lastEffect=r.next=r:(n=e.next,e.next=r,r.next=n,t.lastEffect=r)),r}function Pb(){return Tn().memoizedState}function ku(r,t,e,n){var i=Wn();Jt.flags|=r,i.memoizedState=sl(1|t,e,void 0,n===void 0?null:n)}function Vc(r,t,e,n){var i=Tn();n=n===void 0?null:n;var s=void 0;if(yr!==null){var o=yr.memoizedState;if(s=o.destroy,n!==null&&pp(n,o.deps)){i.memoizedState=sl(t,e,s,n);return}}Jt.flags|=r,i.memoizedState=sl(1|t,e,s,n)}function $0(r,t){return ku(8390656,8,r,t)}function yp(r,t){return Vc(2048,8,r,t)}function Mb(r,t){return Vc(4,2,r,t)}function Nb(r,t){return Vc(4,4,r,t)}function Ob(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function Db(r,t,e){return e=e!=null?e.concat([r]):null,Vc(4,4,Ob.bind(null,t,r),e)}function bp(){}function jb(r,t){var e=Tn();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&pp(t,n[1])?n[0]:(e.memoizedState=[r,t],r)}function Lb(r,t){var e=Tn();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&pp(t,n[1])?n[0]:(r=r(),e.memoizedState=[r,t],r)}function Fb(r,t,e){return Fs&21?(Vn(e,t)||(e=$y(),Jt.lanes|=e,Vs|=e,r.baseState=!0),t):(r.baseState&&(r.baseState=!1,nn=!0),r.memoizedState=e)}function y4(r,t){var e=Bt;Bt=e!==0&&4>e?e:4,r(!0);var n=$h.transition;$h.transition={};try{r(!1),t()}finally{Bt=e,$h.transition=n}}function Vb(){return Tn().memoizedState}function b4(r,t,e){var n=Ji(r);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},Bb(r))Ub(t,e);else if(e=_b(r,t,e,n),e!==null){var i=Kr();Ln(e,r,n,i),zb(e,t,n)}}function v4(r,t,e){var n=Ji(r),i={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if(Bb(r))Ub(t,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,e);if(i.hasEagerState=!0,i.eagerState=u,Vn(u,o)){var l=t.interleaved;l===null?(i.next=i,up(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=_b(r,t,i,n),e!==null&&(i=Kr(),Ln(e,r,n,i),zb(e,t,n))}}function Bb(r){var t=r.alternate;return r===Jt||t!==null&&t===Jt}function Ub(r,t){Na=oc=!0;var e=r.pending;e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t}function zb(r,t,e){if(e&4194240){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,Xd(r,e)}}var ac={readContext:En,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},w4={readContext:En,useCallback:function(r,t){return Wn().memoizedState=[r,t===void 0?null:t],r},useContext:En,useEffect:$0,useImperativeHandle:function(r,t,e){return e=e!=null?e.concat([r]):null,ku(4194308,4,Ob.bind(null,t,r),e)},useLayoutEffect:function(r,t){return ku(4194308,4,r,t)},useInsertionEffect:function(r,t){return ku(4,2,r,t)},useMemo:function(r,t){var e=Wn();return t=t===void 0?null:t,r=r(),e.memoizedState=[r,t],r},useReducer:function(r,t,e){var n=Wn();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},n.queue=r,r=r.dispatch=b4.bind(null,Jt,r),[n.memoizedState,r]},useRef:function(r){var t=Wn();return r={current:r},t.memoizedState=r},useState:z0,useDebugValue:bp,useDeferredValue:function(r){return Wn().memoizedState=r},useTransition:function(){var r=z0(!1),t=r[0];return r=y4.bind(null,r[1]),Wn().memoizedState=r,[t,r]},useMutableSource:function(){},useSyncExternalStore:function(r,t,e){var n=Jt,i=Wn();if(Xt){if(e===void 0)throw Error(Ie(407));e=e()}else{if(e=t(),xr===null)throw Error(Ie(349));Fs&30||kb(n,t,e)}i.memoizedState=e;var s={value:e,getSnapshot:t};return i.queue=s,$0(Ib.bind(null,n,s,r),[r]),n.flags|=2048,sl(9,Cb.bind(null,n,s,e,t),void 0,null),e},useId:function(){var r=Wn(),t=xr.identifierPrefix;if(Xt){var e=fi,n=hi;e=(n&~(1<<32-jn(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=nl++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=g4++,t=":"+t+"r"+e.toString(32)+":";return r.memoizedState=t},unstable_isNewReconciler:!1},_4={readContext:En,useCallback:jb,useContext:En,useEffect:yp,useImperativeHandle:Db,useInsertionEffect:Mb,useLayoutEffect:Nb,useMemo:Lb,useReducer:Hh,useRef:Pb,useState:function(){return Hh(il)},useDebugValue:bp,useDeferredValue:function(r){var t=Tn();return Fb(t,yr.memoizedState,r)},useTransition:function(){var r=Hh(il)[0],t=Tn().memoizedState;return[r,t]},useMutableSource:Eb,useSyncExternalStore:Tb,useId:Vb,unstable_isNewReconciler:!1},x4={readContext:En,useCallback:jb,useContext:En,useEffect:yp,useImperativeHandle:Db,useInsertionEffect:Mb,useLayoutEffect:Nb,useMemo:Lb,useReducer:qh,useRef:Pb,useState:function(){return qh(il)},useDebugValue:bp,useDeferredValue:function(r){var t=Tn();return yr===null?t.memoizedState=r:Fb(t,yr.memoizedState,r)},useTransition:function(){var r=qh(il)[0],t=Tn().memoizedState;return[r,t]},useMutableSource:Eb,useSyncExternalStore:Tb,useId:Vb,unstable_isNewReconciler:!1};function An(r,t){if(r&&r.defaultProps){t=Zt({},t),r=r.defaultProps;for(var e in r)t[e]===void 0&&(t[e]=r[e]);return t}return t}function $f(r,t,e,n){t=r.memoizedState,e=e(n,t),e=e==null?t:Zt({},t,e),r.memoizedState=e,r.lanes===0&&(r.updateQueue.baseState=e)}var Bc={isMounted:function(r){return(r=r._reactInternals)?Ks(r)===r:!1},enqueueSetState:function(r,t,e){r=r._reactInternals;var n=Kr(),i=Ji(r),s=mi(n,i);s.payload=t,e!=null&&(s.callback=e),t=Yi(r,s,i),t!==null&&(Ln(t,r,i,n),Eu(t,r,i))},enqueueReplaceState:function(r,t,e){r=r._reactInternals;var n=Kr(),i=Ji(r),s=mi(n,i);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=Yi(r,s,i),t!==null&&(Ln(t,r,i,n),Eu(t,r,i))},enqueueForceUpdate:function(r,t){r=r._reactInternals;var e=Kr(),n=Ji(r),i=mi(e,n);i.tag=2,t!=null&&(i.callback=t),t=Yi(r,i,n),t!==null&&(Ln(t,r,n,e),Eu(t,r,n))}};function H0(r,t,e,n,i,s,o){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Qa(e,n)||!Qa(i,s):!0}function $b(r,t,e){var n=!1,i=os,s=t.contextType;return typeof s=="object"&&s!==null?s=En(s):(i=on(t)?js:Ur.current,n=t.contextTypes,s=(n=n!=null)?jo(r,i):os),t=new t(e,s),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bc,r.stateNode=t,t._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),t}function q0(r,t,e,n){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==r&&Bc.enqueueReplaceState(t,t.state,null)}function Hf(r,t,e,n){var i=r.stateNode;i.props=e,i.state=r.memoizedState,i.refs={},cp(r);var s=t.contextType;typeof s=="object"&&s!==null?i.context=En(s):(s=on(t)?js:Ur.current,i.context=jo(r,s)),i.state=r.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&($f(r,t,s,e),i.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bc.enqueueReplaceState(i,i.state,null),ic(r,e,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function Bo(r,t){try{var e="",n=t;do e+=Y_(n),n=n.return;while(n);var i=e}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:t,stack:i,digest:null}}function Wh(r,t,e){return{value:r,source:null,stack:e??null,digest:t??null}}function qf(r,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var S4=typeof WeakMap=="function"?WeakMap:Map;function Hb(r,t,e){e=mi(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){uc||(uc=!0,td=n),qf(r,t)},e}function qb(r,t,e){e=mi(-1,e),e.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;e.payload=function(){return n(i)},e.callback=function(){qf(r,t)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){qf(r,t),typeof n!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function W0(r,t,e){var n=r.pingCache;if(n===null){n=r.pingCache=new S4;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(e)||(i.add(e),r=L4.bind(null,r,t,e),t.then(r,r))}function G0(r){do{var t;if((t=r.tag===13)&&(t=r.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return r;r=r.return}while(r!==null);return null}function K0(r,t,e,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===t?r.flags|=65536:(r.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=mi(-1,1),t.tag=2,Yi(e,t,1))),e.lanes|=1),r)}var E4=ki.ReactCurrentOwner,nn=!1;function Gr(r,t,e,n){t.child=r===null?wb(t,null,e,n):Fo(t,r.child,e,n)}function X0(r,t,e,n,i){e=e.render;var s=t.ref;return Io(t,i),n=mp(r,t,e,n,s,i),e=gp(),r!==null&&!nn?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~i,wi(r,t,i)):(Xt&&e&&np(t),t.flags|=1,Gr(r,t,n,i),t.child)}function Y0(r,t,e,n,i){if(r===null){var s=e.type;return typeof s=="function"&&!kp(s)&&s.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=s,Wb(r,t,s,n,i)):(r=Au(e.type,null,n,t,t.mode,i),r.ref=t.ref,r.return=t,t.child=r)}if(s=r.child,!(r.lanes&i)){var o=s.memoizedProps;if(e=e.compare,e=e!==null?e:Qa,e(o,n)&&r.ref===t.ref)return wi(r,t,i)}return t.flags|=1,r=Zi(s,n),r.ref=t.ref,r.return=t,t.child=r}function Wb(r,t,e,n,i){if(r!==null){var s=r.memoizedProps;if(Qa(s,n)&&r.ref===t.ref)if(nn=!1,t.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(nn=!0);else return t.lanes=r.lanes,wi(r,t,i)}return Wf(r,t,e,n,i)}function Gb(r,t,e){var n=t.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(xo,un),un|=e;else{if(!(e&1073741824))return r=s!==null?s.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:r,cachePool:null,transitions:null},t.updateQueue=null,Ht(xo,un),un|=r,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:e,Ht(xo,un),un|=n}else s!==null?(n=s.baseLanes|e,t.memoizedState=null):n=e,Ht(xo,un),un|=n;return Gr(r,t,i,e),t.child}function Kb(r,t){var e=t.ref;(r===null&&e!==null||r!==null&&r.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Wf(r,t,e,n,i){var s=on(e)?js:Ur.current;return s=jo(t,s),Io(t,i),e=mp(r,t,e,n,s,i),n=gp(),r!==null&&!nn?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~i,wi(r,t,i)):(Xt&&n&&np(t),t.flags|=1,Gr(r,t,e,i),t.child)}function Q0(r,t,e,n,i){if(on(e)){var s=!0;Zu(t)}else s=!1;if(Io(t,i),t.stateNode===null)Cu(r,t),$b(t,e,n),Hf(t,e,n,i),n=!0;else if(r===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var l=o.context,a=e.contextType;typeof a=="object"&&a!==null?a=En(a):(a=on(e)?js:Ur.current,a=jo(t,a));var c=e.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||l!==a)&&q0(t,o,n,a),Oi=!1;var h=t.memoizedState;o.state=h,ic(t,n,o,i),l=t.memoizedState,u!==n||h!==l||sn.current||Oi?(typeof c=="function"&&($f(t,e,c,n),l=t.memoizedState),(u=Oi||H0(t,e,u,n,h,l,a))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=a,n=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,xb(r,t),u=t.memoizedProps,a=t.type===t.elementType?u:An(t.type,u),o.props=a,d=t.pendingProps,h=o.context,l=e.contextType,typeof l=="object"&&l!==null?l=En(l):(l=on(e)?js:Ur.current,l=jo(t,l));var f=e.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==d||h!==l)&&q0(t,o,n,l),Oi=!1,h=t.memoizedState,o.state=h,ic(t,n,o,i);var m=t.memoizedState;u!==d||h!==m||sn.current||Oi?(typeof f=="function"&&($f(t,e,f,n),m=t.memoizedState),(a=Oi||H0(t,e,a,n,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===r.memoizedProps&&h===r.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&h===r.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=a):(typeof o.componentDidUpdate!="function"||u===r.memoizedProps&&h===r.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&h===r.memoizedState||(t.flags|=1024),n=!1)}return Gf(r,t,e,n,s,i)}function Gf(r,t,e,n,i,s){Kb(r,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&j0(t,e,!1),wi(r,t,s);n=t.stateNode,E4.current=t;var u=o&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,r!==null&&o?(t.child=Fo(t,r.child,null,s),t.child=Fo(t,null,u,s)):Gr(r,t,u,s),t.memoizedState=n.state,i&&j0(t,e,!0),t.child}function Xb(r){var t=r.stateNode;t.pendingContext?D0(r,t.pendingContext,t.pendingContext!==t.context):t.context&&D0(r,t.context,!1),hp(r,t.containerInfo)}function J0(r,t,e,n,i){return Lo(),sp(i),t.flags|=256,Gr(r,t,e,n),t.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Xf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Yb(r,t,e){var n=t.pendingProps,i=Qt.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=r!==null&&r.memoizedState===null?!1:(i&2)!==0),u?(s=!0,t.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),Ht(Qt,i&1),r===null)return Uf(t),r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(t.mode&1?r.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,r=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$c(o,n,0,null),r=Ps(r,n,e,null),s.return=t,r.return=t,s.sibling=r,t.child=s,t.child.memoizedState=Xf(e),t.memoizedState=Kf,r):vp(t,o));if(i=r.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return T4(r,t,o,n,u,i,e);if(s){s=n.fallback,o=t.mode,i=r.child,u=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Zi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Zi(u,s):(s=Ps(s,o,e,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=r.child.memoizedState,o=o===null?Xf(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=r.childLanes&~e,t.memoizedState=Kf,n}return s=r.child,r=s.sibling,n=Zi(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,r!==null&&(e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)),t.child=n,t.memoizedState=null,n}function vp(r,t){return t=$c({mode:"visible",children:t},r.mode,0,null),t.return=r,r.child=t}function su(r,t,e,n){return n!==null&&sp(n),Fo(t,r.child,null,e),r=vp(t,t.pendingProps.children),r.flags|=2,t.memoizedState=null,r}function T4(r,t,e,n,i,s,o){if(e)return t.flags&256?(t.flags&=-257,n=Wh(Error(Ie(422))),su(r,t,o,n)):t.memoizedState!==null?(t.child=r.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=$c({mode:"visible",children:n.children},i,0,null),s=Ps(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Fo(t,r.child,null,o),t.child.memoizedState=Xf(o),t.memoizedState=Kf,s);if(!(t.mode&1))return su(r,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(Ie(419)),n=Wh(s,n,void 0),su(r,t,o,n)}if(u=(o&r.childLanes)!==0,nn||u){if(n=xr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vi(r,i),Ln(n,r,i,-1))}return Tp(),n=Wh(Error(Ie(421))),su(r,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=r.child,t=F4.bind(null,r),i._reactRetry=t,null):(r=s.treeContext,hn=Xi(i.nextSibling),pn=t,Xt=!0,Mn=null,r!==null&&(vn[wn++]=hi,vn[wn++]=fi,vn[wn++]=Ls,hi=r.id,fi=r.overflow,Ls=t),t=vp(t,n.children),t.flags|=4096,t)}function Z0(r,t,e){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t),zf(r.return,t,e)}function Gh(r,t,e,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=e,s.tailMode=i)}function Qb(r,t,e){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Gr(r,t,n.children,e),n=Qt.current,n&2)n=n&1|2,t.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Z0(r,e,t);else if(r.tag===19)Z0(r,e,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Ht(Qt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)r=e.alternate,r!==null&&sc(r)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),Gh(t,!1,i,e,s);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(r=i.alternate,r!==null&&sc(r)===null){t.child=i;break}r=i.sibling,i.sibling=e,e=i,i=r}Gh(t,!0,e,null,s);break;case"together":Gh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cu(r,t){!(t.mode&1)&&r!==null&&(r.alternate=null,t.alternate=null,t.flags|=2)}function wi(r,t,e){if(r!==null&&(t.dependencies=r.dependencies),Vs|=t.lanes,!(e&t.childLanes))return null;if(r!==null&&t.child!==r.child)throw Error(Ie(153));if(t.child!==null){for(r=t.child,e=Zi(r,r.pendingProps),t.child=e,e.return=t;r.sibling!==null;)r=r.sibling,e=e.sibling=Zi(r,r.pendingProps),e.return=t;e.sibling=null}return t.child}function k4(r,t,e){switch(t.tag){case 3:Xb(t),Lo();break;case 5:Sb(t);break;case 1:on(t.type)&&Zu(t);break;case 4:hp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ht(rc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ht(Qt,Qt.current&1),t.flags|=128,null):e&t.child.childLanes?Yb(r,t,e):(Ht(Qt,Qt.current&1),r=wi(r,t,e),r!==null?r.sibling:null);Ht(Qt,Qt.current&1);break;case 19:if(n=(e&t.childLanes)!==0,r.flags&128){if(n)return Qb(r,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ht(Qt,Qt.current),n)break;return null;case 22:case 23:return t.lanes=0,Gb(r,t,e)}return wi(r,t,e)}var Jb,Yf,Zb,ev;Jb=function(r,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)r.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Yf=function(){};Zb=function(r,t,e,n){var i=r.memoizedProps;if(i!==n){r=t.stateNode,Is(Qn.current);var s=null;switch(e){case"input":i=bf(r,i),n=bf(r,n),s=[];break;case"select":i=Zt({},i,{value:void 0}),n=Zt({},n,{value:void 0}),s=[];break;case"textarea":i=_f(r,i),n=_f(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=Qu)}Sf(e,n);var o;e=null;for(a in i)if(!n.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var u=i[a];for(o in u)u.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ha.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in n){var l=n[a];if(u=i!=null?i[a]:void 0,n.hasOwnProperty(a)&&l!==u&&(l!=null||u!=null))if(a==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(e||(e={}),e[o]=l[o])}else e||(s||(s=[]),s.push(a,e)),e=l;else a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(a,l)):a==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(a,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(a)?(l!=null&&a==="onScroll"&&Wt("scroll",r),s||u===l||(s=[])):(s=s||[]).push(a,l))}e&&(s=s||[]).push("style",e);var a=s;(t.updateQueue=a)&&(t.flags|=4)}};ev=function(r,t,e,n){e!==n&&(t.flags|=4)};function ya(r,t){if(!Xt)switch(r.tailMode){case"hidden":t=r.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?r.tail=null:e.sibling=null;break;case"collapsed":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function jr(r){var t=r.alternate!==null&&r.alternate.child===r.child,e=0,n=0;if(t)for(var i=r.child;i!==null;)e|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)e|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=e,t}function C4(r,t,e){var n=t.pendingProps;switch(ip(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(t),null;case 1:return on(t.type)&&Ju(),jr(t),null;case 3:return n=t.stateNode,Vo(),Kt(sn),Kt(Ur),dp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(nu(t)?t.flags|=4:r===null||r.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&(id(Mn),Mn=null))),Yf(r,t),jr(t),null;case 5:fp(t);var i=Is(rl.current);if(e=t.type,r!==null&&t.stateNode!=null)Zb(r,t,e,n,i),r.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ie(166));return jr(t),null}if(r=Is(Qn.current),nu(t)){n=t.stateNode,e=t.type;var s=t.memoizedProps;switch(n[Kn]=t,n[el]=s,r=(t.mode&1)!==0,e){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(i=0;i<Sa.length;i++)Wt(Sa[i],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":l0(n,s),Wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Wt("invalid",n);break;case"textarea":c0(n,s),Wt("invalid",n)}Sf(e,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&ru(n.textContent,u,r),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ru(n.textContent,u,r),i=["children",""+u]):Ha.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Wt("scroll",n)}switch(e){case"input":Kl(n),u0(n,s,!0);break;case"textarea":Kl(n),h0(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Qu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Iy(e)),r==="http://www.w3.org/1999/xhtml"?e==="script"?(r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=o.createElement(e,{is:n.is}):(r=o.createElement(e),e==="select"&&(o=r,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):r=o.createElementNS(r,e),r[Kn]=t,r[el]=n,Jb(r,t,!1,!1),t.stateNode=r;e:{switch(o=Ef(e,n),e){case"dialog":Wt("cancel",r),Wt("close",r),i=n;break;case"iframe":case"object":case"embed":Wt("load",r),i=n;break;case"video":case"audio":for(i=0;i<Sa.length;i++)Wt(Sa[i],r);i=n;break;case"source":Wt("error",r),i=n;break;case"img":case"image":case"link":Wt("error",r),Wt("load",r),i=n;break;case"details":Wt("toggle",r),i=n;break;case"input":l0(r,n),i=bf(r,n),Wt("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=Zt({},n,{value:void 0}),Wt("invalid",r);break;case"textarea":c0(r,n),i=_f(r,n),Wt("invalid",r);break;default:i=n}Sf(e,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?Py(r,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ry(r,l)):s==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&qa(r,l):typeof l=="number"&&qa(r,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ha.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Wt("scroll",r):l!=null&&$d(r,s,l,o))}switch(e){case"input":Kl(r),u0(r,n,!1);break;case"textarea":Kl(r),h0(r);break;case"option":n.value!=null&&r.setAttribute("value",""+ss(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?Eo(r,!!n.multiple,s,!1):n.defaultValue!=null&&Eo(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=Qu)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jr(t),null;case 6:if(r&&t.stateNode!=null)ev(r,t,r.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ie(166));if(e=Is(rl.current),Is(Qn.current),nu(t)){if(n=t.stateNode,e=t.memoizedProps,n[Kn]=t,(s=n.nodeValue!==e)&&(r=pn,r!==null))switch(r.tag){case 3:ru(n.nodeValue,e,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ru(n.nodeValue,e,(r.mode&1)!==0)}s&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[Kn]=t,t.stateNode=n}return jr(t),null;case 13:if(Kt(Qt),n=t.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Xt&&hn!==null&&t.mode&1&&!(t.flags&128))bb(),Lo(),t.flags|=98560,s=!1;else if(s=nu(t),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(Ie(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[Kn]=t}else Lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jr(t),s=!1}else Mn!==null&&(id(Mn),Mn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(r===null||Qt.current&1?br===0&&(br=3):Tp())),t.updateQueue!==null&&(t.flags|=4),jr(t),null);case 4:return Vo(),Yf(r,t),r===null&&Ja(t.stateNode.containerInfo),jr(t),null;case 10:return lp(t.type._context),jr(t),null;case 17:return on(t.type)&&Ju(),jr(t),null;case 19:if(Kt(Qt),s=t.memoizedState,s===null)return jr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)ya(s,!1);else{if(br!==0||r!==null&&r.flags&128)for(r=t.child;r!==null;){if(o=sc(r),o!==null){for(t.flags|=128,ya(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)s=e,r=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e=e.sibling;return Ht(Qt,Qt.current&1|2),t.child}r=r.sibling}s.tail!==null&&ar()>Uo&&(t.flags|=128,n=!0,ya(s,!1),t.lanes=4194304)}else{if(!n)if(r=sc(o),r!==null){if(t.flags|=128,n=!0,e=r.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),ya(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xt)return jr(t),null}else 2*ar()-s.renderingStartTime>Uo&&e!==1073741824&&(t.flags|=128,n=!0,ya(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ar(),t.sibling=null,e=Qt.current,Ht(Qt,n?e&1|2:e&1),t):(jr(t),null);case 22:case 23:return Ep(),n=t.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?un&1073741824&&(jr(t),t.subtreeFlags&6&&(t.flags|=8192)):jr(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function I4(r,t){switch(ip(t),t.tag){case 1:return on(t.type)&&Ju(),r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 3:return Vo(),Kt(sn),Kt(Ur),dp(),r=t.flags,r&65536&&!(r&128)?(t.flags=r&-65537|128,t):null;case 5:return fp(t),null;case 13:if(Kt(Qt),r=t.memoizedState,r!==null&&r.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));Lo()}return r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 19:return Kt(Qt),null;case 4:return Vo(),null;case 10:return lp(t.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var ou=!1,Vr=!1,R4=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function _o(r,t){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){nr(r,t,n)}else e.current=null}function Qf(r,t,e){try{e()}catch(n){nr(r,t,n)}}var eg=!1;function A4(r,t){if(Of=Ku,r=sb(),rp(r)){if("selectionStart"in r)var e={start:r.selectionStart,end:r.selectionEnd};else e:{e=(e=r.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{e.nodeType,s.nodeType}catch{e=null;break e}var o=0,u=-1,l=-1,a=0,c=0,d=r,h=null;t:for(;;){for(var f;d!==e||i!==0&&d.nodeType!==3||(u=o+i),d!==s||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===r)break t;if(h===e&&++a===i&&(u=o),h===s&&++c===n&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}e=u===-1||l===-1?null:{start:u,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(Df={focusedElem:r,selectionRange:e},Ku=!1,Ue=t;Ue!==null;)if(t=Ue,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,Ue=r;else for(;Ue!==null;){t=Ue;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,p=m.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:An(t.type,y),p);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(k){nr(t,t.return,k)}if(r=t.sibling,r!==null){r.return=t.return,Ue=r;break}Ue=t.return}return m=eg,eg=!1,m}function Oa(r,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qf(t,e,s)}i=i.next}while(i!==n)}}function Uc(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&r)===r){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function Jf(r){var t=r.ref;if(t!==null){var e=r.stateNode;switch(r.tag){case 5:r=e;break;default:r=e}typeof t=="function"?t(r):t.current=r}}function tv(r){var t=r.alternate;t!==null&&(r.alternate=null,tv(t)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(t=r.stateNode,t!==null&&(delete t[Kn],delete t[el],delete t[Ff],delete t[f4],delete t[d4])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function rv(r){return r.tag===5||r.tag===3||r.tag===4}function tg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Zf(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(r,t):e.insertBefore(r,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(r,e)):(t=e,t.appendChild(r)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Qu));else if(n!==4&&(r=r.child,r!==null))for(Zf(r,t,e),r=r.sibling;r!==null;)Zf(r,t,e),r=r.sibling}function ed(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.insertBefore(r,t):e.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(ed(r,t,e),r=r.sibling;r!==null;)ed(r,t,e),r=r.sibling}var kr=null,Pn=!1;function Pi(r,t,e){for(e=e.child;e!==null;)nv(r,t,e),e=e.sibling}function nv(r,t,e){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Nc,e)}catch{}switch(e.tag){case 5:Vr||_o(e,t);case 6:var n=kr,i=Pn;kr=null,Pi(r,t,e),kr=n,Pn=i,kr!==null&&(Pn?(r=kr,e=e.stateNode,r.nodeType===8?r.parentNode.removeChild(e):r.removeChild(e)):kr.removeChild(e.stateNode));break;case 18:kr!==null&&(Pn?(r=kr,e=e.stateNode,r.nodeType===8?Bh(r.parentNode,e):r.nodeType===1&&Bh(r,e),Xa(r)):Bh(kr,e.stateNode));break;case 4:n=kr,i=Pn,kr=e.stateNode.containerInfo,Pn=!0,Pi(r,t,e),kr=n,Pn=i;break;case 0:case 11:case 14:case 15:if(!Vr&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qf(e,t,o),i=i.next}while(i!==n)}Pi(r,t,e);break;case 1:if(!Vr&&(_o(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(u){nr(e,t,u)}Pi(r,t,e);break;case 21:Pi(r,t,e);break;case 22:e.mode&1?(Vr=(n=Vr)||e.memoizedState!==null,Pi(r,t,e),Vr=n):Pi(r,t,e);break;default:Pi(r,t,e)}}function rg(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var e=r.stateNode;e===null&&(e=r.stateNode=new R4),t.forEach(function(n){var i=V4.bind(null,r,n);e.has(n)||(e.add(n),n.then(i,i))})}}function Rn(r,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];try{var s=r,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:kr=u.stateNode,Pn=!1;break e;case 3:kr=u.stateNode.containerInfo,Pn=!0;break e;case 4:kr=u.stateNode.containerInfo,Pn=!0;break e}u=u.return}if(kr===null)throw Error(Ie(160));nv(s,o,i),kr=null,Pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(a){nr(i,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iv(t,r),t=t.sibling}function iv(r,t){var e=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Rn(t,r),qn(r),n&4){try{Oa(3,r,r.return),Uc(3,r)}catch(y){nr(r,r.return,y)}try{Oa(5,r,r.return)}catch(y){nr(r,r.return,y)}}break;case 1:Rn(t,r),qn(r),n&512&&e!==null&&_o(e,e.return);break;case 5:if(Rn(t,r),qn(r),n&512&&e!==null&&_o(e,e.return),r.flags&32){var i=r.stateNode;try{qa(i,"")}catch(y){nr(r,r.return,y)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,o=e!==null?e.memoizedProps:s,u=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&ky(i,s),Ef(u,o);var a=Ef(u,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Py(i,d):c==="dangerouslySetInnerHTML"?Ry(i,d):c==="children"?qa(i,d):$d(i,c,d,a)}switch(u){case"input":vf(i,s);break;case"textarea":Cy(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Eo(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Eo(i,!!s.multiple,s.defaultValue,!0):Eo(i,!!s.multiple,s.multiple?[]:"",!1))}i[el]=s}catch(y){nr(r,r.return,y)}}break;case 6:if(Rn(t,r),qn(r),n&4){if(r.stateNode===null)throw Error(Ie(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(y){nr(r,r.return,y)}}break;case 3:if(Rn(t,r),qn(r),n&4&&e!==null&&e.memoizedState.isDehydrated)try{Xa(t.containerInfo)}catch(y){nr(r,r.return,y)}break;case 4:Rn(t,r),qn(r);break;case 13:Rn(t,r),qn(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xp=ar())),n&4&&rg(r);break;case 22:if(c=e!==null&&e.memoizedState!==null,r.mode&1?(Vr=(a=Vr)||c,Rn(t,r),Vr=a):Rn(t,r),qn(r),n&8192){if(a=r.memoizedState!==null,(r.stateNode.isHidden=a)&&!c&&r.mode&1)for(Ue=r,c=r.child;c!==null;){for(d=Ue=c;Ue!==null;){switch(h=Ue,f=h.child,h.tag){case 0:case 11:case 14:case 15:Oa(4,h,h.return);break;case 1:_o(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,e=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){nr(n,e,y)}}break;case 5:_o(h,h.return);break;case 22:if(h.memoizedState!==null){ig(d);continue}}f!==null?(f.return=h,Ue=f):ig(d)}c=c.sibling}e:for(c=null,d=r;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,a?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=Ay("display",o))}catch(y){nr(r,r.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=a?"":d.memoizedProps}catch(y){nr(r,r.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===r)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rn(t,r),qn(r),n&4&&rg(r);break;case 21:break;default:Rn(t,r),qn(r)}}function qn(r){var t=r.flags;if(t&2){try{e:{for(var e=r.return;e!==null;){if(rv(e)){var n=e;break e}e=e.return}throw Error(Ie(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(qa(i,""),n.flags&=-33);var s=tg(r);ed(r,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=tg(r);Zf(r,u,o);break;default:throw Error(Ie(161))}}catch(l){nr(r,r.return,l)}r.flags&=-3}t&4096&&(r.flags&=-4097)}function P4(r,t,e){Ue=r,sv(r)}function sv(r,t,e){for(var n=(r.mode&1)!==0;Ue!==null;){var i=Ue,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ou;if(!o){var u=i.alternate,l=u!==null&&u.memoizedState!==null||Vr;u=ou;var a=Vr;if(ou=o,(Vr=l)&&!a)for(Ue=i;Ue!==null;)o=Ue,l=o.child,o.tag===22&&o.memoizedState!==null?sg(i):l!==null?(l.return=o,Ue=l):sg(i);for(;s!==null;)Ue=s,sv(s),s=s.sibling;Ue=i,ou=u,Vr=a}ng(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ue=s):ng(r)}}function ng(r){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vr||Uc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vr)if(e===null)n.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:An(t.type,e.memoizedProps);n.componentDidUpdate(i,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&U0(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}U0(t,o,e)}break;case 5:var u=t.stateNode;if(e===null&&t.flags&4){e=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var c=a.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Xa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Vr||t.flags&512&&Jf(t)}catch(h){nr(t,t.return,h)}}if(t===r){Ue=null;break}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}}function ig(r){for(;Ue!==null;){var t=Ue;if(t===r){Ue=null;break}var e=t.sibling;if(e!==null){e.return=t.return,Ue=e;break}Ue=t.return}}function sg(r){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{Uc(4,t)}catch(l){nr(t,e,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){nr(t,i,l)}}var s=t.return;try{Jf(t)}catch(l){nr(t,s,l)}break;case 5:var o=t.return;try{Jf(t)}catch(l){nr(t,o,l)}}}catch(l){nr(t,t.return,l)}if(t===r){Ue=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ue=u;break}Ue=t.return}}var M4=Math.ceil,lc=ki.ReactCurrentDispatcher,wp=ki.ReactCurrentOwner,Sn=ki.ReactCurrentBatchConfig,Ot=0,xr=null,fr=null,Rr=0,un=0,xo=ms(0),br=0,ol=null,Vs=0,zc=0,_p=0,Da=null,tn=null,xp=0,Uo=1/0,ui=null,uc=!1,td=null,Qi=null,au=!1,$i=null,cc=0,ja=0,rd=null,Iu=-1,Ru=0;function Kr(){return Ot&6?ar():Iu!==-1?Iu:Iu=ar()}function Ji(r){return r.mode&1?Ot&2&&Rr!==0?Rr&-Rr:m4.transition!==null?(Ru===0&&(Ru=$y()),Ru):(r=Bt,r!==0||(r=window.event,r=r===void 0?16:Yy(r.type)),r):1}function Ln(r,t,e,n){if(50<ja)throw ja=0,rd=null,Error(Ie(185));_l(r,e,n),(!(Ot&2)||r!==xr)&&(r===xr&&(!(Ot&2)&&(zc|=e),br===4&&ji(r,Rr)),an(r,n),e===1&&Ot===0&&!(t.mode&1)&&(Uo=ar()+500,Fc&&gs()))}function an(r,t){var e=r.callbackNode;m3(r,t);var n=Gu(r,r===xr?Rr:0);if(n===0)e!==null&&p0(e),r.callbackNode=null,r.callbackPriority=0;else if(t=n&-n,r.callbackPriority!==t){if(e!=null&&p0(e),t===1)r.tag===0?p4(og.bind(null,r)):mb(og.bind(null,r)),c4(function(){!(Ot&6)&&gs()}),e=null;else{switch(Hy(n)){case 1:e=Kd;break;case 4:e=Uy;break;case 16:e=Wu;break;case 536870912:e=zy;break;default:e=Wu}e=dv(e,ov.bind(null,r))}r.callbackPriority=t,r.callbackNode=e}}function ov(r,t){if(Iu=-1,Ru=0,Ot&6)throw Error(Ie(327));var e=r.callbackNode;if(Ro()&&r.callbackNode!==e)return null;var n=Gu(r,r===xr?Rr:0);if(n===0)return null;if(n&30||n&r.expiredLanes||t)t=hc(r,n);else{t=n;var i=Ot;Ot|=2;var s=lv();(xr!==r||Rr!==t)&&(ui=null,Uo=ar()+500,As(r,t));do try{D4();break}catch(u){av(r,u)}while(!0);ap(),lc.current=s,Ot=i,fr!==null?t=0:(xr=null,Rr=0,t=br)}if(t!==0){if(t===2&&(i=Rf(r),i!==0&&(n=i,t=nd(r,i))),t===1)throw e=ol,As(r,0),ji(r,n),an(r,ar()),e;if(t===6)ji(r,n);else{if(i=r.current.alternate,!(n&30)&&!N4(i)&&(t=hc(r,n),t===2&&(s=Rf(r),s!==0&&(n=s,t=nd(r,s))),t===1))throw e=ol,As(r,0),ji(r,n),an(r,ar()),e;switch(r.finishedWork=i,r.finishedLanes=n,t){case 0:case 1:throw Error(Ie(345));case 2:Es(r,tn,ui);break;case 3:if(ji(r,n),(n&130023424)===n&&(t=xp+500-ar(),10<t)){if(Gu(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){Kr(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=Lf(Es.bind(null,r,tn,ui),t);break}Es(r,tn,ui);break;case 4:if(ji(r,n),(n&4194240)===n)break;for(t=r.eventTimes,i=-1;0<n;){var o=31-jn(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*M4(n/1960))-n,10<n){r.timeoutHandle=Lf(Es.bind(null,r,tn,ui),n);break}Es(r,tn,ui);break;case 5:Es(r,tn,ui);break;default:throw Error(Ie(329))}}}return an(r,ar()),r.callbackNode===e?ov.bind(null,r):null}function nd(r,t){var e=Da;return r.current.memoizedState.isDehydrated&&(As(r,t).flags|=256),r=hc(r,t),r!==2&&(t=tn,tn=e,t!==null&&id(t)),r}function id(r){tn===null?tn=r:tn.push.apply(tn,r)}function N4(r){for(var t=r;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var i=e[n],s=i.getSnapshot;i=i.value;try{if(!Vn(s(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ji(r,t){for(t&=~_p,t&=~zc,r.suspendedLanes|=t,r.pingedLanes&=~t,r=r.expirationTimes;0<t;){var e=31-jn(t),n=1<<e;r[e]=-1,t&=~n}}function og(r){if(Ot&6)throw Error(Ie(327));Ro();var t=Gu(r,0);if(!(t&1))return an(r,ar()),null;var e=hc(r,t);if(r.tag!==0&&e===2){var n=Rf(r);n!==0&&(t=n,e=nd(r,n))}if(e===1)throw e=ol,As(r,0),ji(r,t),an(r,ar()),e;if(e===6)throw Error(Ie(345));return r.finishedWork=r.current.alternate,r.finishedLanes=t,Es(r,tn,ui),an(r,ar()),null}function Sp(r,t){var e=Ot;Ot|=1;try{return r(t)}finally{Ot=e,Ot===0&&(Uo=ar()+500,Fc&&gs())}}function Bs(r){$i!==null&&$i.tag===0&&!(Ot&6)&&Ro();var t=Ot;Ot|=1;var e=Sn.transition,n=Bt;try{if(Sn.transition=null,Bt=1,r)return r()}finally{Bt=n,Sn.transition=e,Ot=t,!(Ot&6)&&gs()}}function Ep(){un=xo.current,Kt(xo)}function As(r,t){r.finishedWork=null,r.finishedLanes=0;var e=r.timeoutHandle;if(e!==-1&&(r.timeoutHandle=-1,u4(e)),fr!==null)for(e=fr.return;e!==null;){var n=e;switch(ip(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ju();break;case 3:Vo(),Kt(sn),Kt(Ur),dp();break;case 5:fp(n);break;case 4:Vo();break;case 13:Kt(Qt);break;case 19:Kt(Qt);break;case 10:lp(n.type._context);break;case 22:case 23:Ep()}e=e.return}if(xr=r,fr=r=Zi(r.current,null),Rr=un=t,br=0,ol=null,_p=zc=Vs=0,tn=Da=null,Cs!==null){for(t=0;t<Cs.length;t++)if(e=Cs[t],n=e.interleaved,n!==null){e.interleaved=null;var i=n.next,s=e.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}e.pending=n}Cs=null}return r}function av(r,t){do{var e=fr;try{if(ap(),Tu.current=ac,oc){for(var n=Jt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}oc=!1}if(Fs=0,_r=yr=Jt=null,Na=!1,nl=0,wp.current=null,e===null||e.return===null){br=1,ol=t,fr=null;break}e:{var s=r,o=e.return,u=e,l=t;if(t=Rr,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var a=l,c=u,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=G0(o);if(f!==null){f.flags&=-257,K0(f,o,u,s,t),f.mode&1&&W0(s,a,t),t=f,l=a;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break e}else{if(!(t&1)){W0(s,a,t),Tp();break e}l=Error(Ie(426))}}else if(Xt&&u.mode&1){var p=G0(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),K0(p,o,u,s,t),sp(Bo(l,u));break e}}s=l=Bo(l,u),br!==4&&(br=2),Da===null?Da=[s]:Da.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=Hb(s,l,t);B0(s,b);break e;case 1:u=l;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qi===null||!Qi.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=qb(s,u,t);B0(s,k);break e}}s=s.return}while(s!==null)}cv(e)}catch(A){t=A,fr===e&&e!==null&&(fr=e=e.return);continue}break}while(!0)}function lv(){var r=lc.current;return lc.current=ac,r===null?ac:r}function Tp(){(br===0||br===3||br===2)&&(br=4),xr===null||!(Vs&268435455)&&!(zc&268435455)||ji(xr,Rr)}function hc(r,t){var e=Ot;Ot|=2;var n=lv();(xr!==r||Rr!==t)&&(ui=null,As(r,t));do try{O4();break}catch(i){av(r,i)}while(!0);if(ap(),Ot=e,lc.current=n,fr!==null)throw Error(Ie(261));return xr=null,Rr=0,br}function O4(){for(;fr!==null;)uv(fr)}function D4(){for(;fr!==null&&!o3();)uv(fr)}function uv(r){var t=fv(r.alternate,r,un);r.memoizedProps=r.pendingProps,t===null?cv(r):fr=t,wp.current=null}function cv(r){var t=r;do{var e=t.alternate;if(r=t.return,t.flags&32768){if(e=I4(e,t),e!==null){e.flags&=32767,fr=e;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{br=6,fr=null;return}}else if(e=C4(e,t,un),e!==null){fr=e;return}if(t=t.sibling,t!==null){fr=t;return}fr=t=r}while(t!==null);br===0&&(br=5)}function Es(r,t,e){var n=Bt,i=Sn.transition;try{Sn.transition=null,Bt=1,j4(r,t,e,n)}finally{Sn.transition=i,Bt=n}return null}function j4(r,t,e,n){do Ro();while($i!==null);if(Ot&6)throw Error(Ie(327));e=r.finishedWork;var i=r.finishedLanes;if(e===null)return null;if(r.finishedWork=null,r.finishedLanes=0,e===r.current)throw Error(Ie(177));r.callbackNode=null,r.callbackPriority=0;var s=e.lanes|e.childLanes;if(g3(r,s),r===xr&&(fr=xr=null,Rr=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||au||(au=!0,dv(Wu,function(){return Ro(),null})),s=(e.flags&15990)!==0,e.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=Bt;Bt=1;var u=Ot;Ot|=4,wp.current=null,A4(r,e),iv(e,r),r4(Df),Ku=!!Of,Df=Of=null,r.current=e,P4(e),a3(),Ot=u,Bt=o,Sn.transition=s}else r.current=e;if(au&&(au=!1,$i=r,cc=i),s=r.pendingLanes,s===0&&(Qi=null),c3(e.stateNode),an(r,ar()),t!==null)for(n=r.onRecoverableError,e=0;e<t.length;e++)i=t[e],n(i.value,{componentStack:i.stack,digest:i.digest});if(uc)throw uc=!1,r=td,td=null,r;return cc&1&&r.tag!==0&&Ro(),s=r.pendingLanes,s&1?r===rd?ja++:(ja=0,rd=r):ja=0,gs(),null}function Ro(){if($i!==null){var r=Hy(cc),t=Sn.transition,e=Bt;try{if(Sn.transition=null,Bt=16>r?16:r,$i===null)var n=!1;else{if(r=$i,$i=null,cc=0,Ot&6)throw Error(Ie(331));var i=Ot;for(Ot|=4,Ue=r.current;Ue!==null;){var s=Ue,o=s.child;if(Ue.flags&16){var u=s.deletions;if(u!==null){for(var l=0;l<u.length;l++){var a=u[l];for(Ue=a;Ue!==null;){var c=Ue;switch(c.tag){case 0:case 11:case 15:Oa(8,c,s)}var d=c.child;if(d!==null)d.return=c,Ue=d;else for(;Ue!==null;){c=Ue;var h=c.sibling,f=c.return;if(tv(c),c===a){Ue=null;break}if(h!==null){h.return=f,Ue=h;break}Ue=f}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var p=y.sibling;y.sibling=null,y=p}while(y!==null)}}Ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ue=o;else e:for(;Ue!==null;){if(s=Ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oa(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ue=b;break e}Ue=s.return}}var g=r.current;for(Ue=g;Ue!==null;){o=Ue;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ue=w;else e:for(o=g;Ue!==null;){if(u=Ue,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Uc(9,u)}}catch(A){nr(u,u.return,A)}if(u===o){Ue=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,Ue=k;break e}Ue=u.return}}if(Ot=i,gs(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Nc,r)}catch{}n=!0}return n}finally{Bt=e,Sn.transition=t}}return!1}function ag(r,t,e){t=Bo(e,t),t=Hb(r,t,1),r=Yi(r,t,1),t=Kr(),r!==null&&(_l(r,1,t),an(r,t))}function nr(r,t,e){if(r.tag===3)ag(r,r,e);else for(;t!==null;){if(t.tag===3){ag(t,r,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qi===null||!Qi.has(n))){r=Bo(e,r),r=qb(t,r,1),t=Yi(t,r,1),r=Kr(),t!==null&&(_l(t,1,r),an(t,r));break}}t=t.return}}function L4(r,t,e){var n=r.pingCache;n!==null&&n.delete(t),t=Kr(),r.pingedLanes|=r.suspendedLanes&e,xr===r&&(Rr&e)===e&&(br===4||br===3&&(Rr&130023424)===Rr&&500>ar()-xp?As(r,0):_p|=e),an(r,t)}function hv(r,t){t===0&&(r.mode&1?(t=Ql,Ql<<=1,!(Ql&130023424)&&(Ql=4194304)):t=1);var e=Kr();r=vi(r,t),r!==null&&(_l(r,t,e),an(r,e))}function F4(r){var t=r.memoizedState,e=0;t!==null&&(e=t.retryLane),hv(r,e)}function V4(r,t){var e=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(e=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(Ie(314))}n!==null&&n.delete(t),hv(r,e)}var fv;fv=function(r,t,e){if(r!==null)if(r.memoizedProps!==t.pendingProps||sn.current)nn=!0;else{if(!(r.lanes&e)&&!(t.flags&128))return nn=!1,k4(r,t,e);nn=!!(r.flags&131072)}else nn=!1,Xt&&t.flags&1048576&&gb(t,tc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cu(r,t),r=t.pendingProps;var i=jo(t,Ur.current);Io(t,e),i=mp(null,t,n,r,i,e);var s=gp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(n)?(s=!0,Zu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cp(t),i.updater=Bc,t.stateNode=i,i._reactInternals=t,Hf(t,n,r,e),t=Gf(null,t,n,!0,s,e)):(t.tag=0,Xt&&s&&np(t),Gr(null,t,i,e),t=t.child),t;case 16:n=t.elementType;e:{switch(Cu(r,t),r=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=U4(n),r=An(n,r),i){case 0:t=Wf(null,t,n,r,e);break e;case 1:t=Q0(null,t,n,r,e);break e;case 11:t=X0(null,t,n,r,e);break e;case 14:t=Y0(null,t,n,An(n.type,r),e);break e}throw Error(Ie(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:An(n,i),Wf(r,t,n,i,e);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:An(n,i),Q0(r,t,n,i,e);case 3:e:{if(Xb(t),r===null)throw Error(Ie(387));n=t.pendingProps,s=t.memoizedState,i=s.element,xb(r,t),ic(t,n,null,e);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Bo(Error(Ie(423)),t),t=J0(r,t,n,e,i);break e}else if(n!==i){i=Bo(Error(Ie(424)),t),t=J0(r,t,n,e,i);break e}else for(hn=Xi(t.stateNode.containerInfo.firstChild),pn=t,Xt=!0,Mn=null,e=wb(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Lo(),n===i){t=wi(r,t,e);break e}Gr(r,t,n,e)}t=t.child}return t;case 5:return Sb(t),r===null&&Uf(t),n=t.type,i=t.pendingProps,s=r!==null?r.memoizedProps:null,o=i.children,jf(n,i)?o=null:s!==null&&jf(n,s)&&(t.flags|=32),Kb(r,t),Gr(r,t,o,e),t.child;case 6:return r===null&&Uf(t),null;case 13:return Yb(r,t,e);case 4:return hp(t,t.stateNode.containerInfo),n=t.pendingProps,r===null?t.child=Fo(t,null,n,e):Gr(r,t,n,e),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:An(n,i),X0(r,t,n,i,e);case 7:return Gr(r,t,t.pendingProps,e),t.child;case 8:return Gr(r,t,t.pendingProps.children,e),t.child;case 12:return Gr(r,t,t.pendingProps.children,e),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ht(rc,n._currentValue),n._currentValue=o,s!==null)if(Vn(s.value,o)){if(s.children===i.children&&!sn.current){t=wi(r,t,e);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=mi(-1,e&-e),l.tag=2;var a=s.updateQueue;if(a!==null){a=a.shared;var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}}s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),zf(s.return,e,t),u.lanes|=e;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ie(341));o.lanes|=e,u=o.alternate,u!==null&&(u.lanes|=e),zf(o,e,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gr(r,t,i.children,e),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Io(t,e),i=En(i),n=n(i),t.flags|=1,Gr(r,t,n,e),t.child;case 14:return n=t.type,i=An(n,t.pendingProps),i=An(n.type,i),Y0(r,t,n,i,e);case 15:return Wb(r,t,t.type,t.pendingProps,e);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:An(n,i),Cu(r,t),t.tag=1,on(n)?(r=!0,Zu(t)):r=!1,Io(t,e),$b(t,n,i),Hf(t,n,i,e),Gf(null,t,n,!0,r,e);case 19:return Qb(r,t,e);case 22:return Gb(r,t,e)}throw Error(Ie(156,t.tag))};function dv(r,t){return By(r,t)}function B4(r,t,e,n){this.tag=r,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,t,e,n){return new B4(r,t,e,n)}function kp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function U4(r){if(typeof r=="function")return kp(r)?1:0;if(r!=null){if(r=r.$$typeof,r===qd)return 11;if(r===Wd)return 14}return 2}function Zi(r,t){var e=r.alternate;return e===null?(e=xn(r.tag,t,r.key,r.mode),e.elementType=r.elementType,e.type=r.type,e.stateNode=r.stateNode,e.alternate=r,r.alternate=e):(e.pendingProps=t,e.type=r.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=r.flags&14680064,e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=r.sibling,e.index=r.index,e.ref=r.ref,e}function Au(r,t,e,n,i,s){var o=2;if(n=r,typeof r=="function")kp(r)&&(o=1);else if(typeof r=="string")o=5;else e:switch(r){case ho:return Ps(e.children,i,s,t);case Hd:o=8,i|=8;break;case pf:return r=xn(12,e,t,i|2),r.elementType=pf,r.lanes=s,r;case mf:return r=xn(13,e,t,i),r.elementType=mf,r.lanes=s,r;case gf:return r=xn(19,e,t,i),r.elementType=gf,r.lanes=s,r;case Sy:return $c(e,i,s,t);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _y:o=10;break e;case xy:o=9;break e;case qd:o=11;break e;case Wd:o=14;break e;case Ni:o=16,n=null;break e}throw Error(Ie(130,r==null?r:typeof r,""))}return t=xn(o,e,t,i),t.elementType=r,t.type=n,t.lanes=s,t}function Ps(r,t,e,n){return r=xn(7,r,n,t),r.lanes=e,r}function $c(r,t,e,n){return r=xn(22,r,n,t),r.elementType=Sy,r.lanes=e,r.stateNode={isHidden:!1},r}function Kh(r,t,e){return r=xn(6,r,null,t),r.lanes=e,r}function Xh(r,t,e){return t=xn(4,r.children!==null?r.children:[],r.key,t),t.lanes=e,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function z4(r,t,e,n,i){this.tag=t,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cp(r,t,e,n,i,s,o,u,l){return r=new z4(r,t,e,u,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=xn(3,null,null,t),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(s),r}function $4(r,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:n==null?null:""+n,children:r,containerInfo:t,implementation:e}}function pv(r){if(!r)return os;r=r._reactInternals;e:{if(Ks(r)!==r||r.tag!==1)throw Error(Ie(170));var t=r;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(r.tag===1){var e=r.type;if(on(e))return pb(r,e,t)}return t}function mv(r,t,e,n,i,s,o,u,l){return r=Cp(e,n,!0,r,i,s,o,u,l),r.context=pv(null),e=r.current,n=Kr(),i=Ji(e),s=mi(n,i),s.callback=t??null,Yi(e,s,i),r.current.lanes=i,_l(r,i,n),an(r,n),r}function Hc(r,t,e,n){var i=t.current,s=Kr(),o=Ji(i);return e=pv(e),t.context===null?t.context=e:t.pendingContext=e,t=mi(s,o),t.payload={element:r},n=n===void 0?null:n,n!==null&&(t.callback=n),r=Yi(i,t,o),r!==null&&(Ln(r,i,o,s),Eu(r,i,o)),o}function fc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function lg(r,t){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var e=r.retryLane;r.retryLane=e!==0&&e<t?e:t}}function Ip(r,t){lg(r,t),(r=r.alternate)&&lg(r,t)}function H4(){return null}var gv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Rp(r){this._internalRoot=r}qc.prototype.render=Rp.prototype.render=function(r){var t=this._internalRoot;if(t===null)throw Error(Ie(409));Hc(r,t,null,null)};qc.prototype.unmount=Rp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var t=r.containerInfo;Bs(function(){Hc(null,r,null,null)}),t[bi]=null}};function qc(r){this._internalRoot=r}qc.prototype.unstable_scheduleHydration=function(r){if(r){var t=Gy();r={blockedOn:null,target:r,priority:t};for(var e=0;e<Di.length&&t!==0&&t<Di[e].priority;e++);Di.splice(e,0,r),e===0&&Xy(r)}};function Ap(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Wc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ug(){}function q4(r,t,e,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var a=fc(o);s.call(a)}}var o=mv(t,n,r,0,null,!1,!1,"",ug);return r._reactRootContainer=o,r[bi]=o.current,Ja(r.nodeType===8?r.parentNode:r),Bs(),o}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var a=fc(l);u.call(a)}}var l=Cp(r,0,!1,null,null,!1,!1,"",ug);return r._reactRootContainer=l,r[bi]=l.current,Ja(r.nodeType===8?r.parentNode:r),Bs(function(){Hc(t,l,e,n)}),l}function Gc(r,t,e,n,i){var s=e._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var l=fc(o);u.call(l)}}Hc(t,o,r,i)}else o=q4(e,t,r,i,n);return fc(o)}qy=function(r){switch(r.tag){case 3:var t=r.stateNode;if(t.current.memoizedState.isDehydrated){var e=xa(t.pendingLanes);e!==0&&(Xd(t,e|1),an(t,ar()),!(Ot&6)&&(Uo=ar()+500,gs()))}break;case 13:Bs(function(){var n=vi(r,1);if(n!==null){var i=Kr();Ln(n,r,1,i)}}),Ip(r,1)}};Yd=function(r){if(r.tag===13){var t=vi(r,134217728);if(t!==null){var e=Kr();Ln(t,r,134217728,e)}Ip(r,134217728)}};Wy=function(r){if(r.tag===13){var t=Ji(r),e=vi(r,t);if(e!==null){var n=Kr();Ln(e,r,t,n)}Ip(r,t)}};Gy=function(){return Bt};Ky=function(r,t){var e=Bt;try{return Bt=r,t()}finally{Bt=e}};kf=function(r,t,e){switch(t){case"input":if(vf(r,e),t=e.name,e.type==="radio"&&t!=null){for(e=r;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==r&&n.form===r.form){var i=Lc(n);if(!i)throw Error(Ie(90));Ty(n),vf(n,i)}}}break;case"textarea":Cy(r,e);break;case"select":t=e.value,t!=null&&Eo(r,!!e.multiple,t,!1)}};Oy=Sp;Dy=Bs;var W4={usingClientEntryPoint:!1,Events:[Sl,go,Lc,My,Ny,Sp]},ba={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G4={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Fy(r),r===null?null:r.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||H4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Nc=lu.inject(G4),Yn=lu}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W4;gn.createPortal=function(r,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ap(t))throw Error(Ie(200));return $4(r,t,null,e)};gn.createRoot=function(r,t){if(!Ap(r))throw Error(Ie(299));var e=!1,n="",i=gv;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Cp(r,1,!1,null,null,e,!1,n,i),r[bi]=t.current,Ja(r.nodeType===8?r.parentNode:r),new Rp(t)};gn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternals;if(t===void 0)throw typeof r.render=="function"?Error(Ie(188)):(r=Object.keys(r).join(","),Error(Ie(268,r)));return r=Fy(t),r=r===null?null:r.stateNode,r};gn.flushSync=function(r){return Bs(r)};gn.hydrate=function(r,t,e){if(!Wc(t))throw Error(Ie(200));return Gc(null,r,t,!0,e)};gn.hydrateRoot=function(r,t,e){if(!Ap(r))throw Error(Ie(405));var n=e!=null&&e.hydratedSources||null,i=!1,s="",o=gv;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=mv(t,null,r,1,e??null,i,!1,s,o),r[bi]=t.current,Ja(r),n)for(r=0;r<n.length;r++)e=n[r],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new qc(t)};gn.render=function(r,t,e){if(!Wc(t))throw Error(Ie(200));return Gc(null,r,t,!1,e)};gn.unmountComponentAtNode=function(r){if(!Wc(r))throw Error(Ie(40));return r._reactRootContainer?(Bs(function(){Gc(null,null,r,!1,function(){r._reactRootContainer=null,r[bi]=null})}),!0):!1};gn.unstable_batchedUpdates=Sp;gn.unstable_renderSubtreeIntoContainer=function(r,t,e,n){if(!Wc(e))throw Error(Ie(200));if(r==null||r._reactInternals===void 0)throw Error(Ie(38));return Gc(r,t,e,!1,n)};gn.version="18.3.1-next-f1338f8080-20240426";function yv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yv)}catch(r){console.error(r)}}yv(),yy.exports=gn;var K4=yy.exports,cg=K4;ff.createRoot=cg.createRoot,ff.hydrateRoot=cg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},al.apply(this,arguments)}var Hi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Hi||(Hi={}));const hg="popstate";function X4(r){r===void 0&&(r={});function t(n,i){let{pathname:s,search:o,hash:u}=n.location;return sd("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function e(n,i){return typeof i=="string"?i:dc(i)}return Q4(t,e,null,r)}function mr(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function bv(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y4(){return Math.random().toString(36).substr(2,8)}function fg(r,t){return{usr:r.state,key:r.key,idx:t}}function sd(r,t,e,n){return e===void 0&&(e=null),al({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Zo(t):t,{state:e,key:t&&t.key||n||Y4()})}function dc(r){let{pathname:t="/",search:e="",hash:n=""}=r;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zo(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substr(e),r=r.substr(0,e));let n=r.indexOf("?");n>=0&&(t.search=r.substr(n),r=r.substr(0,n)),r&&(t.pathname=r)}return t}function Q4(r,t,e,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,u=Hi.Pop,l=null,a=c();a==null&&(a=0,o.replaceState(al({},o.state,{idx:a}),""));function c(){return(o.state||{idx:null}).idx}function d(){u=Hi.Pop;let p=c(),b=p==null?null:p-a;a=p,l&&l({action:u,location:y.location,delta:b})}function h(p,b){u=Hi.Push;let g=sd(y.location,p,b);a=c()+1;let w=fg(g,a),k=y.createHref(g);try{o.pushState(w,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(k)}s&&l&&l({action:u,location:y.location,delta:1})}function f(p,b){u=Hi.Replace;let g=sd(y.location,p,b);a=c();let w=fg(g,a),k=y.createHref(g);o.replaceState(w,"",k),s&&l&&l({action:u,location:y.location,delta:0})}function m(p){let b=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof p=="string"?p:dc(p);return g=g.replace(/ $/,"%20"),mr(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let y={get action(){return u},get location(){return r(i,o)},listen(p){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hg,d),l=p,()=>{i.removeEventListener(hg,d),l=null}},createHref(p){return t(i,p)},createURL:m,encodeLocation(p){let b=m(p);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:f,go(p){return o.go(p)}};return y}var dg;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(dg||(dg={}));function J4(r,t,e){return e===void 0&&(e="/"),Z4(r,t,e)}function Z4(r,t,e,n){let i=typeof t=="string"?Zo(t):t,s=Pp(i.pathname||"/",e);if(s==null)return null;let o=vv(r);e6(o);let u=null;for(let l=0;u==null&&l<o.length;++l){let a=f6(s);u=u6(o[l],a)}return u}function vv(r,t,e,n){t===void 0&&(t=[]),e===void 0&&(e=[]),n===void 0&&(n="");let i=(s,o,u)=>{let l={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(mr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let a=es([n,l.relativePath]),c=e.concat(l);s.children&&s.children.length>0&&(mr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),vv(s.children,t,c,a)),!(s.path==null&&!s.index)&&t.push({path:a,score:a6(a,s.index),routesMeta:c})};return r.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let l of wv(s.path))i(s,o,l)}),t}function wv(r){let t=r.split("/");if(t.length===0)return[];let[e,...n]=t,i=e.endsWith("?"),s=e.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=wv(n.join("/")),u=[];return u.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&u.push(...o),u.map(l=>r.startsWith("/")&&l===""?"/":l)}function e6(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:l6(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}const t6=/^:[\w-]+$/,r6=3,n6=2,i6=1,s6=10,o6=-2,pg=r=>r==="*";function a6(r,t){let e=r.split("/"),n=e.length;return e.some(pg)&&(n+=o6),t&&(n+=n6),e.filter(i=>!pg(i)).reduce((i,s)=>i+(t6.test(s)?r6:s===""?i6:s6),n)}function l6(r,t){return r.length===t.length&&r.slice(0,-1).every((n,i)=>n===t[i])?r[r.length-1]-t[t.length-1]:0}function u6(r,t,e){let{routesMeta:n}=r,i={},s="/",o=[];for(let u=0;u<n.length;++u){let l=n[u],a=u===n.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=c6({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},c),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:es([s,d.pathname]),pathnameBase:g6(es([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=es([s,d.pathnameBase]))}return o}function c6(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,n]=h6(r.path,r.caseSensitive,r.end),i=t.match(e);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((a,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let y=u[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=u[d];return f&&!m?a[h]=void 0:a[h]=(m||"").replace(/%2F/g,"/"),a},{}),pathname:s,pathnameBase:o,pattern:r}}function h6(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),bv(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,l)=>(n.push({paramName:u,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function f6(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bv(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function Pp(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=r.charAt(e);return n&&n!=="/"?null:r.slice(e)||"/"}function d6(r,t){t===void 0&&(t="/");let{pathname:e,search:n="",hash:i=""}=typeof r=="string"?Zo(r):r;return{pathname:e?e.startsWith("/")?e:p6(e,t):t,search:y6(n),hash:b6(i)}}function p6(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function Yh(r,t,e,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m6(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function _v(r,t){let e=m6(r);return t?e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase):e.map(n=>n.pathnameBase)}function xv(r,t,e,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Zo(r):(i=al({},r),mr(!i.pathname||!i.pathname.includes("?"),Yh("?","pathname","search",i)),mr(!i.pathname||!i.pathname.includes("#"),Yh("#","pathname","hash",i)),mr(!i.search||!i.search.includes("#"),Yh("#","search","hash",i)));let s=r===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=e;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}u=d>=0?t[d]:"/"}let l=d6(i,u),a=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(a||c)&&(l.pathname+="/"),l}const es=r=>r.join("/").replace(/\/\/+/g,"/"),g6=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),y6=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,b6=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function v6(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Sv=["post","put","patch","delete"];new Set(Sv);const w6=["get",...Sv];new Set(w6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ll.apply(this,arguments)}const Mp=Ee.createContext(null),_6=Ee.createContext(null),Xs=Ee.createContext(null),Kc=Ee.createContext(null),Ys=Ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Ev=Ee.createContext(null);function x6(r,t){let{relative:e}=t===void 0?{}:t;Tl()||mr(!1);let{basename:n,navigator:i}=Ee.useContext(Xs),{hash:s,pathname:o,search:u}=kv(r,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:es([n,o])),i.createHref({pathname:l,search:u,hash:s})}function Tl(){return Ee.useContext(Kc)!=null}function Xc(){return Tl()||mr(!1),Ee.useContext(Kc).location}function Tv(r){Ee.useContext(Xs).static||Ee.useLayoutEffect(r)}function Yc(){let{isDataRoute:r}=Ee.useContext(Ys);return r?D6():S6()}function S6(){Tl()||mr(!1);let r=Ee.useContext(Mp),{basename:t,future:e,navigator:n}=Ee.useContext(Xs),{matches:i}=Ee.useContext(Ys),{pathname:s}=Xc(),o=JSON.stringify(_v(i,e.v7_relativeSplatPath)),u=Ee.useRef(!1);return Tv(()=>{u.current=!0}),Ee.useCallback(function(a,c){if(c===void 0&&(c={}),!u.current)return;if(typeof a=="number"){n.go(a);return}let d=xv(a,JSON.parse(o),s,c.relative==="path");r==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:es([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,s,r])}function kv(r,t){let{relative:e}=t===void 0?{}:t,{future:n}=Ee.useContext(Xs),{matches:i}=Ee.useContext(Ys),{pathname:s}=Xc(),o=JSON.stringify(_v(i,n.v7_relativeSplatPath));return Ee.useMemo(()=>xv(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function E6(r,t){return T6(r,t)}function T6(r,t,e,n){Tl()||mr(!1);let{navigator:i}=Ee.useContext(Xs),{matches:s}=Ee.useContext(Ys),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=Xc(),c;if(t){var d;let p=typeof t=="string"?Zo(t):t;l==="/"||(d=p.pathname)!=null&&d.startsWith(l)||mr(!1),c=p}else c=a;let h=c.pathname||"/",f=h;if(l!=="/"){let p=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let m=J4(r,{pathname:f}),y=A6(m&&m.map(p=>Object.assign({},p,{params:Object.assign({},u,p.params),pathname:es([l,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:es([l,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,e,n);return t&&y?Ee.createElement(Kc.Provider,{value:{location:ll({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Hi.Pop}},y):y}function k6(){let r=O6(),t=v6(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ee.createElement(Ee.Fragment,null,Ee.createElement("h2",null,"Unexpected Application Error!"),Ee.createElement("h3",{style:{fontStyle:"italic"}},t),e?Ee.createElement("pre",{style:i},e):null,null)}const C6=Ee.createElement(k6,null);class I6 extends Ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Ee.createElement(Ys.Provider,{value:this.props.routeContext},Ee.createElement(Ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R6(r){let{routeContext:t,match:e,children:n}=r,i=Ee.useContext(Mp);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Ee.createElement(Ys.Provider,{value:t},n)}function A6(r,t,e,n){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),n===void 0&&(n=null),r==null){var s;if(!e)return null;if(e.errors)r=e.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let o=r,u=(i=e)==null?void 0:i.errors;if(u!=null){let c=o.findIndex(d=>d.route.id&&(u==null?void 0:u[d.route.id])!==void 0);c>=0||mr(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,a=-1;if(e&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:h,errors:f}=e,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,a>=0?o=o.slice(0,a+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,m=!1,y=null,p=null;e&&(f=u&&d.route.id?u[d.route.id]:void 0,y=d.route.errorElement||C6,l&&(a<0&&h===0?(j6("route-fallback"),m=!0,p=null):a===h&&(m=!0,p=d.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),g=()=>{let w;return f?w=y:m?w=p:d.route.Component?w=Ee.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,Ee.createElement(R6,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:e!=null},children:w})};return e&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?Ee.createElement(I6,{location:e.location,revalidation:e.revalidation,component:y,error:f,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var Cv=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Cv||{}),Iv=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Iv||{});function P6(r){let t=Ee.useContext(Mp);return t||mr(!1),t}function M6(r){let t=Ee.useContext(_6);return t||mr(!1),t}function N6(r){let t=Ee.useContext(Ys);return t||mr(!1),t}function Rv(r){let t=N6(),e=t.matches[t.matches.length-1];return e.route.id||mr(!1),e.route.id}function O6(){var r;let t=Ee.useContext(Ev),e=M6(),n=Rv();return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function D6(){let{router:r}=P6(Cv.UseNavigateStable),t=Rv(Iv.UseNavigateStable),e=Ee.useRef(!1);return Tv(()=>{e.current=!0}),Ee.useCallback(function(i,s){s===void 0&&(s={}),e.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,ll({fromRouteId:t},s)))},[r,t])}const mg={};function j6(r,t,e){mg[r]||(mg[r]=!0)}function L6(r,t){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Pu(r){mr(!1)}function F6(r){let{basename:t="/",children:e=null,location:n,navigationType:i=Hi.Pop,navigator:s,static:o=!1,future:u}=r;Tl()&&mr(!1);let l=t.replace(/^\/*/,"/"),a=Ee.useMemo(()=>({basename:l,navigator:s,static:o,future:ll({v7_relativeSplatPath:!1},u)}),[l,u,s,o]);typeof n=="string"&&(n=Zo(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,y=Ee.useMemo(()=>{let p=Pp(c,l);return p==null?null:{location:{pathname:p,search:d,hash:h,state:f,key:m},navigationType:i}},[l,c,d,h,f,m,i]);return y==null?null:Ee.createElement(Xs.Provider,{value:a},Ee.createElement(Kc.Provider,{children:e,value:y}))}function V6(r){let{children:t,location:e}=r;return E6(od(t),e)}new Promise(()=>{});function od(r,t){t===void 0&&(t=[]);let e=[];return Ee.Children.forEach(r,(n,i)=>{if(!Ee.isValidElement(n))return;let s=[...t,i];if(n.type===Ee.Fragment){e.push.apply(e,od(n.props.children,s));return}n.type!==Pu&&mr(!1),!n.props.index||!n.props.children||mr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=od(n.props.children,s)),e.push(o)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ad.apply(this,arguments)}function B6(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function U6(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function z6(r,t){return r.button===0&&(!t||t==="_self")&&!U6(r)}const $6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H6="6";try{window.__reactRouterVersion=H6}catch{}const q6="startTransition",gg=L_[q6];function W6(r){let{basename:t,children:e,future:n,window:i}=r,s=Ee.useRef();s.current==null&&(s.current=X4({window:i,v5Compat:!0}));let o=s.current,[u,l]=Ee.useState({action:o.action,location:o.location}),{v7_startTransition:a}=n||{},c=Ee.useCallback(d=>{a&&gg?gg(()=>l(d)):l(d)},[l,a]);return Ee.useLayoutEffect(()=>o.listen(c),[o,c]),Ee.useEffect(()=>L6(n),[n]),Ee.createElement(F6,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,future:n})}const G6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mu=Ee.forwardRef(function(t,e){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:u,target:l,to:a,preventScrollReset:c,viewTransition:d}=t,h=B6(t,$6),{basename:f}=Ee.useContext(Xs),m,y=!1;if(typeof a=="string"&&K6.test(a)&&(m=a,G6))try{let w=new URL(window.location.href),k=a.startsWith("//")?new URL(w.protocol+a):new URL(a),A=Pp(k.pathname,f);k.origin===w.origin&&A!=null?a=A+k.search+k.hash:y=!0}catch{}let p=x6(a,{relative:i}),b=X6(a,{replace:o,state:u,target:l,preventScrollReset:c,relative:i,viewTransition:d});function g(w){n&&n(w),w.defaultPrevented||b(w)}return Ee.createElement("a",ad({},h,{href:m||p,onClick:y||s?n:g,ref:e,target:l}))});var yg;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(yg||(yg={}));var bg;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(bg||(bg={}));function X6(r,t){let{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:u}=t===void 0?{}:t,l=Yc(),a=Xc(),c=kv(r,{relative:o});return Ee.useCallback(d=>{if(z6(d,e)){d.preventDefault();let h=n!==void 0?n:dc(a)===dc(c);l(r,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[a,l,c,n,i,e,r,s,o,u])}function Y6(){return ae.jsx("header",{className:"app-header",children:ae.jsxs("div",{className:"header-content",children:[ae.jsxs(Mu,{to:"/",className:"mmg-logo",children:[ae.jsx("div",{className:"mmg-logo-icon",children:"M"}),ae.jsx("span",{children:"MMG"})]}),ae.jsxs("nav",{className:"header-nav",children:[ae.jsx(Mu,{to:"/",className:"nav-link",children:"Formulrio"}),ae.jsx(Mu,{to:"/admin",className:"nav-link",children:"Admin"})]})]})})}const Q6=()=>{};var vg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},J6=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const i=r[e++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[e++];t[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[e++],o=r[e++],u=r[e++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const s=r[e++],o=r[e++];t[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],o=i+1<r.length,u=o?r[i+1]:0,l=i+2<r.length,a=l?r[i+2]:0,c=s>>2,d=(s&3)<<4|u>>4;let h=(u&15)<<2|a>>6,f=a&63;l||(f=64,o||(h=64)),n.push(e[c],e[d],e[h],e[f])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Av(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):J6(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=e[r.charAt(i++)],u=i<r.length?e[r.charAt(i)]:0;++i;const a=i<r.length?e[r.charAt(i)]:64;++i;const d=i<r.length?e[r.charAt(i)]:64;if(++i,s==null||u==null||a==null||d==null)throw new Z6;const h=s<<2|u>>4;if(n.push(h),a!==64){const f=u<<4&240|a>>2;if(n.push(f),d!==64){const m=a<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Z6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e5=function(r){const t=Av(r);return Pv.encodeByteArray(t,!0)},pc=function(r){return e5(r).replace(/\./g,"")},Mv=function(r){try{return Pv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=()=>t5().__FIREBASE_DEFAULTS__,n5=()=>{if(typeof process>"u"||typeof vg>"u")return;const r=vg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},i5=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Mv(r[1]);return t&&JSON.parse(t)},Qc=()=>{try{return Q6()||r5()||n5()||i5()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Nv=r=>{var t,e;return(e=(t=Qc())==null?void 0:t.emulatorHosts)==null?void 0:e[r]},Ov=r=>{const t=Nv(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},Dv=()=>{var r;return(r=Qc())==null?void 0:r.config},jv=r=>{var t;return(t=Qc())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Np(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...r};return[pc(JSON.stringify(e)),pc(JSON.stringify(o)),""].join(".")}const La={};function o5(){const r={prod:[],emulator:[]};for(const t of Object.keys(La))La[t]?r.emulator.push(t):r.prod.push(t);return r}function a5(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let wg=!1;function Op(r,t){if(typeof window>"u"||typeof document>"u"||!ys(window.location.host)||La[r]===t||La[r]||wg)return;La[r]=t;function e(h){return`__firebase__banner__${h}`}const n="__firebase__banner",s=o5().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function u(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function a(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{wg=!0,o()},h}function c(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=a5(n),f=e("text"),m=document.getElementById(f)||document.createElement("span"),y=e("learnmore"),p=document.getElementById(y)||document.createElement("a"),b=e("preprendIcon"),g=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;u(w),c(p,y);const k=a();l(g,b),w.append(g,m,p,k),document.body.appendChild(w)}s?(m.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zr())}function u5(){var t;const r=(t=Qc())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h5(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function f5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d5(){const r=zr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function p5(){return!u5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m5(){try{return typeof indexedDB=="object"}catch{return!1}}function g5(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t(((s=i.error)==null?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="FirebaseError";class oi extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=y5,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?b5(s,n):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new oi(i,u,n)}}function b5(r,t){return r.replace(v5,(e,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const v5=/\{\$([^}]+)}/g;function w5(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Us(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const i of e){if(!n.includes(i))return!1;const s=r[i],o=t[i];if(_g(s)&&_g(o)){if(!Us(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!e.includes(i))return!1;return!0}function _g(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function _5(r,t){const e=new x5(r,t);return e.subscribe.bind(e)}class x5{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");S5(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:n},i.next===void 0&&(i.next=Qh),i.error===void 0&&(i.error=Qh),i.complete===void 0&&(i.complete=Qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S5(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function Qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(r){return r&&r._delegate?r._delegate:r}class as{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new s5;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(k5(t))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(t=Ts){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ts){return this.instances.has(t)}getOptions(t=Ts){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);n===u&&o.resolve(i)}return i}onInit(t,e){const n=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&t(s,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:T5(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ts){return this.component?this.component.multipleInstances?t:Ts:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T5(r){return r===Ts?void 0:r}function k5(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new E5(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Et||(Et={}));const I5={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},R5=Et.INFO,A5={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},P5=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),i=A5[t];if(i)console[i](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dp{constructor(t){this.name=t,this._logLevel=R5,this._logHandler=P5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?I5[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...t),this._logHandler(this,Et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...t),this._logHandler(this,Et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...t),this._logHandler(this,Et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...t),this._logHandler(this,Et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...t),this._logHandler(this,Et.ERROR,...t)}}const M5=(r,t)=>t.some(e=>r instanceof e);let xg,Sg;function N5(){return xg||(xg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O5(){return Sg||(Sg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fv=new WeakMap,ld=new WeakMap,Vv=new WeakMap,Jh=new WeakMap,jp=new WeakMap;function D5(r){const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",o)},s=()=>{e(ts(r.result)),i()},o=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&Fv.set(e,r)}).catch(()=>{}),jp.set(t,r),t}function j5(r){if(ld.has(r))return;const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",o),r.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",o),r.addEventListener("abort",o)});ld.set(r,t)}let ud={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return ld.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Vv.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ts(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function L5(r){ud=r(ud)}function F5(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(Zh(this),t,...e);return Vv.set(n,t.sort?t.sort():[t]),ts(n)}:O5().includes(r)?function(...t){return r.apply(Zh(this),t),ts(Fv.get(this))}:function(...t){return ts(r.apply(Zh(this),t))}}function V5(r){return typeof r=="function"?F5(r):(r instanceof IDBTransaction&&j5(r),M5(r,N5())?new Proxy(r,ud):r)}function ts(r){if(r instanceof IDBRequest)return D5(r);if(Jh.has(r))return Jh.get(r);const t=V5(r);return t!==r&&(Jh.set(r,t),jp.set(t,r)),t}const Zh=r=>jp.get(r);function B5(r,t,{blocked:e,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(r,t),u=ts(o);return n&&o.addEventListener("upgradeneeded",l=>{n(ts(o.result),l.oldVersion,l.newVersion,ts(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",a=>i(a.oldVersion,a.newVersion,a))}).catch(()=>{}),u}const U5=["get","getKey","getAll","getAllKeys","count"],z5=["put","add","delete","clear"],ef=new Map;function Eg(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(ef.get(t))return ef.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,i=z5.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(i||U5.includes(e)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let a=l.store;return n&&(a=a.index(u.shift())),(await Promise.all([a[e](...u),i&&l.done]))[0]};return ef.set(t,s),s}L5(r=>({...r,get:(t,e,n)=>Eg(t,e)||r.get(t,e,n),has:(t,e)=>!!Eg(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(H5(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function H5(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const cd="@firebase/app",Tg="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Dp("@firebase/app"),q5="@firebase/app-compat",W5="@firebase/analytics-compat",G5="@firebase/analytics",K5="@firebase/app-check-compat",X5="@firebase/app-check",Y5="@firebase/auth",Q5="@firebase/auth-compat",J5="@firebase/database",Z5="@firebase/data-connect",e8="@firebase/database-compat",t8="@firebase/functions",r8="@firebase/functions-compat",n8="@firebase/installations",i8="@firebase/installations-compat",s8="@firebase/messaging",o8="@firebase/messaging-compat",a8="@firebase/performance",l8="@firebase/performance-compat",u8="@firebase/remote-config",c8="@firebase/remote-config-compat",h8="@firebase/storage",f8="@firebase/storage-compat",d8="@firebase/firestore",p8="@firebase/ai",m8="@firebase/firestore-compat",g8="firebase",y8="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",b8={[cd]:"fire-core",[q5]:"fire-core-compat",[G5]:"fire-analytics",[W5]:"fire-analytics-compat",[X5]:"fire-app-check",[K5]:"fire-app-check-compat",[Y5]:"fire-auth",[Q5]:"fire-auth-compat",[J5]:"fire-rtdb",[Z5]:"fire-data-connect",[e8]:"fire-rtdb-compat",[t8]:"fire-fn",[r8]:"fire-fn-compat",[n8]:"fire-iid",[i8]:"fire-iid-compat",[s8]:"fire-fcm",[o8]:"fire-fcm-compat",[a8]:"fire-perf",[l8]:"fire-perf-compat",[u8]:"fire-rc",[c8]:"fire-rc-compat",[h8]:"fire-gcs",[f8]:"fire-gcs-compat",[d8]:"fire-fst",[m8]:"fire-fst-compat",[p8]:"fire-vertex","fire-js":"fire-js",[g8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,v8=new Map,fd=new Map;function kg(r,t){try{r.container.addComponent(t)}catch(e){_i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function zs(r){const t=r.name;if(fd.has(t))return _i.debug(`There were multiple attempts to register component ${t}.`),!1;fd.set(t,r);for(const e of mc.values())kg(e,r);for(const e of v8.values())kg(e,r);return!0}function Jc(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function On(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new kl("app","Firebase",w8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(t,e,n){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=y8;function Bv(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n={name:hd,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});if(e||(e=Dv()),!e)throw rs.create("no-options");const s=mc.get(i);if(s){if(Us(e,s.options)&&Us(n,s.config))return s;throw rs.create("duplicate-app",{appName:i})}const o=new C5(i);for(const l of fd.values())o.addComponent(l);const u=new _8(e,n,o);return mc.set(i,u),u}function Zc(r=hd){const t=mc.get(r);if(!t&&r===hd&&Dv())return Bv();if(!t)throw rs.create("no-app",{appName:r});return t}function Jn(r,t,e){let n=b8[r]??r;e&&(n+=`-${e}`);const i=n.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${t}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_i.warn(o.join(" "));return}zs(new as(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="firebase-heartbeat-database",S8=1,ul="firebase-heartbeat-store";let tf=null;function Uv(){return tf||(tf=B5(x8,S8,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ul)}catch(e){console.warn(e)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),tf}async function E8(r){try{const e=(await Uv()).transaction(ul),n=await e.objectStore(ul).get(zv(r));return await e.done,n}catch(t){if(t instanceof oi)_i.warn(t.message);else{const e=rs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_i.warn(e.message)}}}async function Cg(r,t){try{const n=(await Uv()).transaction(ul,"readwrite");await n.objectStore(ul).put(t,zv(r)),await n.done}catch(e){if(e instanceof oi)_i.warn(e.message);else{const n=rs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}function zv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=1024,k8=30;class C8{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new R8(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ig();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>k8){const o=A8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){_i.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ig(),{heartbeatsToSend:n,unsentEntries:i}=I8(this._heartbeatsCache.heartbeats),s=pc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return _i.warn(e),""}}}function Ig(){return new Date().toISOString().substring(0,10)}function I8(r,t=T8){const e=[];let n=r.slice();for(const i of r){const s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rg(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),Rg(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class R8{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m5()?g5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await E8(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Cg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Cg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function Rg(r){return pc(JSON.stringify({version:2,heartbeats:r})).length}function A8(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let n=1;n<r.length;n++)r[n].date<e&&(e=r[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(r){zs(new as("platform-logger",t=>new $5(t),"PRIVATE")),zs(new as("heartbeat",t=>new C8(t),"PRIVATE")),Jn(cd,Tg,r),Jn(cd,Tg,"esm2020"),Jn("fire-js","")}P8("");var Ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,$v;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function N(){}N.prototype=R.prototype,V.D=R.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(L,z,O){for(var T=Array(arguments.length-2),P=2;P<arguments.length;P++)T[P-2]=arguments[P];return R.prototype[z].apply(L,T)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,R,N){N||(N=0);var L=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)L[z]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(z=0;16>z;++z)L[z]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=V.g[0],N=V.g[1],z=V.g[2];var O=V.g[3],T=R+(O^N&(z^O))+L[0]+3614090360&4294967295;R=N+(T<<7&4294967295|T>>>25),T=O+(z^R&(N^z))+L[1]+3905402710&4294967295,O=R+(T<<12&4294967295|T>>>20),T=z+(N^O&(R^N))+L[2]+606105819&4294967295,z=O+(T<<17&4294967295|T>>>15),T=N+(R^z&(O^R))+L[3]+3250441966&4294967295,N=z+(T<<22&4294967295|T>>>10),T=R+(O^N&(z^O))+L[4]+4118548399&4294967295,R=N+(T<<7&4294967295|T>>>25),T=O+(z^R&(N^z))+L[5]+1200080426&4294967295,O=R+(T<<12&4294967295|T>>>20),T=z+(N^O&(R^N))+L[6]+2821735955&4294967295,z=O+(T<<17&4294967295|T>>>15),T=N+(R^z&(O^R))+L[7]+4249261313&4294967295,N=z+(T<<22&4294967295|T>>>10),T=R+(O^N&(z^O))+L[8]+1770035416&4294967295,R=N+(T<<7&4294967295|T>>>25),T=O+(z^R&(N^z))+L[9]+2336552879&4294967295,O=R+(T<<12&4294967295|T>>>20),T=z+(N^O&(R^N))+L[10]+4294925233&4294967295,z=O+(T<<17&4294967295|T>>>15),T=N+(R^z&(O^R))+L[11]+2304563134&4294967295,N=z+(T<<22&4294967295|T>>>10),T=R+(O^N&(z^O))+L[12]+1804603682&4294967295,R=N+(T<<7&4294967295|T>>>25),T=O+(z^R&(N^z))+L[13]+4254626195&4294967295,O=R+(T<<12&4294967295|T>>>20),T=z+(N^O&(R^N))+L[14]+2792965006&4294967295,z=O+(T<<17&4294967295|T>>>15),T=N+(R^z&(O^R))+L[15]+1236535329&4294967295,N=z+(T<<22&4294967295|T>>>10),T=R+(z^O&(N^z))+L[1]+4129170786&4294967295,R=N+(T<<5&4294967295|T>>>27),T=O+(N^z&(R^N))+L[6]+3225465664&4294967295,O=R+(T<<9&4294967295|T>>>23),T=z+(R^N&(O^R))+L[11]+643717713&4294967295,z=O+(T<<14&4294967295|T>>>18),T=N+(O^R&(z^O))+L[0]+3921069994&4294967295,N=z+(T<<20&4294967295|T>>>12),T=R+(z^O&(N^z))+L[5]+3593408605&4294967295,R=N+(T<<5&4294967295|T>>>27),T=O+(N^z&(R^N))+L[10]+38016083&4294967295,O=R+(T<<9&4294967295|T>>>23),T=z+(R^N&(O^R))+L[15]+3634488961&4294967295,z=O+(T<<14&4294967295|T>>>18),T=N+(O^R&(z^O))+L[4]+3889429448&4294967295,N=z+(T<<20&4294967295|T>>>12),T=R+(z^O&(N^z))+L[9]+568446438&4294967295,R=N+(T<<5&4294967295|T>>>27),T=O+(N^z&(R^N))+L[14]+3275163606&4294967295,O=R+(T<<9&4294967295|T>>>23),T=z+(R^N&(O^R))+L[3]+4107603335&4294967295,z=O+(T<<14&4294967295|T>>>18),T=N+(O^R&(z^O))+L[8]+1163531501&4294967295,N=z+(T<<20&4294967295|T>>>12),T=R+(z^O&(N^z))+L[13]+2850285829&4294967295,R=N+(T<<5&4294967295|T>>>27),T=O+(N^z&(R^N))+L[2]+4243563512&4294967295,O=R+(T<<9&4294967295|T>>>23),T=z+(R^N&(O^R))+L[7]+1735328473&4294967295,z=O+(T<<14&4294967295|T>>>18),T=N+(O^R&(z^O))+L[12]+2368359562&4294967295,N=z+(T<<20&4294967295|T>>>12),T=R+(N^z^O)+L[5]+4294588738&4294967295,R=N+(T<<4&4294967295|T>>>28),T=O+(R^N^z)+L[8]+2272392833&4294967295,O=R+(T<<11&4294967295|T>>>21),T=z+(O^R^N)+L[11]+1839030562&4294967295,z=O+(T<<16&4294967295|T>>>16),T=N+(z^O^R)+L[14]+4259657740&4294967295,N=z+(T<<23&4294967295|T>>>9),T=R+(N^z^O)+L[1]+2763975236&4294967295,R=N+(T<<4&4294967295|T>>>28),T=O+(R^N^z)+L[4]+1272893353&4294967295,O=R+(T<<11&4294967295|T>>>21),T=z+(O^R^N)+L[7]+4139469664&4294967295,z=O+(T<<16&4294967295|T>>>16),T=N+(z^O^R)+L[10]+3200236656&4294967295,N=z+(T<<23&4294967295|T>>>9),T=R+(N^z^O)+L[13]+681279174&4294967295,R=N+(T<<4&4294967295|T>>>28),T=O+(R^N^z)+L[0]+3936430074&4294967295,O=R+(T<<11&4294967295|T>>>21),T=z+(O^R^N)+L[3]+3572445317&4294967295,z=O+(T<<16&4294967295|T>>>16),T=N+(z^O^R)+L[6]+76029189&4294967295,N=z+(T<<23&4294967295|T>>>9),T=R+(N^z^O)+L[9]+3654602809&4294967295,R=N+(T<<4&4294967295|T>>>28),T=O+(R^N^z)+L[12]+3873151461&4294967295,O=R+(T<<11&4294967295|T>>>21),T=z+(O^R^N)+L[15]+530742520&4294967295,z=O+(T<<16&4294967295|T>>>16),T=N+(z^O^R)+L[2]+3299628645&4294967295,N=z+(T<<23&4294967295|T>>>9),T=R+(z^(N|~O))+L[0]+4096336452&4294967295,R=N+(T<<6&4294967295|T>>>26),T=O+(N^(R|~z))+L[7]+1126891415&4294967295,O=R+(T<<10&4294967295|T>>>22),T=z+(R^(O|~N))+L[14]+2878612391&4294967295,z=O+(T<<15&4294967295|T>>>17),T=N+(O^(z|~R))+L[5]+4237533241&4294967295,N=z+(T<<21&4294967295|T>>>11),T=R+(z^(N|~O))+L[12]+1700485571&4294967295,R=N+(T<<6&4294967295|T>>>26),T=O+(N^(R|~z))+L[3]+2399980690&4294967295,O=R+(T<<10&4294967295|T>>>22),T=z+(R^(O|~N))+L[10]+4293915773&4294967295,z=O+(T<<15&4294967295|T>>>17),T=N+(O^(z|~R))+L[1]+2240044497&4294967295,N=z+(T<<21&4294967295|T>>>11),T=R+(z^(N|~O))+L[8]+1873313359&4294967295,R=N+(T<<6&4294967295|T>>>26),T=O+(N^(R|~z))+L[15]+4264355552&4294967295,O=R+(T<<10&4294967295|T>>>22),T=z+(R^(O|~N))+L[6]+2734768916&4294967295,z=O+(T<<15&4294967295|T>>>17),T=N+(O^(z|~R))+L[13]+1309151649&4294967295,N=z+(T<<21&4294967295|T>>>11),T=R+(z^(N|~O))+L[4]+4149444226&4294967295,R=N+(T<<6&4294967295|T>>>26),T=O+(N^(R|~z))+L[11]+3174756917&4294967295,O=R+(T<<10&4294967295|T>>>22),T=z+(R^(O|~N))+L[2]+718787259&4294967295,z=O+(T<<15&4294967295|T>>>17),T=N+(O^(z|~R))+L[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(z+(T<<21&4294967295|T>>>11))&4294967295,V.g[2]=V.g[2]+z&4294967295,V.g[3]=V.g[3]+O&4294967295}n.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var N=R-this.blockSize,L=this.B,z=this.h,O=0;O<R;){if(z==0)for(;O<=N;)i(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<R;)if(L[z++]=V.charCodeAt(O++),z==this.blockSize){i(this,L),z=0;break}}else for(;O<R;)if(L[z++]=V[O++],z==this.blockSize){i(this,L),z=0;break}}this.h=z,this.o+=R},n.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var N=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=N&255,N/=256;for(this.u(V),V=Array(16),R=N=0;4>R;++R)for(var L=0;32>L;L+=8)V[N++]=this.g[R]>>>L&255;return V};function s(V,R){var N=u;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=R(V)}function o(V,R){this.h=R;for(var N=[],L=!0,z=V.length-1;0<=z;z--){var O=V[z]|0;L&&O==R||(N[z]=O,L=!1)}this.g=N}var u={};function l(V){return-128<=V&&128>V?s(V,function(R){return new o([R|0],0>R?-1:0)}):new o([V|0],0>V?-1:0)}function a(V){if(isNaN(V)||!isFinite(V))return d;if(0>V)return p(a(-V));for(var R=[],N=1,L=0;V>=N;L++)R[L]=V/N|0,N*=4294967296;return new o(R,0)}function c(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return p(c(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=a(Math.pow(R,8)),L=d,z=0;z<V.length;z+=8){var O=Math.min(8,V.length-z),T=parseInt(V.substring(z,z+O),R);8>O?(O=a(Math.pow(R,O)),L=L.j(O).add(a(T))):(L=L.j(N),L=L.add(a(T)))}return L}var d=l(0),h=l(1),f=l(16777216);r=o.prototype,r.m=function(){if(y(this))return-p(this).m();for(var V=0,R=1,N=0;N<this.g.length;N++){var L=this.i(N);V+=(0<=L?L:4294967296+L)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(m(this))return"0";if(y(this))return"-"+p(this).toString(V);for(var R=a(Math.pow(V,6)),N=this,L="";;){var z=k(N,R).g;N=b(N,z.j(R));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=z,m(N))return O+L;for(;6>O.length;)O="0"+O;L=O+L}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function m(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function y(V){return V.h==-1}r.l=function(V){return V=b(this,V),y(V)?-1:m(V)?0:1};function p(V){for(var R=V.g.length,N=[],L=0;L<R;L++)N[L]=~V.g[L];return new o(N,~V.h).add(h)}r.abs=function(){return y(this)?p(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),N=[],L=0,z=0;z<=R;z++){var O=L+(this.i(z)&65535)+(V.i(z)&65535),T=(O>>>16)+(this.i(z)>>>16)+(V.i(z)>>>16);L=T>>>16,O&=65535,T&=65535,N[z]=T<<16|O}return new o(N,N[N.length-1]&-2147483648?-1:0)};function b(V,R){return V.add(p(R))}r.j=function(V){if(m(this)||m(V))return d;if(y(this))return y(V)?p(this).j(p(V)):p(p(this).j(V));if(y(V))return p(this.j(p(V)));if(0>this.l(f)&&0>V.l(f))return a(this.m()*V.m());for(var R=this.g.length+V.g.length,N=[],L=0;L<2*R;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<V.g.length;z++){var O=this.i(L)>>>16,T=this.i(L)&65535,P=V.i(z)>>>16,E=V.i(z)&65535;N[2*L+2*z]+=T*E,g(N,2*L+2*z),N[2*L+2*z+1]+=O*E,g(N,2*L+2*z+1),N[2*L+2*z+1]+=T*P,g(N,2*L+2*z+1),N[2*L+2*z+2]+=O*P,g(N,2*L+2*z+2)}for(L=0;L<R;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=R;L<2*R;L++)N[L]=0;return new o(N,0)};function g(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function w(V,R){this.g=V,this.h=R}function k(V,R){if(m(R))throw Error("division by zero");if(m(V))return new w(d,d);if(y(V))return R=k(p(V),R),new w(p(R.g),p(R.h));if(y(R))return R=k(V,p(R)),new w(p(R.g),R.h);if(30<V.g.length){if(y(V)||y(R))throw Error("slowDivide_ only works with positive integers.");for(var N=h,L=R;0>=L.l(V);)N=A(N),L=A(L);var z=U(N,1),O=U(L,1);for(L=U(L,2),N=U(N,2);!m(L);){var T=O.add(L);0>=T.l(V)&&(z=z.add(N),O=T),L=U(L,1),N=U(N,1)}return R=b(V,z.j(R)),new w(z,R)}for(z=d;0<=V.l(R);){for(N=Math.max(1,Math.floor(V.m()/R.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),O=a(N),T=O.j(R);y(T)||0<T.l(V);)N-=L,O=a(N),T=O.j(R);m(O)&&(O=h),z=z.add(O),V=b(V,T)}return new w(z,V)}r.A=function(V){return k(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),N=[],L=0;L<R;L++)N[L]=this.i(L)&V.i(L);return new o(N,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),N=[],L=0;L<R;L++)N[L]=this.i(L)|V.i(L);return new o(N,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),N=[],L=0;L<R;L++)N[L]=this.i(L)^V.i(L);return new o(N,this.h^V.h)};function A(V){for(var R=V.g.length+1,N=[],L=0;L<R;L++)N[L]=V.i(L)<<1|V.i(L-1)>>>31;return new o(N,V.h)}function U(V,R){var N=R>>5;R%=32;for(var L=V.g.length-N,z=[],O=0;O<L;O++)z[O]=0<R?V.i(O+N)>>>R|V.i(O+N+1)<<32-R:V.i(O+N);return new o(z,V.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,$v=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=a,o.fromString=c,ns=o}).apply(typeof Ag<"u"?Ag:typeof self<"u"?self:typeof window<"u"?window:{});var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hv,Ea,qv,Nu,dd,Wv,Gv,Kv;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(I,q,K){return I==Array.prototype||I==Object.prototype||(I[q]=K.value),I};function e(I){I=[typeof globalThis=="object"&&globalThis,I,typeof window=="object"&&window,typeof self=="object"&&self,typeof uu=="object"&&uu];for(var q=0;q<I.length;++q){var K=I[q];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}var n=e(this);function i(I,q){if(q)e:{var K=n;I=I.split(".");for(var Z=0;Z<I.length-1;Z++){var pe=I[Z];if(!(pe in K))break e;K=K[pe]}I=I[I.length-1],Z=K[I],q=q(Z),q!=Z&&q!=null&&t(K,I,{configurable:!0,writable:!0,value:q})}}function s(I,q){I instanceof String&&(I+="");var K=0,Z=!1,pe={next:function(){if(!Z&&K<I.length){var ge=K++;return{value:q(ge,I[ge]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}i("Array.prototype.values",function(I){return I||function(){return s(this,function(q,K){return K})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function l(I){var q=typeof I;return q=q!="object"?q:I?Array.isArray(I)?"array":q:"null",q=="array"||q=="object"&&typeof I.length=="number"}function a(I){var q=typeof I;return q=="object"&&I!=null||q=="function"}function c(I,q,K){return I.call.apply(I.bind,arguments)}function d(I,q,K){if(!I)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,Z),I.apply(q,pe)}}return function(){return I.apply(q,arguments)}}function h(I,q,K){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function f(I,q){var K=Array.prototype.slice.call(arguments,1);return function(){var Z=K.slice();return Z.push.apply(Z,arguments),I.apply(this,Z)}}function m(I,q){function K(){}K.prototype=q.prototype,I.aa=q.prototype,I.prototype=new K,I.prototype.constructor=I,I.Qb=function(Z,pe,ge){for(var Oe=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)Oe[Ut-2]=arguments[Ut];return q.prototype[pe].apply(Z,Oe)}}function y(I){const q=I.length;if(0<q){const K=Array(q);for(let Z=0;Z<q;Z++)K[Z]=I[Z];return K}return[]}function p(I,q){for(let K=1;K<arguments.length;K++){const Z=arguments[K];if(l(Z)){const pe=I.length||0,ge=Z.length||0;I.length=pe+ge;for(let Oe=0;Oe<ge;Oe++)I[pe+Oe]=Z[Oe]}else I.push(Z)}}class b{constructor(q,K){this.i=q,this.j=K,this.h=0,this.g=null}get(){let q;return 0<this.h?(this.h--,q=this.g,this.g=q.next,q.next=null):q=this.i(),q}}function g(I){return/^[\s\xa0]*$/.test(I)}function w(){var I=u.navigator;return I&&(I=I.userAgent)?I:""}function k(I){return k[" "](I),I}k[" "]=function(){};var A=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function U(I,q,K){for(const Z in I)q.call(K,I[Z],Z,I)}function V(I,q){for(const K in I)q.call(void 0,I[K],K,I)}function R(I){const q={};for(const K in I)q[K]=I[K];return q}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(I,q){let K,Z;for(let pe=1;pe<arguments.length;pe++){Z=arguments[pe];for(K in Z)I[K]=Z[K];for(let ge=0;ge<N.length;ge++)K=N[ge],Object.prototype.hasOwnProperty.call(Z,K)&&(I[K]=Z[K])}}function z(I){var q=1;I=I.split(":");const K=[];for(;0<q&&I.length;)K.push(I.shift()),q--;return I.length&&K.push(I.join(":")),K}function O(I){u.setTimeout(()=>{throw I},0)}function T(){var I=S;let q=null;return I.g&&(q=I.g,I.g=I.g.next,I.g||(I.h=null),q.next=null),q}class P{constructor(){this.h=this.g=null}add(q,K){const Z=E.get();Z.set(q,K),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var E=new b(()=>new v,I=>I.reset());class v{constructor(){this.next=this.g=this.h=null}set(q,K){this.h=q,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let x,_=!1,S=new P,C=()=>{const I=u.Promise.resolve(void 0);x=()=>{I.then(j)}};var j=()=>{for(var I;I=T();){try{I.h.call(I.g)}catch(K){O(K)}var q=E;q.j(I),100>q.h&&(q.h++,I.next=q.g,q.g=I)}_=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(I,q){this.type=I,this.g=this.target=q,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var I=!1,q=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const K=()=>{};u.addEventListener("test",K,q),u.removeEventListener("test",K,q)}catch{}return I}();function Y(I,q){if(H.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var K=this.type=I.type,Z=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=q,q=I.relatedTarget){if(A){e:{try{k(q.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(q=null)}}else K=="mouseover"?q=I.fromElement:K=="mouseout"&&(q=I.toElement);this.relatedTarget=q,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType=typeof I.pointerType=="string"?I.pointerType:B[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&Y.aa.h.call(this)}}m(Y,H);var B={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),D=0;function M(I,q,K,Z,pe){this.listener=I,this.proxy=null,this.src=q,this.type=K,this.capture=!!Z,this.ha=pe,this.key=++D,this.da=this.fa=!1}function $(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function X(I){this.src=I,this.g={},this.h=0}X.prototype.add=function(I,q,K,Z,pe){var ge=I.toString();I=this.g[ge],I||(I=this.g[ge]=[],this.h++);var Oe=Q(I,q,Z,pe);return-1<Oe?(q=I[Oe],K||(q.fa=!1)):(q=new M(q,this.src,ge,!!Z,pe),q.fa=K,I.push(q)),q};function te(I,q){var K=q.type;if(K in I.g){var Z=I.g[K],pe=Array.prototype.indexOf.call(Z,q,void 0),ge;(ge=0<=pe)&&Array.prototype.splice.call(Z,pe,1),ge&&($(q),I.g[K].length==0&&(delete I.g[K],I.h--))}}function Q(I,q,K,Z){for(var pe=0;pe<I.length;++pe){var ge=I[pe];if(!ge.da&&ge.listener==q&&ge.capture==!!K&&ge.ha==Z)return pe}return-1}var ee="closure_lm_"+(1e6*Math.random()|0),le={};function oe(I,q,K,Z,pe){if(Array.isArray(q)){for(var ge=0;ge<q.length;ge++)oe(I,q[ge],K,Z,pe);return null}return K=xe(K),I&&I[G]?I.K(q,K,a(Z)?!!Z.capture:!1,pe):J(I,q,K,!1,Z,pe)}function J(I,q,K,Z,pe,ge){if(!q)throw Error("Invalid event type");var Oe=a(pe)?!!pe.capture:!!pe,Ut=me(I);if(Ut||(I[ee]=Ut=new X(I)),K=Ut.add(q,K,Z,Oe,ge),K.proxy)return K;if(Z=ie(),K.proxy=Z,Z.src=I,Z.listener=K,I.addEventListener)W||(pe=Oe),pe===void 0&&(pe=!1),I.addEventListener(q.toString(),Z,pe);else if(I.attachEvent)I.attachEvent(ue(q.toString()),Z);else if(I.addListener&&I.removeListener)I.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return K}function ie(){function I(K){return q.call(I.src,I.listener,K)}const q=fe;return I}function ne(I,q,K,Z,pe){if(Array.isArray(q))for(var ge=0;ge<q.length;ge++)ne(I,q[ge],K,Z,pe);else Z=a(Z)?!!Z.capture:!!Z,K=xe(K),I&&I[G]?(I=I.i,q=String(q).toString(),q in I.g&&(ge=I.g[q],K=Q(ge,K,Z,pe),-1<K&&($(ge[K]),Array.prototype.splice.call(ge,K,1),ge.length==0&&(delete I.g[q],I.h--)))):I&&(I=me(I))&&(q=I.g[q.toString()],I=-1,q&&(I=Q(q,K,Z,pe)),(K=-1<I?q[I]:null)&&ce(K))}function ce(I){if(typeof I!="number"&&I&&!I.da){var q=I.src;if(q&&q[G])te(q.i,I);else{var K=I.type,Z=I.proxy;q.removeEventListener?q.removeEventListener(K,Z,I.capture):q.detachEvent?q.detachEvent(ue(K),Z):q.addListener&&q.removeListener&&q.removeListener(Z),(K=me(q))?(te(K,I),K.h==0&&(K.src=null,q[ee]=null)):$(I)}}}function ue(I){return I in le?le[I]:le[I]="on"+I}function fe(I,q){if(I.da)I=!0;else{q=new Y(q,this);var K=I.listener,Z=I.ha||I.src;I.fa&&ce(I),I=K.call(Z,q)}return I}function me(I){return I=I[ee],I instanceof X?I:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(I){return typeof I=="function"?I:(I[ye]||(I[ye]=function(q){return I.handleEvent(q)}),I[ye])}function Te(){F.call(this),this.i=new X(this),this.M=this,this.F=null}m(Te,F),Te.prototype[G]=!0,Te.prototype.removeEventListener=function(I,q,K,Z){ne(this,I,q,K,Z)};function ke(I,q){var K,Z=I.F;if(Z)for(K=[];Z;Z=Z.F)K.push(Z);if(I=I.M,Z=q.type||q,typeof q=="string")q=new H(q,I);else if(q instanceof H)q.target=q.target||I;else{var pe=q;q=new H(Z,I),L(q,pe)}if(pe=!0,K)for(var ge=K.length-1;0<=ge;ge--){var Oe=q.g=K[ge];pe=Pe(Oe,Z,!0,q)&&pe}if(Oe=q.g=I,pe=Pe(Oe,Z,!0,q)&&pe,pe=Pe(Oe,Z,!1,q)&&pe,K)for(ge=0;ge<K.length;ge++)Oe=q.g=K[ge],pe=Pe(Oe,Z,!1,q)&&pe}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var I=this.i,q;for(q in I.g){for(var K=I.g[q],Z=0;Z<K.length;Z++)$(K[Z]);delete I.g[q],I.h--}}this.F=null},Te.prototype.K=function(I,q,K,Z){return this.i.add(String(I),q,!1,K,Z)},Te.prototype.L=function(I,q,K,Z){return this.i.add(String(I),q,!0,K,Z)};function Pe(I,q,K,Z){if(q=I.i.g[String(q)],!q)return!0;q=q.concat();for(var pe=!0,ge=0;ge<q.length;++ge){var Oe=q[ge];if(Oe&&!Oe.da&&Oe.capture==K){var Ut=Oe.listener,Tr=Oe.ha||Oe.src;Oe.fa&&te(I.i,Oe),pe=Ut.call(Tr,Z)!==!1&&pe}}return pe&&!Z.defaultPrevented}function We(I,q,K){if(typeof I=="function")K&&(I=h(I,K));else if(I&&typeof I.handleEvent=="function")I=h(I.handleEvent,I);else throw Error("Invalid listener argument");return 2147483647<Number(q)?-1:u.setTimeout(I,q||0)}function He(I){I.g=We(()=>{I.g=null,I.i&&(I.i=!1,He(I))},I.l);const q=I.h;I.h=null,I.m.apply(null,q)}class Ge extends F{constructor(q,K){super(),this.m=q,this.l=K,this.h=null,this.i=!1,this.g=null}j(q){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(I){F.call(this),this.h=I,this.g={}}m(ze,F);var De=[];function Re(I){U(I.g,function(q,K){this.g.hasOwnProperty(K)&&ce(q)},I),I.g={}}ze.prototype.N=function(){ze.aa.N.call(this),Re(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=u.JSON.stringify,$e=u.JSON.parse,Fe=class{stringify(I){return u.JSON.stringify(I,void 0)}parse(I){return u.JSON.parse(I,void 0)}};function mt(){}mt.prototype.h=null;function Rt(I){return I.h||(I.h=I.i())}function Ke(){}var gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pt(){H.call(this,"d")}m(pt,H);function nt(){H.call(this,"c")}m(nt,H);var _t={},xt=null;function Xe(){return xt=xt||new Te}_t.La="serverreachability";function bt(I){H.call(this,_t.La,I)}m(bt,H);function Ct(I){const q=Xe();ke(q,new bt(q))}_t.STAT_EVENT="statevent";function rt(I,q){H.call(this,_t.STAT_EVENT,I),this.stat=q}m(rt,H);function at(I){const q=Xe();ke(q,new rt(q,I))}_t.Ma="timingevent";function Dt(I,q){H.call(this,_t.Ma,I),this.size=q}m(Dt,H);function it(I,q){if(typeof I!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){I()},q)}function se(){this.g=!0}se.prototype.xa=function(){this.g=!1};function he(I,q,K,Z,pe,ge){I.info(function(){if(I.g)if(ge)for(var Oe="",Ut=ge.split("&"),Tr=0;Tr<Ut.length;Tr++){var Lt=Ut[Tr].split("=");if(1<Lt.length){var Nr=Lt[0];Lt=Lt[1];var Or=Nr.split("_");Oe=2<=Or.length&&Or[1]=="type"?Oe+(Nr+"="+Lt+"&"):Oe+(Nr+"=redacted&")}}else Oe=null;else Oe=ge;return"XMLHTTP REQ ("+Z+") [attempt "+pe+"]: "+q+`
`+K+`
`+Oe})}function be(I,q,K,Z,pe,ge,Oe){I.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+pe+"]: "+q+`
`+K+`
`+ge+" "+Oe})}function Ae(I,q,K,Z){I.info(function(){return"XMLHTTP TEXT ("+q+"): "+Ne(I,K)+(Z?" "+Z:"")})}function Ze(I,q){I.info(function(){return"TIMEOUT: "+q})}se.prototype.info=function(){};function Ne(I,q){if(!I.g)return q;if(!q)return null;try{var K=JSON.parse(q);if(K){for(I=0;I<K.length;I++)if(Array.isArray(K[I])){var Z=K[I];if(!(2>Z.length)){var pe=Z[1];if(Array.isArray(pe)&&!(1>pe.length)){var ge=pe[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var Oe=1;Oe<pe.length;Oe++)pe[Oe]=""}}}}return je(K)}catch{return q}}var tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qe;function st(){}m(st,mt),st.prototype.g=function(){return new XMLHttpRequest},st.prototype.i=function(){return{}},qe=new st;function Ye(I,q,K,Z){this.j=I,this.i=q,this.l=K,this.R=Z||1,this.U=new ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var qt={},Ft={};function Yt(I,q,K){I.L=1,I.v=ai(Mr(q)),I.m=K,I.P=!0,tr(I,null)}function tr(I,q){I.F=Date.now(),de(I),I.A=Mr(I.v);var K=I.A,Z=I.R;Array.isArray(Z)||(Z=[String(Z)]),oa(K.i,"t",Z),I.C=0,K=I.j.J,I.h=new ft,I.g=Jm(I.j,K?q:null,!I.m),0<I.O&&(I.M=new Ge(h(I.Y,I,I.g),I.O)),q=I.U,K=I.g,Z=I.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(De[0]=pe.toString()),pe=De);for(var ge=0;ge<pe.length;ge++){var Oe=oe(K,pe[ge],Z||q.handleEvent,!1,q.h||q);if(!Oe)break;q.g[Oe.key]=Oe}q=I.H?R(I.H):{},I.m?(I.u||(I.u="POST"),q["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,q)):(I.u="GET",I.g.ea(I.A,I.u,null,q)),Ct(),he(I.i,I.u,I.A,I.l,I.R,I.m)}Ye.prototype.ca=function(I){I=I.target;const q=this.M;q&&li(I)==3?q.j():this.Y(I)},Ye.prototype.Y=function(I){try{if(I==this.g)e:{const Or=li(this.g);var q=this.g.Ba();const io=this.g.Z();if(!(3>Or)&&(Or!=3||this.g&&(this.h.h||this.g.oa()||Um(this.g)))){this.J||Or!=4||q==7||(q==8||0>=io?Ct(3):Ct(2)),Se(this);var K=this.g.Z();this.X=K;t:if(Sr(this)){var Z=Um(this.g);I="";var pe=Z.length,ge=li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ce(this),Be(this);var Oe="";break t}this.h.i=new u.TextDecoder}for(q=0;q<pe;q++)this.h.h=!0,I+=this.h.i.decode(Z[q],{stream:!(ge&&q==pe-1)});Z.length=0,this.h.g+=I,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=K==200,be(this.i,this.u,this.A,this.l,this.R,Or,K),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,Tr=this.g;if((Ut=Tr.g?Tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(Ut)){var Lt=Ut;break t}}Lt=null}if(K=Lt)Ae(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Me(this,K);else{this.o=!1,this.s=3,at(12),Ce(this),Be(this);break e}}if(this.P){K=!0;let In;for(;!this.J&&this.C<Oe.length;)if(In=re(this,Oe),In==Ft){Or==4&&(this.s=4,at(14),K=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(In==qt){this.s=4,at(15),Ae(this.i,this.l,Oe,"[Invalid Chunk]"),K=!1;break}else Ae(this.i,this.l,In,null),Me(this,In);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Or!=4||Oe.length!=0||this.h.h||(this.s=1,at(16),K=!1),this.o=this.o&&K,!K)Ae(this.i,this.l,Oe,"[Invalid Chunked Response]"),Ce(this),Be(this);else if(0<Oe.length&&!this.W){this.W=!0;var Nr=this.j;Nr.g==this&&Nr.ba&&!Nr.M&&(Nr.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),xh(Nr),Nr.M=!0,at(11))}}else Ae(this.i,this.l,Oe,null),Me(this,Oe);Or==4&&Ce(this),this.o&&!this.J&&(Or==4?Km(this.j,this):(this.o=!1,de(this)))}else v_(this.g),K==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Ce(this),Be(this)}}}catch{}finally{}};function Sr(I){return I.g?I.u=="GET"&&I.L!=2&&I.j.Ca:!1}function re(I,q){var K=I.C,Z=q.indexOf(`
`,K);return Z==-1?Ft:(K=Number(q.substring(K,Z)),isNaN(K)?qt:(Z+=1,Z+K>q.length?Ft:(q=q.slice(Z,Z+K),I.C=Z+K,q)))}Ye.prototype.cancel=function(){this.J=!0,Ce(this)};function de(I){I.S=Date.now()+I.I,ve(I,I.I)}function ve(I,q){if(I.B!=null)throw Error("WatchDog timer not null");I.B=it(h(I.ba,I),q)}function Se(I){I.B&&(u.clearTimeout(I.B),I.B=null)}Ye.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(Ze(this.i,this.A),this.L!=2&&(Ct(),at(17)),Ce(this),this.s=2,Be(this)):ve(this,this.S-I)};function Be(I){I.j.G==0||I.J||Km(I.j,I)}function Ce(I){Se(I);var q=I.M;q&&typeof q.ma=="function"&&q.ma(),I.M=null,Re(I.U),I.g&&(q=I.g,I.g=null,q.abort(),q.ma())}function Me(I,q){try{var K=I.j;if(K.G!=0&&(K.g==I||At(K.h,I))){if(!I.K&&At(K.h,I)&&K.G==3){try{var Z=K.Da.g.parse(q)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var pe=Z;if(pe[0]==0){e:if(!K.u){if(K.g)if(K.g.F+3e3<I.F)$l(K),Ul(K);else break e;_h(K),at(18)}}else K.za=pe[1],0<K.za-K.T&&37500>pe[2]&&K.F&&K.v==0&&!K.C&&(K.C=it(h(K.Za,K),6e3));if(1>=Je(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else xs(K,11)}else if((I.K||K.g==I)&&$l(K),!g(q))for(pe=K.Da.g.parse(q),q=0;q<pe.length;q++){let Lt=pe[q];if(K.T=Lt[0],Lt=Lt[1],K.G==2)if(Lt[0]=="c"){K.K=Lt[1],K.ia=Lt[2];const Nr=Lt[3];Nr!=null&&(K.la=Nr,K.j.info("VER="+K.la));const Or=Lt[4];Or!=null&&(K.Aa=Or,K.j.info("SVER="+K.Aa));const io=Lt[5];io!=null&&typeof io=="number"&&0<io&&(Z=1.5*io,K.L=Z,K.j.info("backChannelRequestTimeoutMs_="+Z)),Z=K;const In=I.g;if(In){const ql=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ql){var ge=Z.h;ge.g||ql.indexOf("spdy")==-1&&ql.indexOf("quic")==-1&&ql.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Pt(ge,ge.h),ge.h=null))}if(Z.D){const Sh=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Sh&&(Z.ya=Sh,Nt(Z.I,Z.D,Sh))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-I.F,K.j.info("Handshake RTT: "+K.R+"ms")),Z=K;var Oe=I;if(Z.qa=Qm(Z,Z.J?Z.ia:null,Z.W),Oe.K){jt(Z.h,Oe);var Ut=Oe,Tr=Z.L;Tr&&(Ut.I=Tr),Ut.B&&(Se(Ut),de(Ut)),Z.g=Oe}else Wm(Z);0<K.i.length&&zl(K)}else Lt[0]!="stop"&&Lt[0]!="close"||xs(K,7);else K.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?xs(K,7):wh(K):Lt[0]!="noop"&&K.l&&K.l.ta(Lt),K.v=0)}}Ct(4)}catch{}}var vt=class{constructor(I,q){this.g=I,this.map=q}};function ut(I){this.l=I||10,u.PerformanceNavigationTiming?(I=u.performance.getEntriesByType("navigation"),I=0<I.length&&(I[0].nextHopProtocol=="hq"||I[0].nextHopProtocol=="h2")):I=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dt(I){return I.h?!0:I.g?I.g.size>=I.j:!1}function Je(I){return I.h?1:I.g?I.g.size:0}function At(I,q){return I.h?I.h==q:I.g?I.g.has(q):!1}function Pt(I,q){I.g?I.g.add(q):I.h=q}function jt(I,q){I.h&&I.h==q?I.h=null:I.g&&I.g.has(q)&&I.g.delete(q)}ut.prototype.cancel=function(){if(this.i=zt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const I of this.g.values())I.cancel();this.g.clear()}};function zt(I){if(I.h!=null)return I.i.concat(I.h.D);if(I.g!=null&&I.g.size!==0){let q=I.i;for(const K of I.g.values())q=q.concat(K.D);return q}return y(I.i)}function cr(I){if(I.V&&typeof I.V=="function")return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if(typeof I=="string")return I.split("");if(l(I)){for(var q=[],K=I.length,Z=0;Z<K;Z++)q.push(I[Z]);return q}q=[],K=0;for(Z in I)q[K++]=I[Z];return q}function Er(I){if(I.na&&typeof I.na=="function")return I.na();if(!I.V||typeof I.V!="function"){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(l(I)||typeof I=="string"){var q=[];I=I.length;for(var K=0;K<I;K++)q.push(K);return q}q=[],K=0;for(const Z in I)q[K++]=Z;return q}}}function Qr(I,q){if(I.forEach&&typeof I.forEach=="function")I.forEach(q,void 0);else if(l(I)||typeof I=="string")Array.prototype.forEach.call(I,q,void 0);else for(var K=Er(I),Z=cr(I),pe=Z.length,ge=0;ge<pe;ge++)q.call(void 0,Z[ge],K&&K[ge],I)}var Un=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ci(I,q){if(I){I=I.split("&");for(var K=0;K<I.length;K++){var Z=I[K].indexOf("="),pe=null;if(0<=Z){var ge=I[K].substring(0,Z);pe=I[K].substring(Z+1)}else ge=I[K];q(ge,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Jr(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof Jr){this.h=I.h,It(this,I.j),this.o=I.o,this.g=I.g,yt(this,I.s),this.l=I.l;var q=I.i,K=new Hn;K.i=q.i,q.g&&(K.g=new Map(q.g),K.h=q.h),kn(this,K),this.m=I.m}else I&&(q=String(I).match(Un))?(this.h=!1,It(this,q[1]||"",!0),this.o=gr(q[2]||""),this.g=gr(q[3]||"",!0),yt(this,q[4]),this.l=gr(q[5]||"",!0),kn(this,q[6]||"",!0),this.m=gr(q[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}Jr.prototype.toString=function(){var I=[],q=this.j;q&&I.push($r(q,Ii,!0),":");var K=this.g;return(K||q=="file")&&(I.push("//"),(q=this.o)&&I.push($r(q,Ii,!0),"@"),I.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),K=this.s,K!=null&&I.push(":",String(K))),(K=this.l)&&(this.g&&K.charAt(0)!="/"&&I.push("/"),I.push($r(K,K.charAt(0)=="/"?Ri:to,!0))),(K=this.i.toString())&&I.push("?",K),(K=this.m)&&I.push("#",$r(K,Ll)),I.join("")};function Mr(I){return new Jr(I)}function It(I,q,K){I.j=K?gr(q,!0):q,I.j&&(I.j=I.j.replace(/:$/,""))}function yt(I,q){if(q){if(q=Number(q),isNaN(q)||0>q)throw Error("Bad port number "+q);I.s=q}else I.s=null}function kn(I,q,K){q instanceof Hn?(I.i=q,ro(I.i,I.h)):(K||(q=$r(q,$n)),I.i=new Hn(q,I.h))}function Nt(I,q,K){I.i.set(q,K)}function ai(I){return Nt(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function gr(I,q){return I?q?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function $r(I,q,K){return typeof I=="string"?(I=encodeURI(I).replace(q,zn),K&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function zn(I){return I=I.charCodeAt(0),"%"+(I>>4&15).toString(16)+(I&15).toString(16)}var Ii=/[#\/\?@]/g,to=/[#\?:]/g,Ri=/[#\?]/g,$n=/[#\?@]/g,Ll=/#/g;function Hn(I,q){this.h=this.g=null,this.i=I||null,this.j=!!q}function bn(I){I.g||(I.g=new Map,I.h=0,I.i&&Ci(I.i,function(q,K){I.add(decodeURIComponent(q.replace(/\+/g," ")),K)}))}r=Hn.prototype,r.add=function(I,q){bn(this),this.i=null,I=Cn(this,I);var K=this.g.get(I);return K||this.g.set(I,K=[]),K.push(q),this.h+=1,this};function ws(I,q){bn(I),q=Cn(I,q),I.g.has(q)&&(I.i=null,I.h-=I.g.get(q).length,I.g.delete(q))}function _s(I,q){return bn(I),q=Cn(I,q),I.g.has(q)}r.forEach=function(I,q){bn(this),this.g.forEach(function(K,Z){K.forEach(function(pe){I.call(q,pe,Z,this)},this)},this)},r.na=function(){bn(this);const I=Array.from(this.g.values()),q=Array.from(this.g.keys()),K=[];for(let Z=0;Z<q.length;Z++){const pe=I[Z];for(let ge=0;ge<pe.length;ge++)K.push(q[Z])}return K},r.V=function(I){bn(this);let q=[];if(typeof I=="string")_s(this,I)&&(q=q.concat(this.g.get(Cn(this,I))));else{I=Array.from(this.g.values());for(let K=0;K<I.length;K++)q=q.concat(I[K])}return q},r.set=function(I,q){return bn(this),this.i=null,I=Cn(this,I),_s(this,I)&&(this.h-=this.g.get(I).length),this.g.set(I,[q]),this.h+=1,this},r.get=function(I,q){return I?(I=this.V(I),0<I.length?String(I[0]):q):q};function oa(I,q,K){ws(I,q),0<K.length&&(I.i=null,I.g.set(Cn(I,q),y(K)),I.h+=K.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],q=Array.from(this.g.keys());for(var K=0;K<q.length;K++){var Z=q[K];const ge=encodeURIComponent(String(Z)),Oe=this.V(Z);for(Z=0;Z<Oe.length;Z++){var pe=ge;Oe[Z]!==""&&(pe+="="+encodeURIComponent(String(Oe[Z]))),I.push(pe)}}return this.i=I.join("&")};function Cn(I,q){return q=String(q),I.j&&(q=q.toLowerCase()),q}function ro(I,q){q&&!I.j&&(bn(I),I.i=null,I.g.forEach(function(K,Z){var pe=Z.toLowerCase();Z!=pe&&(ws(this,Z),oa(this,pe,K))},I)),I.j=q}function d_(I,q){const K=new se;if(u.Image){const Z=new Image;Z.onload=f(Ai,K,"TestLoadImage: loaded",!0,q,Z),Z.onerror=f(Ai,K,"TestLoadImage: error",!1,q,Z),Z.onabort=f(Ai,K,"TestLoadImage: abort",!1,q,Z),Z.ontimeout=f(Ai,K,"TestLoadImage: timeout",!1,q,Z),u.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=I}else q(!1)}function p_(I,q){const K=new se,Z=new AbortController,pe=setTimeout(()=>{Z.abort(),Ai(K,"TestPingServer: timeout",!1,q)},1e4);fetch(I,{signal:Z.signal}).then(ge=>{clearTimeout(pe),ge.ok?Ai(K,"TestPingServer: ok",!0,q):Ai(K,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(pe),Ai(K,"TestPingServer: error",!1,q)})}function Ai(I,q,K,Z,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),Z(K)}catch{}}function m_(){this.g=new Fe}function g_(I,q,K){const Z=K||"";try{Qr(I,function(pe,ge){let Oe=pe;a(pe)&&(Oe=je(pe)),q.push(Z+ge+"="+encodeURIComponent(Oe))})}catch(pe){throw q.push(Z+"type="+encodeURIComponent("_badmap")),pe}}function Fl(I){this.l=I.Ub||null,this.j=I.eb||!1}m(Fl,mt),Fl.prototype.g=function(){return new Vl(this.l,this.j)},Fl.prototype.i=function(I){return function(){return I}}({});function Vl(I,q){Te.call(this),this.D=I,this.o=q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Vl,Te),r=Vl.prototype,r.open=function(I,q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=q,this.readyState=1,la(this)},r.send=function(I){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(q.body=I),(this.D||u).fetch(new Request(this.A,q)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,aa(this)),this.readyState=0},r.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if(this.responseType==="arraybuffer")I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dm(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dm(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}r.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var q=I.value?I.value:new Uint8Array(0);(q=this.v.decode(q,{stream:!I.done}))&&(this.response=this.responseText+=q)}I.done?aa(this):la(this),this.readyState==3&&Dm(this)}},r.Ra=function(I){this.g&&(this.response=this.responseText=I,aa(this))},r.Qa=function(I){this.g&&(this.response=I,aa(this))},r.ga=function(){this.g&&aa(this)};function aa(I){I.readyState=4,I.l=null,I.j=null,I.v=null,la(I)}r.setRequestHeader=function(I,q){this.u.append(I,q)},r.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],q=this.h.entries();for(var K=q.next();!K.done;)K=K.value,I.push(K[0]+": "+K[1]),K=q.next();return I.join(`\r
`)};function la(I){I.onreadystatechange&&I.onreadystatechange.call(I)}Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(I){this.m=I?"include":"same-origin"}});function jm(I){let q="";return U(I,function(K,Z){q+=Z,q+=":",q+=K,q+=`\r
`}),q}function vh(I,q,K){e:{for(Z in K){var Z=!1;break e}Z=!0}Z||(K=jm(K),typeof I=="string"?K!=null&&encodeURIComponent(String(K)):Nt(I,q,K))}function rr(I){Te.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(rr,Te);var y_=/^https?$/i,b_=["POST","PUT"];r=rr.prototype,r.Ha=function(I){this.J=I},r.ea=function(I,q,K,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);q=q?q.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qe.g(),this.v=this.o?Rt(this.o):Rt(qe),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(q,String(I),!0),this.B=!1}catch(ge){Lm(this,ge);return}if(I=K||"",K=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var pe in Z)K.set(pe,Z[pe]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const ge of Z.keys())K.set(ge,Z.get(ge));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(K.keys()).find(ge=>ge.toLowerCase()=="content-type"),pe=u.FormData&&I instanceof u.FormData,!(0<=Array.prototype.indexOf.call(b_,q,void 0))||Z||pe||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Oe]of K)this.g.setRequestHeader(ge,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bm(this),this.u=!0,this.g.send(I),this.u=!1}catch(ge){Lm(this,ge)}};function Lm(I,q){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=q,I.m=5,Fm(I),Bl(I)}function Fm(I){I.A||(I.A=!0,ke(I,"complete"),ke(I,"error"))}r.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,ke(this,"complete"),ke(this,"abort"),Bl(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bl(this,!0)),rr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vm(this):this.bb())},r.bb=function(){Vm(this)};function Vm(I){if(I.h&&typeof o<"u"&&(!I.v[1]||li(I)!=4||I.Z()!=2)){if(I.u&&li(I)==4)We(I.Ea,0,I);else if(ke(I,"readystatechange"),li(I)==4){I.h=!1;try{const Oe=I.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}var K;if(!(K=q)){var Z;if(Z=Oe===0){var pe=String(I.D).match(Un)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),Z=!y_.test(pe?pe.toLowerCase():"")}K=Z}if(K)ke(I,"complete"),ke(I,"success");else{I.m=6;try{var ge=2<li(I)?I.g.statusText:""}catch{ge=""}I.l=ge+" ["+I.Z()+"]",Fm(I)}}finally{Bl(I)}}}}function Bl(I,q){if(I.g){Bm(I);const K=I.g,Z=I.v[0]?()=>{}:null;I.g=null,I.v=null,q||ke(I,"ready");try{K.onreadystatechange=Z}catch{}}}function Bm(I){I.I&&(u.clearTimeout(I.I),I.I=null)}r.isActive=function(){return!!this.g};function li(I){return I.g?I.g.readyState:0}r.Z=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(I){if(this.g){var q=this.g.responseText;return I&&q.indexOf(I)==0&&(q=q.substring(I.length)),$e(q)}};function Um(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function v_(I){const q={};I=(I.g&&2<=li(I)&&I.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<I.length;Z++){if(g(I[Z]))continue;var K=z(I[Z]);const pe=K[0];if(K=K[1],typeof K!="string")continue;K=K.trim();const ge=q[pe]||[];q[pe]=ge,ge.push(K)}V(q,function(Z){return Z.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(I,q,K){return K&&K.internalChannelParams&&K.internalChannelParams[I]||q}function zm(I){this.Aa=0,this.i=[],this.j=new se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,I),this.cb=ua("retryDelaySeedMs",1e4,I),this.Wa=ua("forwardChannelMaxRetries",2,I),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new ut(I&&I.concurrentRequestLimit),this.Da=new m_,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=zm.prototype,r.la=8,r.G=1,r.connect=function(I,q,K,Z){at(0),this.W=I,this.H=q||{},K&&Z!==void 0&&(this.H.OSID=K,this.H.OAID=Z),this.F=this.X,this.I=Qm(this,null,this.W),zl(this)};function wh(I){if($m(I),I.G==3){var q=I.U++,K=Mr(I.I);if(Nt(K,"SID",I.K),Nt(K,"RID",q),Nt(K,"TYPE","terminate"),ca(I,K),q=new Ye(I,I.j,q),q.L=2,q.v=ai(Mr(K)),K=!1,u.navigator&&u.navigator.sendBeacon)try{K=u.navigator.sendBeacon(q.v.toString(),"")}catch{}!K&&u.Image&&(new Image().src=q.v,K=!0),K||(q.g=Jm(q.j,null),q.g.ea(q.v)),q.F=Date.now(),de(q)}Ym(I)}function Ul(I){I.g&&(xh(I),I.g.cancel(),I.g=null)}function $m(I){Ul(I),I.u&&(u.clearTimeout(I.u),I.u=null),$l(I),I.h.cancel(),I.s&&(typeof I.s=="number"&&u.clearTimeout(I.s),I.s=null)}function zl(I){if(!dt(I.h)&&!I.s){I.s=!0;var q=I.Ga;x||C(),_||(x(),_=!0),S.add(q,I),I.B=0}}function w_(I,q){return Je(I.h)>=I.h.j-(I.s?1:0)?!1:I.s?(I.i=q.D.concat(I.i),!0):I.G==1||I.G==2||I.B>=(I.Va?0:I.Wa)?!1:(I.s=it(h(I.Ga,I,q),Xm(I,I.B)),I.B++,!0)}r.Ga=function(I){if(this.s)if(this.s=null,this.G==1){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const pe=new Ye(this,this.j,I);let ge=this.o;if(this.S&&(ge?(ge=R(ge),L(ge,this.S)):ge=this.S),this.m!==null||this.O||(pe.H=ge,ge=null),this.P)e:{for(var q=0,K=0;K<this.i.length;K++){t:{var Z=this.i[K];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(q+=Z,4096<q){q=K;break e}if(q===4096||K===this.i.length-1){q=K+1;break e}}q=1e3}else q=1e3;q=qm(this,pe,q),K=Mr(this.I),Nt(K,"RID",I),Nt(K,"CVER",22),this.D&&Nt(K,"X-HTTP-Session-Id",this.D),ca(this,K),ge&&(this.O?q="headers="+encodeURIComponent(String(jm(ge)))+"&"+q:this.m&&vh(K,this.m,ge)),Pt(this.h,pe),this.Ua&&Nt(K,"TYPE","init"),this.P?(Nt(K,"$req",q),Nt(K,"SID","null"),pe.T=!0,Yt(pe,K,null)):Yt(pe,K,q),this.G=2}}else this.G==3&&(I?Hm(this,I):this.i.length==0||dt(this.h)||Hm(this))};function Hm(I,q){var K;q?K=q.l:K=I.U++;const Z=Mr(I.I);Nt(Z,"SID",I.K),Nt(Z,"RID",K),Nt(Z,"AID",I.T),ca(I,Z),I.m&&I.o&&vh(Z,I.m,I.o),K=new Ye(I,I.j,K,I.B+1),I.m===null&&(K.H=I.o),q&&(I.i=q.D.concat(I.i)),q=qm(I,K,1e3),K.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),Pt(I.h,K),Yt(K,Z,q)}function ca(I,q){I.H&&U(I.H,function(K,Z){Nt(q,Z,K)}),I.l&&Qr({},function(K,Z){Nt(q,Z,K)})}function qm(I,q,K){K=Math.min(I.i.length,K);var Z=I.l?h(I.l.Na,I.l,I):null;e:{var pe=I.i;let ge=-1;for(;;){const Oe=["count="+K];ge==-1?0<K?(ge=pe[0].g,Oe.push("ofs="+ge)):ge=0:Oe.push("ofs="+ge);let Ut=!0;for(let Tr=0;Tr<K;Tr++){let Lt=pe[Tr].g;const Nr=pe[Tr].map;if(Lt-=ge,0>Lt)ge=Math.max(0,pe[Tr].g-100),Ut=!1;else try{g_(Nr,Oe,"req"+Lt+"_")}catch{Z&&Z(Nr)}}if(Ut){Z=Oe.join("&");break e}}}return I=I.i.splice(0,K),q.D=I,Z}function Wm(I){if(!I.g&&!I.u){I.Y=1;var q=I.Fa;x||C(),_||(x(),_=!0),S.add(q,I),I.v=0}}function _h(I){return I.g||I.u||3<=I.v?!1:(I.Y++,I.u=it(h(I.Fa,I),Xm(I,I.v)),I.v++,!0)}r.Fa=function(){if(this.u=null,Gm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=it(h(this.ab,this),I)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ul(this),Gm(this))};function xh(I){I.A!=null&&(u.clearTimeout(I.A),I.A=null)}function Gm(I){I.g=new Ye(I,I.j,"rpc",I.Y),I.m===null&&(I.g.H=I.o),I.g.O=0;var q=Mr(I.qa);Nt(q,"RID","rpc"),Nt(q,"SID",I.K),Nt(q,"AID",I.T),Nt(q,"CI",I.F?"0":"1"),!I.F&&I.ja&&Nt(q,"TO",I.ja),Nt(q,"TYPE","xmlhttp"),ca(I,q),I.m&&I.o&&vh(q,I.m,I.o),I.L&&(I.g.I=I.L);var K=I.g;I=I.ia,K.L=1,K.v=ai(Mr(q)),K.m=null,K.P=!0,tr(K,I)}r.Za=function(){this.C!=null&&(this.C=null,Ul(this),_h(this),at(19))};function $l(I){I.C!=null&&(u.clearTimeout(I.C),I.C=null)}function Km(I,q){var K=null;if(I.g==q){$l(I),xh(I),I.g=null;var Z=2}else if(At(I.h,q))K=q.D,jt(I.h,q),Z=1;else return;if(I.G!=0){if(q.o)if(Z==1){K=q.m?q.m.length:0,q=Date.now()-q.F;var pe=I.B;Z=Xe(),ke(Z,new Dt(Z,K)),zl(I)}else Wm(I);else if(pe=q.s,pe==3||pe==0&&0<q.X||!(Z==1&&w_(I,q)||Z==2&&_h(I)))switch(K&&0<K.length&&(q=I.h,q.i=q.i.concat(K)),pe){case 1:xs(I,5);break;case 4:xs(I,10);break;case 3:xs(I,6);break;default:xs(I,2)}}}function Xm(I,q){let K=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(K*=2),K*q}function xs(I,q){if(I.j.info("Error code "+q),q==2){var K=h(I.fb,I),Z=I.Xa;const pe=!Z;Z=new Jr(Z||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||It(Z,"https"),ai(Z),pe?d_(Z.toString(),K):p_(Z.toString(),K)}else at(2);I.G=0,I.l&&I.l.sa(q),Ym(I),$m(I)}r.fb=function(I){I?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Ym(I){if(I.G=0,I.ka=[],I.l){const q=zt(I.h);(q.length!=0||I.i.length!=0)&&(p(I.ka,q),p(I.ka,I.i),I.h.i.length=0,y(I.i),I.i.length=0),I.l.ra()}}function Qm(I,q,K){var Z=K instanceof Jr?Mr(K):new Jr(K);if(Z.g!="")q&&(Z.g=q+"."+Z.g),yt(Z,Z.s);else{var pe=u.location;Z=pe.protocol,q=q?q+"."+pe.hostname:pe.hostname,pe=+pe.port;var ge=new Jr(null);Z&&It(ge,Z),q&&(ge.g=q),pe&&yt(ge,pe),K&&(ge.l=K),Z=ge}return K=I.D,q=I.ya,K&&q&&Nt(Z,K,q),Nt(Z,"VER",I.la),ca(I,Z),Z}function Jm(I,q,K){if(q&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return q=I.Ca&&!I.pa?new rr(new Fl({eb:K})):new rr(I.pa),q.Ha(I.J),q}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zm(){}r=Zm.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Hl(){}Hl.prototype.g=function(I,q){return new ln(I,q)};function ln(I,q){Te.call(this),this.g=new zm(q),this.l=I,this.h=q&&q.messageUrlParams||null,I=q&&q.messageHeaders||null,q&&q.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=q&&q.initMessageHeaders||null,q&&q.messageContentType&&(I?I["X-WebChannel-Content-Type"]=q.messageContentType:I={"X-WebChannel-Content-Type":q.messageContentType}),q&&q.va&&(I?I["X-WebChannel-Client-Profile"]=q.va:I={"X-WebChannel-Client-Profile":q.va}),this.g.S=I,(I=q&&q.Sb)&&!g(I)&&(this.g.m=I),this.v=q&&q.supportsCrossDomainXhr||!1,this.u=q&&q.sendRawJson||!1,(q=q&&q.httpSessionIdParam)&&!g(q)&&(this.g.D=q,I=this.h,I!==null&&q in I&&(I=this.h,q in I&&delete I[q])),this.j=new no(this)}m(ln,Te),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){wh(this.g)},ln.prototype.o=function(I){var q=this.g;if(typeof I=="string"){var K={};K.__data__=I,I=K}else this.u&&(K={},K.__data__=je(I),I=K);q.i.push(new vt(q.Ya++,I)),q.G==3&&zl(q)},ln.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,ln.aa.N.call(this)};function e0(I){pt.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var q=I.__sm__;if(q){e:{for(const K in q){I=K;break e}I=void 0}(this.i=I)&&(I=this.i,q=q!==null&&I in q?q[I]:void 0),this.data=q}else this.data=I}m(e0,pt);function t0(){nt.call(this),this.status=1}m(t0,nt);function no(I){this.g=I}m(no,Zm),no.prototype.ua=function(){ke(this.g,"a")},no.prototype.ta=function(I){ke(this.g,new e0(I))},no.prototype.sa=function(I){ke(this.g,new t0)},no.prototype.ra=function(){ke(this.g,"b")},Hl.prototype.createWebChannel=Hl.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Kv=function(){return new Hl},Gv=function(){return Xe()},Wv=_t,dd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tt.NO_ERROR=0,tt.TIMEOUT=8,tt.HTTP_ERROR=6,Nu=tt,Qe.COMPLETE="complete",qv=Qe,Ke.EventType=gt,gt.OPEN="a",gt.CLOSE="b",gt.ERROR="c",gt.MESSAGE="d",Te.prototype.listen=Te.prototype.K,Ea=Ke,rr.prototype.listenOnce=rr.prototype.L,rr.prototype.getLastError=rr.prototype.Ka,rr.prototype.getLastErrorCode=rr.prototype.Ba,rr.prototype.getStatus=rr.prototype.Z,rr.prototype.getResponseJson=rr.prototype.Oa,rr.prototype.getResponseText=rr.prototype.oa,rr.prototype.send=rr.prototype.ea,rr.prototype.setWithCredentials=rr.prototype.Ha,Hv=rr}).apply(typeof uu<"u"?uu:typeof self<"u"?self:typeof window<"u"?window:{});const Pg="@firebase/firestore",Mg="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Dp("@firebase/firestore");function oo(){return $s.logLevel}function Ve(r,...t){if($s.logLevel<=Et.DEBUG){const e=t.map(Lp);$s.debug(`Firestore (${ea}): ${r}`,...e)}}function xi(r,...t){if($s.logLevel<=Et.ERROR){const e=t.map(Lp);$s.error(`Firestore (${ea}): ${r}`,...e)}}function zo(r,...t){if($s.logLevel<=Et.WARN){const e=t.map(Lp);$s.warn(`Firestore (${ea}): ${r}`,...e)}}function Lp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(r,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,Xv(r,n,e)}function Xv(r,t,e){let n=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw xi(n),new Error(n)}function Vt(r,t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,r||Xv(t,i,n)}function ht(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends oi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Fr.UNAUTHENTICATED))}shutdown(){}}class N8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class O8{constructor(t){this.t=t,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Vt(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,e(l)):Promise.resolve();let s=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ms,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ms)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Vt(typeof n.accessToken=="string",31837,{l:n}),new Yv(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Vt(t===null||typeof t=="string",2055,{h:t}),new Fr(t)}}class D8{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j8{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new D8(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ng{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L8{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Vt(this.o===void 0,3512);const n=s=>{s.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};const i=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ng(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Vt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Ng(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=F8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<e&&(n+=t.charAt(i[s]%62))}return n}}function Tt(r,t){return r<t?-1:r>t?1:0}function pd(r,t){const e=Math.min(r.length,t.length);for(let n=0;n<e;n++){const i=r.charAt(n),s=t.charAt(n);if(i!==s)return rf(i)===rf(s)?Tt(i,s):rf(i)?1:-1}return Tt(r.length,t.length)}const V8=55296,B8=57343;function rf(r){const t=r.charCodeAt(0);return t>=V8&&t<=B8}function $o(r,t,e){return r.length===t.length&&r.every((n,i)=>e(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="__name__";class Gn{constructor(t,e,n){e===void 0?e=0:e>t.length&&ot(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&ot(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return Gn.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gn?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=Gn.compareSegments(t.get(i),e.get(i));if(s!==0)return s}return Tt(t.length,e.length)}static compareSegments(t,e){const n=Gn.isNumericId(t),i=Gn.isNumericId(e);return n&&!i?-1:!n&&i?1:n&&i?Gn.extractNumericId(t).compare(Gn.extractNumericId(e)):pd(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ns.fromString(t.substring(4,t.length-2))}}class $t extends Gn{construct(t,e,n){return new $t(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Le(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(i=>i.length>0))}return new $t(e)}static emptyPath(){return new $t([])}}const U8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends Gn{construct(t,e,n){return new Ir(t,e,n)}static isValidIdentifier(t){return U8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Og}static keyField(){return new Ir([Og])}static fromServerFormat(t){const e=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Le(we.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;i<t.length;){const u=t[i];if(u==="\\"){if(i+1===t.length)throw new Le(we.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Le(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(n+=u,i++):(s(),i++)}if(s(),o)throw new Le(we.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ir(e)}static emptyPath(){return new Ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.path=t}static fromPath(t){return new et($t.fromString(t))}static fromName(t){return new et($t.fromString(t).popFirst(5))}static empty(){return new et($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return $t.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new $t(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(r,t,e){if(!e)throw new Le(we.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function z8(r,t,e,n){if(t===!0&&n===!0)throw new Le(we.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function Dg(r){if(!et.isDocumentKey(r))throw new Le(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jg(r){if(et.isDocumentKey(r))throw new Le(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function eh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":ot(12329,{type:typeof r})}function gi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Le(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=eh(r);throw new Le(we.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(r,t){const e={typeString:r};return t&&(e.value=t),e}function Il(r,t){if(!Jv(r))throw new Le(we.INVALID_ARGUMENT,"JSON must be an object");let e;for(const n in t)if(t[n]){const i=t[n].typeString,s="value"in t[n]?{value:t[n].value}:void 0;if(!(n in r)){e=`JSON missing required field: '${n}'`;break}const o=r[n];if(i&&typeof o!==i){e=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${n}' field to equal '${s.value}'`;break}}if(e)throw new Le(we.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=-62135596800,Fg=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(t){return Gt.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*Fg);return new Gt(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Le(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Le(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Lg)throw new Le(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Le(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fg}_compareTo(t){return this.seconds===t.seconds?Tt(this.nanoseconds,t.nanoseconds):Tt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Il(t,Gt._jsonSchema))return new Gt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Lg;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:pr("string",Gt._jsonSchemaVersion),seconds:pr("number"),nanoseconds:pr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static fromTimestamp(t){return new ct(t)}static min(){return new ct(new Gt(0,0))}static max(){return new ct(new Gt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=-1;function $8(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(n===1e9?new Gt(e+1,0):new Gt(e,n));return new ls(i,et.empty(),t)}function H8(r){return new ls(r.readTime,r.key,cl)}class ls{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new ls(ct.min(),et.empty(),cl)}static max(){return new ls(ct.max(),et.empty(),cl)}}function q8(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=et.comparator(r.documentKey,t.documentKey),e!==0?e:Tt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(r){if(r.code!==we.FAILED_PRECONDITION||r.message!==W8)throw r;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new _e((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof _e?e:_e.resolve(e)}catch(e){return _e.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):_e.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):_e.reject(e)}static resolve(t){return new _e((e,n)=>{e(t)})}static reject(t){return new _e((e,n)=>{n(t)})}static waitFor(t){return new _e((e,n)=>{let i=0,s=0,o=!1;t.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&e()},l=>n(l))}),o=!0,s===i&&e()})}static or(t){let e=_e.resolve(!1);for(const n of t)e=e.next(i=>i?_e.resolve(i):n());return e}static forEach(t,e){const n=[];return t.forEach((i,s)=>{n.push(e.call(this,i,s))}),this.waitFor(n)}static mapArray(t,e){return new _e((n,i)=>{const s=t.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const a=l;e(t[a]).next(c=>{o[a]=c,++u,u===s&&n(o)},c=>i(c))}})}static doWhile(t,e){return new _e((n,i)=>{const s=()=>{t()===!0?e().next(()=>{s()},i):n()};s()})}}function K8(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ra(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>e.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-1;function rh(r){return r==null}function gc(r){return r===0&&1/r==-1/0}function X8(r){return typeof r=="number"&&Number.isInteger(r)&&!gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="";function Y8(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=Vg(t)),t=Q8(r.get(e),t);return Vg(t)}function Q8(r,t){let e=t;const n=r.length;for(let i=0;i<n;i++){const s=r.charAt(i);switch(s){case"\0":e+="";break;case Zv:e+="";break;default:e+=s}}return e}function Vg(r){return r+Zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function bs(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function e2(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,e){this.comparator=t,this.root=e||Cr.EMPTY}insert(t,e){return new er(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(t){return new er(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cu(this.root,t,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cu(this.root,t,this.comparator,!0)}}class cu{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Cr{constructor(t,e,n,i,s){this.key=t,this.value=e,this.color=n??Cr.RED,this.left=i??Cr.EMPTY,this.right=s??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,s){return new Cr(t??this.key,e??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const s=n(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,n),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return Cr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ot(27949);return t+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(t,e,n,i,s){return this}insert(t,e,n){return new Cr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t){this.comparator=t,this.data=new er(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ug(this.data.getIterator())}getIteratorFrom(t){return new Ug(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof vr)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new vr(this.comparator);return e.data=t,e}}class Ug{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.fields=t,t.sort(Ir.comparator)}static empty(){return new fn([])}unionWith(t){let e=new vr(Ir.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new fn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $o(this.fields,t.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new t2("Invalid base64 string: "+s):s}}(t);return new Pr(e)}static fromUint8Array(t){const e=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Pr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Tt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const J8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(Vt(!!r,39018),typeof r=="string"){let t=0;const e=J8.exec(r);if(Vt(!!e,46558,{timestamp:r}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:or(r.seconds),nanos:or(r.nanos)}}function or(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?Pr.fromBase64String(r):Pr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="server_timestamp",n2="__type__",i2="__previous_value__",s2="__local_write_time__";function Bp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[n2])==null?void 0:n.stringValue)===r2}function nh(r){const t=r.mapValue.fields[i2];return Bp(t)?nh(t):t}function hl(r){const t=us(r.mapValue.fields[s2].timestampValue);return new Gt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(t,e,n,i,s,o,u,l,a,c){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=a,this.isUsingEmulator=c}}const yc="(default)";class fl{constructor(t,e){this.projectId=t,this.database=e||yc}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database===yc}isEqual(t){return t instanceof fl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="__type__",ex="__max__",hu={mapValue:{}},a2="__vector__",bc="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bp(r)?4:rx(r)?9007199254740991:tx(r)?10:11:ot(28295,{value:r})}function si(r,t){if(r===t)return!0;const e=hs(r);if(e!==hs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return hl(r).isEqual(hl(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=us(i.timestampValue),u=us(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(i,s){return cs(i.bytesValue).isEqual(cs(s.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(i,s){return or(i.geoPointValue.latitude)===or(s.geoPointValue.latitude)&&or(i.geoPointValue.longitude)===or(s.geoPointValue.longitude)}(r,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return or(i.integerValue)===or(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=or(i.doubleValue),u=or(s.doubleValue);return o===u?gc(o)===gc(u):isNaN(o)&&isNaN(u)}return!1}(r,t);case 9:return $o(r.arrayValue.values||[],t.arrayValue.values||[],si);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Bg(o)!==Bg(u))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(u[l]===void 0||!si(o[l],u[l])))return!1;return!0}(r,t);default:return ot(52216,{left:r})}}function dl(r,t){return(r.values||[]).find(e=>si(e,t))!==void 0}function Ho(r,t){if(r===t)return 0;const e=hs(r),n=hs(t);if(e!==n)return Tt(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Tt(r.booleanValue,t.booleanValue);case 2:return function(s,o){const u=or(s.integerValue||s.doubleValue),l=or(o.integerValue||o.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(r,t);case 3:return zg(r.timestampValue,t.timestampValue);case 4:return zg(hl(r),hl(t));case 5:return pd(r.stringValue,t.stringValue);case 6:return function(s,o){const u=cs(s),l=cs(o);return u.compareTo(l)}(r.bytesValue,t.bytesValue);case 7:return function(s,o){const u=s.split("/"),l=o.split("/");for(let a=0;a<u.length&&a<l.length;a++){const c=Tt(u[a],l[a]);if(c!==0)return c}return Tt(u.length,l.length)}(r.referenceValue,t.referenceValue);case 8:return function(s,o){const u=Tt(or(s.latitude),or(o.latitude));return u!==0?u:Tt(or(s.longitude),or(o.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return $g(r.arrayValue,t.arrayValue);case 10:return function(s,o){var h,f,m,y;const u=s.fields||{},l=o.fields||{},a=(h=u[bc])==null?void 0:h.arrayValue,c=(f=l[bc])==null?void 0:f.arrayValue,d=Tt(((m=a==null?void 0:a.values)==null?void 0:m.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return d!==0?d:$g(a,c)}(r.mapValue,t.mapValue);case 11:return function(s,o){if(s===hu.mapValue&&o===hu.mapValue)return 0;if(s===hu.mapValue)return 1;if(o===hu.mapValue)return-1;const u=s.fields||{},l=Object.keys(u),a=o.fields||{},c=Object.keys(a);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=pd(l[d],c[d]);if(h!==0)return h;const f=Ho(u[l[d]],a[c[d]]);if(f!==0)return f}return Tt(l.length,c.length)}(r.mapValue,t.mapValue);default:throw ot(23264,{he:e})}}function zg(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Tt(r,t);const e=us(r),n=us(t),i=Tt(e.seconds,n.seconds);return i!==0?i:Tt(e.nanos,n.nanos)}function $g(r,t){const e=r.values||[],n=t.values||[];for(let i=0;i<e.length&&i<n.length;++i){const s=Ho(e[i],n[i]);if(s)return s}return Tt(e.length,n.length)}function qo(r){return md(r)}function md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=us(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return cs(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return et.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",i=!0;for(const s of e.values||[])i?i=!1:n+=",",n+=md(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${md(e.fields[o])}`;return i+"}"}(r.mapValue):ot(61005,{value:r})}function Ou(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(r);return t?16+Ou(t):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+Ou(s),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return bs(n.fields,(s,o)=>{i+=s.length+Ou(o)}),i}(r.mapValue);default:throw ot(13486,{value:r})}}function Hg(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function gd(r){return!!r&&"integerValue"in r}function Up(r){return!!r&&"arrayValue"in r}function qg(r){return!!r&&"nullValue"in r}function Wg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Du(r){return!!r&&"mapValue"in r}function tx(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[o2])==null?void 0:n.stringValue)===a2}function Fa(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return bs(r.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Fa(n)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Fa(r.arrayValue.values[e]);return t}return{...r}}function rx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ex}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.value=t}static empty(){return new rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Du(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fa(e)}setAll(t){let e=Ir.emptyPath(),n={},i=[];t.forEach((o,u)=>{if(!e.isImmediateParentOf(u)){const l=this.getFieldsMap(e);this.applyChanges(l,n,i),n={},i=[],e=u.popLast()}o?n[u.lastSegment()]=Fa(o):i.push(u.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,n,i)}delete(t){const e=this.field(t.popLast());Du(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return si(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];Du(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){bs(e,(i,s)=>t[i]=s);for(const i of n)delete t[i]}clone(){return new rn(Fa(this.value))}}function l2(r){const t=[];return bs(r.fields,(e,n)=>{const i=new Ir([e]);if(Du(n)){const s=l2(n.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,e,n,i,s,o,u){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Br(t,0,ct.min(),ct.min(),ct.min(),rn.empty(),0)}static newFoundDocument(t,e,n,i){return new Br(t,1,e,ct.min(),n,i,0)}static newNoDocument(t,e){return new Br(t,2,e,ct.min(),ct.min(),rn.empty(),0)}static newUnknownDocument(t,e){return new Br(t,3,e,ct.min(),ct.min(),rn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Br&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,e){this.position=t,this.inclusive=e}}function Gg(r,t,e){let n=0;for(let i=0;i<r.position.length;i++){const s=t[i],o=r.position[i];if(s.field.isKeyField()?n=et.comparator(et.fromName(o.referenceValue),e.key):n=Ho(o,e.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Kg(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!si(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,e="asc"){this.field=t,this.dir=e}}function nx(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{}class dr extends u2{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new sx(t,e,n):e==="array-contains"?new lx(t,n):e==="in"?new ux(t,n):e==="not-in"?new cx(t,n):e==="array-contains-any"?new hx(t,n):new dr(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new ox(t,n):new ax(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ho(e,this.value)):e!==null&&hs(this.value)===hs(e)&&this.matchesComparison(Ho(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends u2{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Bn(t,e)}matches(t){return c2(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c2(r){return r.op==="and"}function h2(r){return ix(r)&&c2(r)}function ix(r){for(const t of r.filters)if(t instanceof Bn)return!1;return!0}function yd(r){if(r instanceof dr)return r.field.canonicalString()+r.op.toString()+qo(r.value);if(h2(r))return r.filters.map(t=>yd(t)).join(",");{const t=r.filters.map(e=>yd(e)).join(",");return`${r.op}(${t})`}}function f2(r,t){return r instanceof dr?function(n,i){return i instanceof dr&&n.op===i.op&&n.field.isEqual(i.field)&&si(n.value,i.value)}(r,t):r instanceof Bn?function(n,i){return i instanceof Bn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,u)=>s&&f2(o,i.filters[u]),!0):!1}(r,t):void ot(19439)}function d2(r){return r instanceof dr?function(e){return`${e.field.canonicalString()} ${e.op} ${qo(e.value)}`}(r):r instanceof Bn?function(e){return e.op.toString()+" {"+e.getFilters().map(d2).join(" ,")+"}"}(r):"Filter"}class sx extends dr{constructor(t,e,n){super(t,e,n),this.key=et.fromName(n.referenceValue)}matches(t){const e=et.comparator(t.key,this.key);return this.matchesComparison(e)}}class ox extends dr{constructor(t,e){super(t,"in",e),this.keys=p2("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ax extends dr{constructor(t,e){super(t,"not-in",e),this.keys=p2("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function p2(r,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map(n=>et.fromName(n.referenceValue))}class lx extends dr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Up(e)&&dl(e.arrayValue,this.value)}}class ux extends dr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&dl(this.value.arrayValue,e)}}class cx extends dr{constructor(t,e){super(t,"not-in",e)}matches(t){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!dl(this.value.arrayValue,e)}}class hx extends dr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Up(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>dl(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,e=null,n=[],i=[],s=null,o=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.Te=null}}function Xg(r,t=null,e=[],n=[],i=null,s=null,o=null){return new fx(r,t,e,n,i,s,o)}function zp(r){const t=ht(r);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>yd(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),rh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>qo(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>qo(n)).join(",")),t.Te=e}return t.Te}function $p(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!nx(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!f2(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Kg(r.startAt,t.startAt)&&Kg(r.endAt,t.endAt)}function bd(r){return et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,e=null,n=[],i=[],s=null,o="F",u=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dx(r,t,e,n,i,s,o,u){return new na(r,t,e,n,i,s,o,u)}function Hp(r){return new na(r)}function Yg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function m2(r){return r.collectionGroup!==null}function Va(r){const t=ht(r);if(t.Ie===null){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new vr(Ir.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(a=>{a.isInequality()&&(u=u.add(a.field))})}),u})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new pl(s,n))}),e.has(Ir.keyField().canonicalString())||t.Ie.push(new pl(Ir.keyField(),n))}return t.Ie}function Zn(r){const t=ht(r);return t.Ee||(t.Ee=px(t,Va(r))),t.Ee}function px(r,t){if(r.limitType==="F")return Xg(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pl(i.field,s)});const e=r.endAt?new vc(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new vc(r.startAt.position,r.startAt.inclusive):null;return Xg(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function vd(r,t){const e=r.filters.concat([t]);return new na(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function wd(r,t,e){return new na(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function ih(r,t){return $p(Zn(r),Zn(t))&&r.limitType===t.limitType}function g2(r){return`${zp(Zn(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>d2(i)).join(", ")}]`),rh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>qo(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>qo(i)).join(",")),`Target(${n})`}(Zn(r))}; limitType=${r.limitType})`}function sh(r,t){return t.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):et.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,t)&&function(n,i){for(const s of Va(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(r,t)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(r,t)&&function(n,i){return!(n.startAt&&!function(o,u,l){const a=Gg(o,u,l);return o.inclusive?a<=0:a<0}(n.startAt,Va(n),i)||n.endAt&&!function(o,u,l){const a=Gg(o,u,l);return o.inclusive?a>=0:a>0}(n.endAt,Va(n),i))}(r,t)}function mx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function y2(r){return(t,e)=>{let n=!1;for(const i of Va(r)){const s=gx(i,t,e);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function gx(r,t,e){const n=r.field.isKeyField()?et.comparator(t.key,e.key):function(s,o,u){const l=o.data.field(s),a=u.data.field(s);return l!==null&&a!==null?Ho(l,a):ot(42886)}(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ot(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){bs(this.inner,(e,n)=>{for(const[i,s]of n)t(i,s)})}isEmpty(){return e2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new er(et.comparator);function Si(){return yx}const b2=new er(et.comparator);function Ta(...r){let t=b2;for(const e of r)t=t.insert(e.key,e);return t}function v2(r){let t=b2;return r.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Rs(){return Ba()}function w2(){return Ba()}function Ba(){return new Js(r=>r.toString(),(r,t)=>r.isEqual(t))}const bx=new er(et.comparator),vx=new vr(et.comparator);function kt(...r){let t=vx;for(const e of r)t=t.add(e);return t}const wx=new vr(Tt);function _x(){return wx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(t)?"-0":t}}function _2(r){return{integerValue:""+r}}function xx(r,t){return X8(t)?_2(t):qp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function Sx(r,t,e){return r instanceof ml?function(i,s){const o={fields:{[n2]:{stringValue:r2},[s2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Bp(s)&&(s=nh(s)),s&&(o.fields[i2]=s),{mapValue:o}}(e,t):r instanceof gl?S2(r,t):r instanceof yl?E2(r,t):function(i,s){const o=x2(i,s),u=Qg(o)+Qg(i.Ae);return gd(o)&&gd(i.Ae)?_2(u):qp(i.serializer,u)}(r,t)}function Ex(r,t,e){return r instanceof gl?S2(r,t):r instanceof yl?E2(r,t):e}function x2(r,t){return r instanceof wc?function(n){return gd(n)||function(s){return!!s&&"doubleValue"in s}(n)}(t)?t:{integerValue:0}:null}class ml extends oh{}class gl extends oh{constructor(t){super(),this.elements=t}}function S2(r,t){const e=T2(t);for(const n of r.elements)e.some(i=>si(i,n))||e.push(n);return{arrayValue:{values:e}}}class yl extends oh{constructor(t){super(),this.elements=t}}function E2(r,t){let e=T2(t);for(const n of r.elements)e=e.filter(i=>!si(i,n));return{arrayValue:{values:e}}}class wc extends oh{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Qg(r){return or(r.integerValue||r.doubleValue)}function T2(r){return Up(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t,e){this.field=t,this.transform=e}}function kx(r,t){return r.field.isEqual(t.field)&&function(n,i){return n instanceof gl&&i instanceof gl||n instanceof yl&&i instanceof yl?$o(n.elements,i.elements,si):n instanceof wc&&i instanceof wc?si(n.Ae,i.Ae):n instanceof ml&&i instanceof ml}(r.transform,t.transform)}class Cx{constructor(t,e){this.version=t,this.transformResults=e}}class Fn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fn}static exists(t){return new Fn(void 0,t)}static updateTime(t){return new Fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ju(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ah{}function k2(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Wp(r.key,Fn.none()):new Rl(r.key,r.data,Fn.none());{const e=r.data,n=rn.empty();let i=new vr(Ir.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new vs(r.key,n,new fn(i.toArray()),Fn.none())}}function Ix(r,t,e){r instanceof Rl?function(i,s,o){const u=i.value.clone(),l=Zg(i.fieldTransforms,s,o.transformResults);u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(r,t,e):r instanceof vs?function(i,s,o){if(!ju(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=Zg(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(C2(i)),l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(r,t,e):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Ua(r,t,e,n){return r instanceof Rl?function(s,o,u,l){if(!ju(s.precondition,o))return u;const a=s.value.clone(),c=e1(s.fieldTransforms,l,o);return a.setAll(c),o.convertToFoundDocument(o.version,a).setHasLocalMutations(),null}(r,t,e,n):r instanceof vs?function(s,o,u,l){if(!ju(s.precondition,o))return u;const a=e1(s.fieldTransforms,l,o),c=o.data;return c.setAll(C2(s)),c.setAll(a),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(r,t,e,n):function(s,o,u){return ju(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(r,t,e)}function Rx(r,t){let e=null;for(const n of r.fieldTransforms){const i=t.data.field(n.field),s=x2(n.transform,i||null);s!=null&&(e===null&&(e=rn.empty()),e.set(n.field,s))}return e||null}function Jg(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&$o(n,i,(s,o)=>kx(s,o))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Rl extends ah{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vs extends ah{constructor(t,e,n,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function C2(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}}),t}function Zg(r,t,e){const n=new Map;Vt(r.length===e.length,32656,{Re:e.length,Ve:r.length});for(let i=0;i<e.length;i++){const s=r[i],o=s.transform,u=t.data.field(s.field);n.set(s.field,Ex(o,u,e[i]))}return n}function e1(r,t,e){const n=new Map;for(const i of r){const s=i.transform,o=e.data.field(i.field);n.set(i.field,Sx(s,o,t))}return n}class Wp extends ah{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax extends ah{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Ix(s,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Ua(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Ua(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=w2();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=e.has(i.key)?null:u;const l=k2(o,u);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ct.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),kt())}isEqual(t){return this.batchId===t.batchId&&$o(this.mutations,t.mutations,(e,n)=>Jg(e,n))&&$o(this.baseMutations,t.baseMutations,(e,n)=>Jg(e,n))}}class Gp{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Vt(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return bx}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new Gp(t,e,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr,Mt;function Ox(r){switch(r){case we.OK:return ot(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return ot(15467,{code:r})}}function I2(r){if(r===void 0)return xi("GRPC error has no .code"),we.UNKNOWN;switch(r){case hr.OK:return we.OK;case hr.CANCELLED:return we.CANCELLED;case hr.UNKNOWN:return we.UNKNOWN;case hr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case hr.INTERNAL:return we.INTERNAL;case hr.UNAVAILABLE:return we.UNAVAILABLE;case hr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case hr.NOT_FOUND:return we.NOT_FOUND;case hr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case hr.ABORTED:return we.ABORTED;case hr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case hr.DATA_LOSS:return we.DATA_LOSS;default:return ot(39323,{code:r})}}(Mt=hr||(hr={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new ns([4294967295,4294967295],0);function t1(r){const t=Dx().encode(r),e=new $v;return e.update(t),new Uint8Array(e.digest())}function r1(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ns([e,n],0),new ns([i,s],0)]}class Kp{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new ka(`Invalid padding: ${e}`);if(n<0)throw new ka(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new ka(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ns.fromNumber(this.ge)}ye(t,e,n){let i=t.add(e.multiply(ns.fromNumber(n)));return i.compare(jx)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=t1(t),[n,i]=r1(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Kp(s,i,e);return n.forEach(u=>o.insert(u)),o}insert(t){if(this.ge===0)return;const e=t1(t),[n,i]=r1(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,e,n,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,Al.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new lh(ct.min(),i,new er(Tt),Si(),kt())}}class Al{constructor(t,e,n,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Al(n,e,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,e,n,i){this.be=t,this.removedTargetIds=e,this.key=n,this.De=i}}class R2{constructor(t,e){this.targetId=t,this.Ce=e}}class A2{constructor(t,e,n=Pr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class n1{constructor(){this.ve=0,this.Fe=i1(),this.Me=Pr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),e=kt(),n=kt();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:ot(38017,{changeType:s})}}),new Al(this.Me,this.xe,t,e,n)}qe(){this.Oe=!1,this.Fe=i1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Si(),this.Je=fu(),this.He=fu(),this.Ye=new er(Tt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:ot(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((n,i)=>{this.rt(i)&&e(i)})}st(t){const e=t.targetId,n=t.Ce.count,i=this.ot(e);if(i){const s=i.target;if(bd(s))if(n===0){const o=new et(s.path);this.et(e,o,Br.newNoDocument(o,ct.min()))}else Vt(n===1,20013,{expectedCount:n});else{const o=this._t(e);if(o!==n){const u=this.ut(t),l=u?this.ct(u,t,o):1;if(l!==0){this.it(e);const a=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,a)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=e;let o,u;try{o=cs(n).toUint8Array()}catch(l){if(l instanceof t2)return zo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{u=new Kp(o,i,s)}catch(l){return zo(l instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return u.ge===0?null:u}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let i=0;return n.forEach(s=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(u)||(this.et(e,s,null),i++)}),i}Tt(t){const e=new Map;this.ze.forEach((s,o)=>{const u=this.ot(o);if(u){if(s.current&&bd(u.target)){const l=new et(u.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Br.newNoDocument(l,t))}s.Be&&(e.set(o,s.ke()),s.qe())}});let n=kt();this.He.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const a=this.ot(l);return!a||a.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const i=new lh(t,e,this.Ye,this.je,n);return this.je=Si(),this.Je=fu(),this.He=fu(),this.Ye=new er(Tt),i}Xe(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,n),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new n1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new vr(Tt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new vr(Tt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Ve("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new n1),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function fu(){return new er(et.comparator)}function i1(){return new er(et.comparator)}const Fx={asc:"ASCENDING",desc:"DESCENDING"},Vx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bx={and:"AND",or:"OR"};class Ux{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function _d(r,t){return r.useProto3Json||rh(t)?t:{value:t}}function _c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function P2(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function zx(r,t){return _c(r,t.toTimestamp())}function ei(r){return Vt(!!r,49232),ct.fromTimestamp(function(e){const n=us(e);return new Gt(n.seconds,n.nanos)}(r))}function Xp(r,t){return xd(r,t).canonicalString()}function xd(r,t){const e=function(i){return new $t(["projects",i.projectId,"databases",i.database])}(r).child("documents");return t===void 0?e:e.child(t)}function M2(r){const t=$t.fromString(r);return Vt(L2(t),10190,{key:t.toString()}),t}function Sd(r,t){return Xp(r.databaseId,t.path)}function nf(r,t){const e=M2(t);if(e.get(1)!==r.databaseId.projectId)throw new Le(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new Le(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new et(O2(e))}function N2(r,t){return Xp(r.databaseId,t)}function $x(r){const t=M2(r);return t.length===4?$t.emptyPath():O2(t)}function Ed(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function O2(r){return Vt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function s1(r,t,e){return{name:Sd(r,t),fields:e.value.mapValue.fields}}function Hx(r,t){let e;if("targetChange"in t){t.targetChange;const n=function(a){return a==="NO_CHANGE"?0:a==="ADD"?1:a==="REMOVE"?2:a==="CURRENT"?3:a==="RESET"?4:ot(39313,{state:a})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(a,c){return a.useProto3Json?(Vt(c===void 0||typeof c=="string",58123),Pr.fromBase64String(c||"")):(Vt(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Pr.fromUint8Array(c||new Uint8Array))}(r,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(a){const c=a.code===void 0?we.UNKNOWN:I2(a.code);return new Le(c,a.message||"")}(o);e=new A2(n,i,s,u||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=nf(r,n.document.name),s=ei(n.document.updateTime),o=n.document.createTime?ei(n.document.createTime):ct.min(),u=new rn({mapValue:{fields:n.document.fields}}),l=Br.newFoundDocument(i,s,o,u),a=n.targetIds||[],c=n.removedTargetIds||[];e=new Lu(a,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=nf(r,n.document),s=n.readTime?ei(n.readTime):ct.min(),o=Br.newNoDocument(i,s),u=n.removedTargetIds||[];e=new Lu([],u,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=nf(r,n.document),s=n.removedTargetIds||[];e=new Lu([],s,i,null)}else{if(!("filter"in t))return ot(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new Nx(i,s),u=n.targetId;e=new R2(u,o)}}return e}function qx(r,t){let e;if(t instanceof Rl)e={update:s1(r,t.key,t.value)};else if(t instanceof Wp)e={delete:Sd(r,t.key)};else if(t instanceof vs)e={update:s1(r,t.key,t.data),updateMask:e9(t.fieldMask)};else{if(!(t instanceof Ax))return ot(16599,{Vt:t.type});e={verify:Sd(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(s,o){const u=o.transform;if(u instanceof ml)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof yl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof wc)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw ot(20930,{transform:o.transform})}(0,n))),t.precondition.isNone||(e.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:zx(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ot(27497)}(r,t.precondition)),e}function Wx(r,t){return r&&r.length>0?(Vt(t!==void 0,14353),r.map(e=>function(i,s){let o=i.updateTime?ei(i.updateTime):ei(s);return o.isEqual(ct.min())&&(o=ei(s)),new Cx(o,i.transformResults||[])}(e,t))):[]}function Gx(r,t){return{documents:[N2(r,t.path)]}}function Kx(r,t){const e={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=N2(r,i);const s=function(a){if(a.length!==0)return j2(Bn.create(a,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(a){if(a.length!==0)return a.map(c=>function(h){return{field:lo(h.field),direction:Qx(h.dir)}}(c))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=_d(r,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(a){return{before:a.inclusive,values:a.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(t.endAt)),{ft:e,parent:i}}function Xx(r){let t=$x(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let i=null;if(n>0){Vt(n===1,65062);const c=e.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];e.where&&(s=function(d){const h=D2(d);return h instanceof Bn&&h2(h)?h.getFilters():[h]}(e.where));let o=[];e.orderBy&&(o=function(d){return d.map(h=>function(m){return new pl(uo(m.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(e.orderBy));let u=null;e.limit&&(u=function(d){let h;return h=typeof d=="object"?d.value:d,rh(h)?null:h}(e.limit));let l=null;e.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new vc(f,h)}(e.startAt));let a=null;return e.endAt&&(a=function(d){const h=!d.before,f=d.values||[];return new vc(f,h)}(e.endAt)),dx(t,i,o,s,u,"F",l,a)}function Yx(r,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot(28987,{purpose:i})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function D2(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=uo(e.unaryFilter.field);return dr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=uo(e.unaryFilter.field);return dr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uo(e.unaryFilter.field);return dr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uo(e.unaryFilter.field);return dr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}}(r):r.fieldFilter!==void 0?function(e){return dr.create(uo(e.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return Bn.create(e.compositeFilter.filters.map(n=>D2(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot(1026)}}(e.compositeFilter.op))}(r):ot(30097,{filter:r})}function Qx(r){return Fx[r]}function Jx(r){return Vx[r]}function Zx(r){return Bx[r]}function lo(r){return{fieldPath:r.canonicalString()}}function uo(r){return Ir.fromServerFormat(r.fieldPath)}function j2(r){return r instanceof dr?function(e){if(e.op==="=="){if(Wg(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NAN"}};if(qg(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Wg(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NOT_NAN"}};if(qg(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(e.field),op:Jx(e.op),value:e.value}}}(r):r instanceof Bn?function(e){const n=e.getFilters().map(i=>j2(i));return n.length===1?n[0]:{compositeFilter:{op:Zx(e.op),filters:n}}}(r):ot(54877,{filter:r})}function e9(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function L2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,e,n,i,s=ct.min(),o=ct.min(),u=Pr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(t){return new qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(t){this.yt=t}}function r9(r){const t=Xx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.Cn=new i9}addToCollectionParentIndex(t,e){return this.Cn.add(e),_e.resolve()}getCollectionParents(t,e){return _e.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return _e.resolve()}deleteFieldIndex(t,e){return _e.resolve()}deleteAllFieldIndexes(t){return _e.resolve()}createTargetIndexes(t,e){return _e.resolve()}getDocumentsMatchingTarget(t,e){return _e.resolve(null)}getIndexType(t,e){return _e.resolve(0)}getFieldIndexes(t,e){return _e.resolve([])}getNextCollectionGroupToUpdate(t){return _e.resolve(null)}getMinOffset(t,e){return _e.resolve(ls.min())}getMinOffsetFromCollectionGroup(t,e){return _e.resolve(ls.min())}updateCollectionGroup(t,e,n){return _e.resolve()}updateIndexEntries(t,e){return _e.resolve()}}class i9{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new vr($t.comparator),s=!i.has(n);return this.index[e]=i.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new vr($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F2=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(F2,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="LruGarbageCollector",s9=1048576;function l1([r,t],[e,n]){const i=Tt(r,e);return i===0?Tt(t,n):i}class o9{constructor(t){this.Ir=t,this.buffer=new vr(l1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();l1(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class a9{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ve(a1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ra(e)?Ve(a1,"Ignoring IndexedDB error during garbage collection: ",e):await ta(e)}await this.Vr(3e5)})}}class l9{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(e===0)return _e.resolve(th.ce);const n=new o9(e);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.mr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(o1)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o1):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let n,i,s,o,u,l,a;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(n=d,u=Date.now(),this.removeTargets(t,n,e))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(a=Date.now(),oo()<=Et.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${s} targets in `+(l-u)+`ms
	Removed ${d} documents in `+(a-l)+`ms
Total Duration: ${a-c}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function u9(r,t){return new l9(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.changes=new Js(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Br.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?_e.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(n!==null&&Ua(n.mutation,i,fn.empty(),Gt.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,kt()).next(()=>n))}getLocalViewOfDocuments(t,e,n=kt()){const i=Rs();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(s=>{let o=Ta();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const n=Rs();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,kt()))}populateOverlays(t,e,n){const i=[];return n.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,u)=>{e.set(o,u)})})}computeViews(t,e,n,i){let s=Si();const o=Ba(),u=function(){return Ba()}();return e.forEach((l,a)=>{const c=n.get(a.key);i.has(a.key)&&(c===void 0||c.mutation instanceof vs)?s=s.insert(a.key,a):c!==void 0?(o.set(a.key,c.mutation.getFieldMask()),Ua(c.mutation,a,c.mutation.getFieldMask(),Gt.now())):o.set(a.key,fn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((a,c)=>o.set(a,c)),e.forEach((a,c)=>u.set(a,new h9(c,o.get(a)??null))),u))}recalculateAndSaveOverlays(t,e){const n=Ba();let i=new er((o,u)=>o-u),s=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const u of o)u.keys().forEach(l=>{const a=e.get(l);if(a===null)return;let c=n.get(l)||fn.empty();c=u.applyToLocalView(a,c),n.set(l,c);const d=(i.get(u.batchId)||kt()).add(l);i=i.insert(u.batchId,d)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),a=l.key,c=l.value,d=w2();c.forEach(h=>{if(!s.has(h)){const f=k2(e.get(h),n.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,a,d))}return _e.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,i){return function(o){return et.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):m2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-s.size):_e.resolve(Rs());let u=cl,l=s;return o.next(a=>_e.forEach(a,(c,d)=>(u<d.largestBatchId&&(u=d.largestBatchId),s.get(c)?_e.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,a,s)).next(()=>this.computeViews(t,l,a,kt())).next(c=>({batchId:u,changes:v2(c)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new et(e)).next(n=>{let i=Ta();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const s=e.collectionGroup;let o=Ta();return this.indexManager.getCollectionParents(t,s).next(u=>_e.forEach(u,l=>{const a=function(d,h){return new na(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,a,n,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,s,i))).next(o=>{s.forEach((l,a)=>{const c=a.getKey();o.get(c)===null&&(o=o.insert(c,Br.newInvalidDocument(c)))});let u=Ta();return o.forEach((l,a)=>{const c=s.get(l);c!==void 0&&Ua(c.mutation,a,fn.empty(),Gt.now()),sh(e,a)&&(u=u.insert(l,a))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return _e.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(i){return{id:i.id,version:i.version,createTime:ei(i.createTime)}}(e)),_e.resolve()}getNamedQuery(t,e){return _e.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(i){return{name:i.name,query:r9(i.bundledQuery),readTime:ei(i.readTime)}}(e)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this.overlays=new er(et.comparator),this.qr=new Map}getOverlay(t,e){return _e.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Rs();return _e.forEach(e,i=>this.getOverlay(t,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((i,s)=>{this.St(t,e,s)}),_e.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),_e.resolve()}getOverlaysForCollection(t,e,n){const i=Rs(),s=e.length+1,o=new et(e.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,a=l.getKey();if(!e.isPrefixOf(a.path))break;a.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return _e.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let s=new er((a,c)=>a-c);const o=this.overlays.getIterator();for(;o.hasNext();){const a=o.getNext().value;if(a.getKey().getCollectionGroup()===e&&a.largestBatchId>n){let c=s.get(a.largestBatchId);c===null&&(c=Rs(),s=s.insert(a.largestBatchId,c)),c.set(a.getKey(),a)}}const u=Rs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((a,c)=>u.set(a,c)),!(u.size()>=i)););return _e.resolve(u)}St(t,e,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Mx(e,n));let s=this.qr.get(e);s===void 0&&(s=kt(),this.qr.set(e,s)),this.qr.set(e,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(t){return _e.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.Qr=new vr(wr.$r),this.Ur=new vr(wr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const n=new wr(t,e);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Gr(new wr(t,e))}zr(t,e){t.forEach(n=>this.removeReference(n,e))}jr(t){const e=new et(new $t([])),n=new wr(e,t),i=new wr(e,t+1),s=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new et(new $t([])),n=new wr(e,t),i=new wr(e,t+1);let s=kt();return this.Ur.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new wr(t,0),n=this.Qr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class wr{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return et.comparator(t.key,e.key)||Tt(t.Yr,e.Yr)}static Kr(t,e){return Tt(t.Yr,e.Yr)||et.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new vr(wr.$r)}checkEmpty(t){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Px(s,e,n,i);this.mutationQueue.push(o);for(const u of i)this.Zr=this.Zr.add(new wr(u.key,s)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return _e.resolve(o)}lookupMutationBatch(t,e){return _e.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.ei(n),s=i<0?0:i;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?Vp:this.tr-1)}getAllMutationBatches(t){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new wr(e,0),i=new wr(e,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],o=>{const u=this.Xr(o.Yr);s.push(u)}),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new vr(Tt);return e.forEach(i=>{const s=new wr(i,0),o=new wr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],u=>{n=n.add(u.Yr)})}),_e.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let s=n;et.isDocumentKey(s)||(s=s.child(""));const o=new wr(new et(s),0);let u=new vr(Tt);return this.Zr.forEachWhile(l=>{const a=l.key.path;return!!n.isPrefixOf(a)&&(a.length===i&&(u=u.add(l.Yr)),!0)},o),_e.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){Vt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return _e.forEach(e.mutations,i=>{const s=new wr(i.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,e){const n=new wr(e,0),i=this.Zr.firstAfterOrEqual(n);return _e.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,_e.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(t){this.ri=t,this.docs=function(){return new er(et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return _e.resolve(n?n.document.mutableCopy():Br.newInvalidDocument(e))}getEntries(t,e){let n=Si();return e.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Br.newInvalidDocument(i))}),_e.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let s=Si();const o=e.path,u=new et(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:a,value:{document:c}}=l.getNext();if(!o.isPrefixOf(a.path))break;a.path.length>o.length+1||q8(H8(c),n)<=0||(i.has(c.key)||sh(e,c))&&(s=s.insert(c.key,c.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(t,e,n,i){ot(9500)}ii(t,e){return _e.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new b9(this)}getSize(t){return _e.resolve(this.size)}}class b9 extends c9{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),_e.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(t){this.persistence=t,this.si=new Js(e=>zp(e),$p),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(t,e){return this.si.forEach((n,i)=>e(i)),_e.resolve()}getLastRemoteSnapshotVersion(t){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _e.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.oi&&(this.oi=e),_e.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Wo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,_e.resolve()}updateTargetData(t,e){return this.Pr(e),_e.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,_e.resolve()}removeTargets(t,e,n){let i=0;const s=[];return this.si.forEach((o,u)=>{u.sequenceNumber<=e&&n.get(u.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,u.targetId)),i++)}),_e.waitFor(s).next(()=>i)}getTargetCount(t){return _e.resolve(this.targetCount)}getTargetData(t,e){const n=this.si.get(e)||null;return _e.resolve(n)}addMatchingKeys(t,e,n){return this._i.Wr(e,n),_e.resolve()}removeMatchingKeys(t,e,n){this._i.zr(e,n);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),_e.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),_e.resolve()}getMatchingKeysForTargetId(t,e){const n=this._i.Hr(e);return _e.resolve(n)}containsKey(t,e){return _e.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,e){this.ui={},this.overlays={},this.ci=new th(0),this.li=!1,this.li=!0,this.hi=new m9,this.referenceDelegate=t(this),this.Pi=new v9(this),this.indexManager=new n9,this.remoteDocumentCache=function(i){return new y9(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new t9(e),this.Ii=new d9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new p9,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ui[t.toKey()];return n||(n=new g9(e,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,n){Ve("MemoryPersistence","Starting transaction:",t);const i=new w9(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,e){return _e.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,e)))}}class w9 extends G8{constructor(t){super(),this.currentSequenceNumber=t}}class Qp{constructor(t){this.persistence=t,this.Ri=new Yp,this.Vi=null}static mi(t){return new Qp(t)}get fi(){if(this.Vi)return this.Vi;throw ot(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.fi.delete(n.toString()),_e.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.fi.add(n.toString()),_e.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),_e.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,n=>{const i=et.fromPath(n);return this.gi(t,i).next(s=>{s||e.removeEntry(i,ct.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(n=>{n?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return _e.or([()=>_e.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class xc{constructor(t,e){this.persistence=t,this.pi=new Js(n=>Y8(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=u9(this,e)}static mi(t,e){return new xc(t,e)}Ei(){}di(t){return _e.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>e.next(i=>n+i))}wr(t){let e=0;return this.pr(t,n=>{e++}).next(()=>e)}pr(t,e){return _e.forEach(this.pi,(n,i)=>this.br(t,n,i).next(s=>s?_e.resolve():e(i)))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,e).next(u=>{u||(n++,s.removeEntry(o,ct.min()))})).next(()=>s.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),_e.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),_e.resolve()}removeReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),_e.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),_e.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ou(t.data.value)),e}br(t,e,n){return _e.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const i=this.pi.get(e);return _e.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Es=n,this.ds=i}static As(t,e){let n=kt(),i=kt();for(const s of e.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Jp(t,e.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return p5()?8:K8(zr())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,i){const s={result:null};return this.ys(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,e,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new _9;return this.Ss(t,e,o).next(u=>{if(s.result=u,this.Vs)return this.bs(t,e,o,u.size)})}).next(()=>s.result)}bs(t,e,n,i){return n.documentReadCount<this.fs?(oo()<=Et.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",ao(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(oo()<=Et.DEBUG&&Ve("QueryEngine","Query:",ao(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(oo()<=Et.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",ao(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zn(e))):_e.resolve())}ys(t,e){if(Yg(e))return _e.resolve(null);let n=Zn(e);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=wd(e,null,"F"),n=Zn(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{const o=kt(...s);return this.ps.getDocuments(t,o).next(u=>this.indexManager.getMinOffset(t,n).next(l=>{const a=this.Ds(e,u);return this.Cs(e,a,o,l.readTime)?this.ys(t,wd(e,null,"F")):this.vs(t,a,e,l)}))})))}ws(t,e,n,i){return Yg(e)||i.isEqual(ct.min())?_e.resolve(null):this.ps.getDocuments(t,n).next(s=>{const o=this.Ds(e,s);return this.Cs(e,o,n,i)?_e.resolve(null):(oo()<=Et.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ao(e)),this.vs(t,o,e,$8(i,cl)).next(u=>u))})}Ds(t,e){let n=new vr(y2(t));return e.forEach((i,s)=>{sh(t,s)&&(n=n.add(s))}),n}Cs(t,e,n,i){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,e,n){return oo()<=Et.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",ao(e)),this.ps.getDocumentsMatchingQuery(t,e,ls.min(),n)}vs(t,e,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",S9=3e8;class E9{constructor(t,e,n,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new er(Tt),this.xs=new Js(s=>zp(s),$p),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new f9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function T9(r,t,e,n){return new E9(r,t,e,n)}async function B2(r,t){const e=ht(r);return await e.persistence.runTransaction("Handle user change","readonly",n=>{let i;return e.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,e.Bs(t),e.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],u=[];let l=kt();for(const a of i){o.push(a.batchId);for(const c of a.mutations)l=l.add(c.key)}for(const a of s){u.push(a.batchId);for(const c of a.mutations)l=l.add(c.key)}return e.localDocuments.getDocuments(n,l).next(a=>({Ls:a,removedBatchIds:o,addedBatchIds:u}))})})}function k9(r,t){const e=ht(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),s=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,l,a,c){const d=a.batch,h=d.keys();let f=_e.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(l,m)).next(y=>{const p=a.docVersions.get(m);Vt(p!==null,48541),y.version.compareTo(p)<0&&(d.applyToRemoteDocument(y,a),y.isValidDocument()&&(y.setReadTime(a.commitVersion),c.addEntry(y)))})}),f.next(()=>u.mutationQueue.removeMutationBatch(l,d))}(e,n,t,s).next(()=>s.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let l=kt();for(let a=0;a<u.mutationResults.length;++a)u.mutationResults[a].transformResults.length>0&&(l=l.add(u.batch.mutations[a].key));return l}(t))).next(()=>e.localDocuments.getDocuments(n,i))})}function U2(r){const t=ht(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function C9(r,t){const e=ht(r),n=t.snapshotVersion;let i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;const u=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;u.push(e.Pi.removeMatchingKeys(s,c.removedDocuments,d).next(()=>e.Pi.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(Pr.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,n)),i=i.insert(d,f),function(y,p,b){return y.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=S9?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,f,c)&&u.push(e.Pi.updateTargetData(s,f))});let l=Si(),a=kt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(s,c))}),u.push(I9(s,o,t.documentUpdates).next(c=>{l=c.ks,a=c.qs})),!n.isEqual(ct.min())){const c=e.Pi.getLastRemoteSnapshotVersion(s).next(d=>e.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));u.push(c)}return _e.waitFor(u).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,a)).next(()=>l)}).then(s=>(e.Ms=i,s))}function I9(r,t,e){let n=kt(),i=kt();return e.forEach(s=>n=n.add(s)),t.getEntries(r,n).next(s=>{let o=Si();return e.forEach((u,l)=>{const a=s.get(u);l.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(ct.min())?(t.removeEntry(u,l.readTime),o=o.insert(u,l)):!a.isValidDocument()||l.version.compareTo(a.version)>0||l.version.compareTo(a.version)===0&&a.hasPendingWrites?(t.addEntry(l),o=o.insert(u,l)):Ve(Zp,"Ignoring outdated watch update for ",u,". Current version:",a.version," Watch version:",l.version)}),{ks:o,qs:i}})}function R9(r,t){const e=ht(r);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=Vp),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function A9(r,t){const e=ht(r);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return e.Pi.getTargetData(n,t).next(s=>s?(i=s,_e.resolve(i)):e.Pi.allocateTargetId(n).next(o=>(i=new qi(t,o,"TargetPurposeListen",n.currentSequenceNumber),e.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=e.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(n.targetId,n),e.xs.set(t,n.targetId)),n})}async function Td(r,t,e){const n=ht(r),i=n.Ms.get(t),s=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ra(o))throw o;Ve(Zp,`Failed to update sequence numbers for target ${t}: ${o}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function u1(r,t,e){const n=ht(r);let i=ct.min(),s=kt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,a,c){const d=ht(l),h=d.xs.get(c);return h!==void 0?_e.resolve(d.Ms.get(h)):d.Pi.getTargetData(a,c)}(n,o,Zn(t)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,t,e?i:ct.min(),e?s:kt())).next(u=>(P9(n,mx(t),u),{documents:u,Qs:s})))}function P9(r,t,e){let n=r.Os.get(t)||ct.min();e.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.Os.set(t,n)}class c1{constructor(){this.activeTargetIds=_x()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class M9{constructor(){this.Mo=new c1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,n){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new c1,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="ConnectivityMonitor";class f1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(h1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ve(h1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function kd(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="RestConnection",O9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D9{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===yc?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,e,n,i,s){const o=kd(),u=this.zo(t,e.toUriEncodedString());Ve(sf,`Sending RPC '${t}' ${o}:`,u,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:a}=new URL(u),c=ys(a);return this.Jo(t,u,l,n,c).then(d=>(Ve(sf,`Received RPC '${t}' ${o}: `,d),d),d=>{throw zo(sf,`RPC '${t}' ${o} failed with error: `,d,"url: ",u,"request:",n),d})}Ho(t,e,n,i,s,o){return this.Go(t,e,n,i,s)}jo(t,e,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),n&&n.headers.forEach((i,s)=>t[s]=i)}zo(t,e){const n=O9[t];return`${this.Uo}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="WebChannelConnection";class L9 extends D9{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,i,s){const o=kd();return new Promise((u,l)=>{const a=new Hv;a.setWithCredentials(!0),a.listenOnce(qv.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Nu.NO_ERROR:const d=a.getResponseJson();Ve(Lr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),u(d);break;case Nu.TIMEOUT:Ve(Lr,`RPC '${t}' ${o} timed out`),l(new Le(we.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const h=a.getStatus();if(Ve(Lr,`RPC '${t}' ${o} failed with status:`,h,"response text:",a.getResponseText()),h>0){let f=a.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(b){const g=b.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(g)>=0?g:we.UNKNOWN}(m.status);l(new Le(y,m.message))}else l(new Le(we.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new Le(we.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{l_:t,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Ve(Lr,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(i);Ve(Lr,`RPC '${t}' ${o} sending request:`,i),a.send(e,"POST",c,n,15)})}T_(t,e,n){const i=kd(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Kv(),u=Gv(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;a!==void 0&&(l.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,e,n),l.encodeInitMessageHeaders=!0;const c=s.join("");Ve(Lr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);this.I_(d);let h=!1,f=!1;const m=new j9({Yo:p=>{f?Ve(Lr,`Not sending because RPC '${t}' stream ${i} is closed:`,p):(h||(Ve(Lr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),Ve(Lr,`RPC '${t}' stream ${i} sending:`,p),d.send(p))},Zo:()=>d.close()}),y=(p,b,g)=>{p.listen(b,w=>{try{g(w)}catch(k){setTimeout(()=>{throw k},0)}})};return y(d,Ea.EventType.OPEN,()=>{f||(Ve(Lr,`RPC '${t}' stream ${i} transport opened.`),m.o_())}),y(d,Ea.EventType.CLOSE,()=>{f||(f=!0,Ve(Lr,`RPC '${t}' stream ${i} transport closed`),m.a_(),this.E_(d))}),y(d,Ea.EventType.ERROR,p=>{f||(f=!0,zo(Lr,`RPC '${t}' stream ${i} transport errored. Name:`,p.name,"Message:",p.message),m.a_(new Le(we.UNAVAILABLE,"The operation could not be completed")))}),y(d,Ea.EventType.MESSAGE,p=>{var b;if(!f){const g=p.data[0];Vt(!!g,16349);const w=g,k=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(k){Ve(Lr,`RPC '${t}' stream ${i} received error:`,k);const A=k.status;let U=function(N){const L=hr[N];if(L!==void 0)return I2(L)}(A),V=k.message;U===void 0&&(U=we.INTERNAL,V="Unknown error status: "+A+" with message "+k.message),f=!0,m.a_(new Le(U,V)),d.close()}else Ve(Lr,`RPC '${t}' stream ${i} received:`,g),m.u_(g)}}),y(u,Wv.STAT_EVENT,p=>{p.stat===dd.PROXY?Ve(Lr,`RPC '${t}' stream ${i} detected buffering proxy`):p.stat===dd.NOPROXY&&Ve(Lr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(r){return new Ux(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,e,n=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=e,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-n);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="PersistentStream";class $2{constructor(t,e,n,i,s,o,u,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z2(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===we.RESOURCE_EXHAUSTED?(xi(e.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===e&&this.G_(n,i)},n=>{t(()=>{const i=new Le(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,e){const n=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ve(d1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(Ve(d1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F9 extends $2{constructor(t,e,n,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,o),this.serializer=s}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Hx(this.serializer,t),n=function(s){if(!("targetChange"in s))return ct.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ct.min():o.readTime?ei(o.readTime):ct.min()}(t);return this.listener.H_(e,n)}Y_(t){const e={};e.database=Ed(this.serializer),e.addTarget=function(s,o){let u;const l=o.target;if(u=bd(l)?{documents:Gx(s,l)}:{query:Kx(s,l).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=P2(s,o.resumeToken);const a=_d(s,o.expectedCount);a!==null&&(u.expectedCount=a)}else if(o.snapshotVersion.compareTo(ct.min())>0){u.readTime=_c(s,o.snapshotVersion.toTimestamp());const a=_d(s,o.expectedCount);a!==null&&(u.expectedCount=a)}return u}(this.serializer,t);const n=Yx(this.serializer,t);n&&(e.labels=n),this.q_(e)}Z_(t){const e={};e.database=Ed(this.serializer),e.removeTarget=t,this.q_(e)}}class V9 extends $2{constructor(t,e,n,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Vt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Vt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Vt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Wx(t.writeResults,t.commitTime),n=ei(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=Ed(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>qx(this.serializer,n))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{}class U9 extends B9{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Le(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,xd(e,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(we.UNKNOWN,s.toString())})}Ho(t,e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ho(t,xd(e,n),i,o,u,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(we.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class z9{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(e),this.aa=!1):Ve("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class $9{constructor(t,e,n,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Zs(this)&&(Ve(Hs,"Restarting streams for network reachability change."),await async function(l){const a=ht(l);a.Ea.add(4),await Pl(a),a.Ra.set("Unknown"),a.Ea.delete(4),await ch(a)}(this))})}),this.Ra=new z9(n,i)}}async function ch(r){if(Zs(r))for(const t of r.da)await t(!0)}async function Pl(r){for(const t of r.da)await t(!1)}function H2(r,t){const e=ht(r);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),nm(e)?rm(e):ia(e).O_()&&tm(e,t))}function em(r,t){const e=ht(r),n=ia(e);e.Ia.delete(t),n.O_()&&q2(e,t),e.Ia.size===0&&(n.O_()?n.L_():Zs(e)&&e.Ra.set("Unknown"))}function tm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ct.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ia(r).Y_(t)}function q2(r,t){r.Va.Ue(t),ia(r).Z_(t)}function rm(r){r.Va=new Lx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ia(r).start(),r.Ra.ua()}function nm(r){return Zs(r)&&!ia(r).x_()&&r.Ia.size>0}function Zs(r){return ht(r).Ea.size===0}function W2(r){r.Va=void 0}async function H9(r){r.Ra.set("Online")}async function q9(r){r.Ia.forEach((t,e)=>{tm(r,t)})}async function W9(r,t){W2(r),nm(r)?(r.Ra.ha(t),rm(r)):r.Ra.set("Unknown")}async function G9(r,t,e){if(r.Ra.set("Online"),t instanceof A2&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ia.delete(u),i.Va.removeTarget(u))}(r,t)}catch(n){Ve(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Sc(r,n)}else if(t instanceof Lu?r.Va.Ze(t):t instanceof R2?r.Va.st(t):r.Va.tt(t),!e.isEqual(ct.min()))try{const n=await U2(r.localStore);e.compareTo(n)>=0&&await function(s,o){const u=s.Va.Tt(o);return u.targetChanges.forEach((l,a)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(a);c&&s.Ia.set(a,c.withResumeToken(l.resumeToken,o))}}),u.targetMismatches.forEach((l,a)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(Pr.EMPTY_BYTE_STRING,c.snapshotVersion)),q2(s,l);const d=new qi(c.target,l,a,c.sequenceNumber);tm(s,d)}),s.remoteSyncer.applyRemoteEvent(u)}(r,e)}catch(n){Ve(Hs,"Failed to raise snapshot:",n),await Sc(r,n)}}async function Sc(r,t,e){if(!ra(t))throw t;r.Ea.add(1),await Pl(r),r.Ra.set("Offline"),e||(e=()=>U2(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ve(Hs,"Retrying IndexedDB access"),await e(),r.Ea.delete(1),await ch(r)})}function G2(r,t){return t().catch(e=>Sc(r,e,t))}async function hh(r){const t=ht(r),e=fs(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vp;for(;K9(t);)try{const i=await R9(t.localStore,n);if(i===null){t.Ta.length===0&&e.L_();break}n=i.batchId,X9(t,i)}catch(i){await Sc(t,i)}K2(t)&&X2(t)}function K9(r){return Zs(r)&&r.Ta.length<10}function X9(r,t){r.Ta.push(t);const e=fs(r);e.O_()&&e.X_&&e.ea(t.mutations)}function K2(r){return Zs(r)&&!fs(r).x_()&&r.Ta.length>0}function X2(r){fs(r).start()}async function Y9(r){fs(r).ra()}async function Q9(r){const t=fs(r);for(const e of r.Ta)t.ea(e.mutations)}async function J9(r,t,e){const n=r.Ta.shift(),i=Gp.from(n,t,e);await G2(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await hh(r)}async function Z9(r,t){t&&fs(r).X_&&await async function(n,i){if(function(o){return Ox(o)&&o!==we.ABORTED}(i.code)){const s=n.Ta.shift();fs(n).B_(),await G2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hh(n)}}(r,t),K2(r)&&X2(r)}async function p1(r,t){const e=ht(r);e.asyncQueue.verifyOperationInProgress(),Ve(Hs,"RemoteStore received new credentials");const n=Zs(e);e.Ea.add(3),await Pl(e),n&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await ch(e)}async function eS(r,t){const e=ht(r);t?(e.Ea.delete(2),await ch(e)):t||(e.Ea.add(2),await Pl(e),e.Ra.set("Unknown"))}function ia(r){return r.ma||(r.ma=function(e,n,i){const s=ht(e);return s.sa(),new F9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Xo:H9.bind(null,r),t_:q9.bind(null,r),r_:W9.bind(null,r),H_:G9.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),nm(r)?rm(r):r.Ra.set("Unknown")):(await r.ma.stop(),W2(r))})),r.ma}function fs(r){return r.fa||(r.fa=function(e,n,i){const s=ht(e);return s.sa(),new V9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Y9.bind(null,r),r_:Z9.bind(null,r),ta:Q9.bind(null,r),na:J9.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await hh(r)):(await r.fa.stop(),r.Ta.length>0&&(Ve(Hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,e,n,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,s){const o=Date.now()+n,u=new im(t,e,o,i,s);return u.start(n),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(r,t){if(xi("AsyncQueue",`${t}: ${r}`),ra(r))return new Le(we.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(t){return new Ao(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||et.comparator(e.key,n.key):(e,n)=>et.comparator(e.key,n.key),this.keyedMap=Ta(),this.sortedSet=new er(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ao)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Ao;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.ga=new er(et.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(e,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(e):t.type===1&&n.type===2?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):ot(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,n)=>{t.push(n)}),t}}class Go{constructor(t,e,n,i,s,o,u,l,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=a}static fromInitialDocuments(t,e,n,i,s){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Go(t,e,Ao.emptySet(e),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class rS{constructor(){this.queries=g1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const i=ht(e),s=i.queries;i.queries=g1(),s.forEach((o,u)=>{for(const l of u.Sa)l.onError(n)})})(this,new Le(we.ABORTED,"Firestore shutting down"))}}function g1(){return new Js(r=>g2(r),ih)}async function nS(r,t){const e=ht(r);let n=3;const i=t.query;let s=e.queries.get(i);s?!s.ba()&&t.Da()&&(n=2):(s=new tS,n=t.Da()?0:1);try{switch(n){case 0:s.wa=await e.onListen(i,!0);break;case 1:s.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(o){const u=sm(o,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,s),s.Sa.push(t),t.va(e.onlineState),s.wa&&t.Fa(s.wa)&&om(e)}async function iS(r,t){const e=ht(r),n=t.query;let i=3;const s=e.queries.get(n);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function sS(r,t){const e=ht(r);let n=!1;for(const i of t){const s=i.query,o=e.queries.get(s);if(o){for(const u of o.Sa)u.Fa(i)&&(n=!0);o.wa=i}}n&&om(e)}function oS(r,t,e){const n=ht(r),i=n.queries.get(t);if(i)for(const s of i.Sa)s.onError(e);n.queries.delete(t)}function om(r){r.Ca.forEach(t=>{t.next()})}var Cd,y1;(y1=Cd||(Cd={})).Ma="default",y1.Cache="cache";class aS{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new Go(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const n=e!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.key=t}}class Q2{constructor(t){this.key=t}}class lS{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=y2(t),this.tu=new Ao(this.eu)}get nu(){return this.Ya}ru(t,e){const n=e?e.iu:new m1,i=e?e.tu:this.tu;let s=e?e.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,a=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),f=sh(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let p=!1;h&&f?h.data.isEqual(f.data)?m!==y&&(n.track({type:3,doc:f}),p=!0):this.su(h,f)||(n.track({type:2,doc:f}),p=!0,(l&&this.eu(f,l)>0||a&&this.eu(f,a)<0)&&(u=!0)):!h&&f?(n.track({type:0,doc:f}),p=!0):h&&!f&&(n.track({type:1,doc:h}),p=!0,(l||a)&&(u=!0)),p&&(f?(o=o.add(f),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{tu:o,iu:n,Cs:u,mutatedKeys:s}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((c,d)=>function(f,m){const y=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot(20277,{Rt:p})}};return y(f)-y(m)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(n),i=i??!1;const u=e&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,a=l!==this.Za;return this.Za=l,o.length!==0||a?{snapshot:new Go(this.query,t.tu,s,o,t.mutatedKeys,l===0,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const e=[];return t.forEach(n=>{this.Xa.has(n)||e.push(new Q2(n))}),this.Xa.forEach(n=>{t.has(n)||e.push(new Y2(n))}),e}cu(t){this.Ya=t.Qs,this.Xa=kt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const am="SyncEngine";class uS{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class cS{constructor(t){this.key=t,this.hu=!1}}class hS{constructor(t,e,n,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Js(u=>g2(u),ih),this.Iu=new Map,this.Eu=new Set,this.du=new er(et.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fS(r,t,e=!0){const n=nw(r);let i;const s=n.Tu.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await J2(n,t,e,!0),i}async function dS(r,t){const e=nw(r);await J2(e,t,!0,!1)}async function J2(r,t,e,n){const i=await A9(r.localStore,Zn(t)),s=i.targetId,o=r.sharedClientState.addLocalQueryTarget(s,e);let u;return n&&(u=await pS(r,t,s,o==="current",i.resumeToken)),r.isPrimaryClient&&e&&H2(r.remoteStore,i),u}async function pS(r,t,e,n,i){r.pu=(d,h,f)=>async function(y,p,b,g){let w=p.view.ru(b);w.Cs&&(w=await u1(y.localStore,p.query,!1).then(({documents:V})=>p.view.ru(V,w)));const k=g&&g.targetChanges.get(p.targetId),A=g&&g.targetMismatches.get(p.targetId)!=null,U=p.view.applyChanges(w,y.isPrimaryClient,k,A);return v1(y,p.targetId,U.au),U.snapshot}(r,d,h,f);const s=await u1(r.localStore,t,!0),o=new lS(t,s.Qs),u=o.ru(s.documents),l=Al.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",i),a=o.applyChanges(u,r.isPrimaryClient,l);v1(r,e,a.au);const c=new uS(t,e,o);return r.Tu.set(t,c),r.Iu.has(e)?r.Iu.get(e).push(t):r.Iu.set(e,[t]),a.snapshot}async function mS(r,t,e){const n=ht(r),i=n.Tu.get(t),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(o=>!ih(o,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Td(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),e&&em(n.remoteStore,i.targetId),Id(n,i.targetId)}).catch(ta)):(Id(n,i.targetId),await Td(n.localStore,i.targetId,!0))}async function gS(r,t){const e=ht(r),n=e.Tu.get(t),i=e.Iu.get(n.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),em(e.remoteStore,n.targetId))}async function yS(r,t,e){const n=ES(r);try{const i=await function(o,u){const l=ht(o),a=Gt.now(),c=u.reduce((f,m)=>f.add(m.key),kt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Si(),y=kt();return l.Ns.getEntries(f,c).next(p=>{m=p,m.forEach((b,g)=>{g.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(p=>{d=p;const b=[];for(const g of u){const w=Rx(g,d.get(g.key).overlayedDocument);w!=null&&b.push(new vs(g.key,w,l2(w.value.mapValue),Fn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,a,b,u)}).next(p=>{h=p;const b=p.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(f,p.batchId,b)})}).then(()=>({batchId:h.batchId,changes:v2(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(o,u,l){let a=o.Vu[o.currentUser.toKey()];a||(a=new er(Tt)),a=a.insert(u,l),o.Vu[o.currentUser.toKey()]=a}(n,i.batchId,e),await Ml(n,i.changes),await hh(n.remoteStore)}catch(i){const s=sm(i,"Failed to persist write");e.reject(s)}}async function Z2(r,t){const e=ht(r);try{const n=await C9(e.localStore,t);t.targetChanges.forEach((i,s)=>{const o=e.Au.get(s);o&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Vt(o.hu,14607):i.removedDocuments.size>0&&(Vt(o.hu,42227),o.hu=!1))}),await Ml(e,n,t)}catch(n){await ta(n)}}function b1(r,t,e){const n=ht(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const i=[];n.Tu.forEach((s,o)=>{const u=o.view.va(t);u.snapshot&&i.push(u.snapshot)}),function(o,u){const l=ht(o);l.onlineState=u;let a=!1;l.queries.forEach((c,d)=>{for(const h of d.Sa)h.va(u)&&(a=!0)}),a&&om(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function bS(r,t,e){const n=ht(r);n.sharedClientState.updateQueryState(t,"rejected",e);const i=n.Au.get(t),s=i&&i.key;if(s){let o=new er(et.comparator);o=o.insert(s,Br.newNoDocument(s,ct.min()));const u=kt().add(s),l=new lh(ct.min(),new Map,new er(Tt),o,u);await Z2(n,l),n.du=n.du.remove(s),n.Au.delete(t),lm(n)}else await Td(n.localStore,t,!1).then(()=>Id(n,t,e)).catch(ta)}async function vS(r,t){const e=ht(r),n=t.batch.batchId;try{const i=await k9(e.localStore,t);tw(e,n,null),ew(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await Ml(e,i)}catch(i){await ta(i)}}async function wS(r,t,e){const n=ht(r);try{const i=await function(o,u){const l=ht(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",a=>{let c;return l.mutationQueue.lookupMutationBatch(a,u).next(d=>(Vt(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(a,d))).next(()=>l.mutationQueue.performConsistencyCheck(a)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(a,c,u)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,c)).next(()=>l.localDocuments.getDocuments(a,c))})}(n.localStore,t);tw(n,t,e),ew(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await Ml(n,i)}catch(i){await ta(i)}}function ew(r,t){(r.mu.get(t)||[]).forEach(e=>{e.resolve()}),r.mu.delete(t)}function tw(r,t,e){const n=ht(r);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function Id(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Iu.get(t))r.Tu.delete(n),e&&r.Pu.yu(n,e);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(n=>{r.Ru.containsKey(n)||rw(r,n)})}function rw(r,t){r.Eu.delete(t.path.canonicalString());const e=r.du.get(t);e!==null&&(em(r.remoteStore,e),r.du=r.du.remove(t),r.Au.delete(e),lm(r))}function v1(r,t,e){for(const n of e)n instanceof Y2?(r.Ru.addReference(n.key,t),_S(r,n)):n instanceof Q2?(Ve(am,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,t),r.Ru.containsKey(n.key)||rw(r,n.key)):ot(19791,{wu:n})}function _S(r,t){const e=t.key,n=e.path.canonicalString();r.du.get(e)||r.Eu.has(n)||(Ve(am,"New document in limbo: "+e),r.Eu.add(n),lm(r))}function lm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const e=new et($t.fromString(t)),n=r.fu.next();r.Au.set(n,new cS(e)),r.du=r.du.insert(e,n),H2(r.remoteStore,new qi(Zn(Hp(e.path)),n,"TargetPurposeLimboResolution",th.ce))}}async function Ml(r,t,e){const n=ht(r),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((u,l)=>{o.push(n.pu(l,t,e).then(a=>{var c;if((a||e)&&n.isPrimaryClient){const d=a?!a.fromCache:(c=e==null?void 0:e.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(a){i.push(a);const d=Jp.As(l.targetId,a);s.push(d)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(l,a){const c=ht(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_e.forEach(a,h=>_e.forEach(h.Es,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_e.forEach(h.ds,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ra(d))throw d;Ve(Zp,"Failed to update sequence numbers: "+d)}for(const d of a){const h=d.targetId;if(!d.fromCache){const f=c.Ms.get(h),m=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(m);c.Ms=c.Ms.insert(h,y)}}}(n.localStore,s))}async function xS(r,t){const e=ht(r);if(!e.currentUser.isEqual(t)){Ve(am,"User change. New user:",t.toKey());const n=await B2(e.localStore,t);e.currentUser=t,function(s,o){s.mu.forEach(u=>{u.forEach(l=>{l.reject(new Le(we.CANCELLED,o))})}),s.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Ml(e,n.Ls)}}function SS(r,t){const e=ht(r),n=e.Au.get(t);if(n&&n.hu)return kt().add(n.key);{let i=kt();const s=e.Iu.get(t);if(!s)return i;for(const o of s){const u=e.Tu.get(o);i=i.unionWith(u.view.nu)}return i}}function nw(r){const t=ht(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Z2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bS.bind(null,t),t.Pu.H_=sS.bind(null,t.eventManager),t.Pu.yu=oS.bind(null,t.eventManager),t}function ES(r){const t=ht(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wS.bind(null,t),t}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return T9(this.persistence,new x9,t.initialUser,this.serializer)}Cu(t){return new V2(Qp.mi,this.serializer)}Du(t){return new M9}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class TS extends Ec{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Vt(this.persistence.referenceDelegate instanceof xc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new a9(n,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new V2(n=>xc.mi(n,e),this.serializer)}}class Rd{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>b1(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=xS.bind(null,this.syncEngine),await eS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new rS}()}createDatastore(t){const e=uh(t.databaseInfo.databaseId),n=function(s){return new L9(s)}(t.databaseInfo);return function(s,o,u,l){return new U9(s,o,u,l)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(n,i,s,o,u){return new $9(n,i,s,o,u)}(this.localStore,this.datastore,t.asyncQueue,e=>b1(this.syncEngine,e,0),function(){return f1.v()?new f1:new N9}())}createSyncEngine(t,e){return function(i,s,o,u,l,a,c){const d=new hS(i,s,o,u,l,a);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(i){const s=ht(i);Ve(Hs,"RemoteStore shutting down."),s.Ea.add(5),await Pl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}Rd.provider={build:()=>new Rd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class CS{constructor(t,e,n,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Ve(ds,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ve(ds,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=sm(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function af(r,t){r.asyncQueue.verifyOperationInProgress(),Ve(ds,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await B2(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function w1(r,t){r.asyncQueue.verifyOperationInProgress();const e=await IS(r);Ve(ds,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener(n=>p1(t.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>p1(t.remoteStore,i)),r._onlineComponents=t}async function IS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ve(ds,"Using user provided OfflineComponentProvider");try{await af(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(e))throw e;zo("Error using user provided cache. Falling back to memory cache: "+e),await af(r,new Ec)}}else Ve(ds,"Using default OfflineComponentProvider"),await af(r,new TS(void 0));return r._offlineComponents}async function iw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ve(ds,"Using user provided OnlineComponentProvider"),await w1(r,r._uninitializedComponentsProvider._online)):(Ve(ds,"Using default OnlineComponentProvider"),await w1(r,new Rd))),r._onlineComponents}function RS(r){return iw(r).then(t=>t.syncEngine)}async function _1(r){const t=await iw(r),e=t.eventManager;return e.onListen=fS.bind(null,t.syncEngine),e.onUnlisten=mS.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=dS.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=gS.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firestore.googleapis.com",S1=!0;class E1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Le(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ow,this.ssl=S1}else this.host=t.host,this.ssl=t.ssl??S1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=F2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s9)throw new Le(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}z8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sw(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fh{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Le(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new M8;switch(n.type){case"firstParty":return new j8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Le(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=x1.get(e);n&&(Ve("ComponentProvider","Removing Datastore"),x1.delete(e),n.terminate())}(this),Promise.resolve()}}function AS(r,t,e,n={}){var a;r=gi(r,fh);const i=ys(t),s=r._getSettings(),o={...s,emulatorOptions:r._getEmulatorOptions()},u=`${t}:${e}`;i&&(Np(`https://${u}`),Op("Firestore",!0)),s.host!==ow&&s.host!==u&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:u,ssl:i,emulatorOptions:n};if(!Us(l,o)&&(r._setSettings(l),n.mockUserToken)){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=Fr.MOCK_USER;else{c=Lv(n.mockUserToken,(a=r._app)==null?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Le(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Fr(h)}r._authCredentials=new N8(new Yv(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new eo(this.firestore,t,this._query)}}class lr{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new lr(this.firestore,t,this._key)}toJSON(){return{type:lr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(Il(e,lr._jsonSchema))return new lr(t,n||null,new et($t.fromString(e.referencePath)))}}lr._jsonSchemaVersion="firestore/documentReference/1.0",lr._jsonSchema={type:pr("string",lr._jsonSchemaVersion),referencePath:pr("string")};class is extends eo{constructor(t,e,n){super(t,e,Hp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new lr(this.firestore,null,new et(t))}withConverter(t){return new is(this.firestore,t,this._path)}}function PS(r,t,...e){if(r=ur(r),Qv("collection","path",t),r instanceof fh){const n=$t.fromString(t,...e);return jg(n),new is(r,null,n)}{if(!(r instanceof lr||r instanceof is))throw new Le(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child($t.fromString(t,...e));return jg(n),new is(r.firestore,null,n)}}function Zr(r,t,...e){if(r=ur(r),arguments.length===1&&(t=Fp.newId()),Qv("doc","path",t),r instanceof fh){const n=$t.fromString(t,...e);return Dg(n),new lr(r,null,new et(n))}{if(!(r instanceof lr||r instanceof is))throw new Le(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child($t.fromString(t,...e));return Dg(n),new lr(r.firestore,r instanceof is?r.converter:null,new et(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="AsyncQueue";class k1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z2(this,"async_queue_retry"),this._c=()=>{const n=of();n&&Ve(T1,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const e=of();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=of();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new Ms;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ra(t))throw t;Ve(T1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",C1(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const i=im.createAndSchedule(this,t,e,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ot(47125,{Pc:C1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function C1(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(r,["next","error","complete"])}class Ko extends fh{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new k1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new k1(t),this._firestoreClient=void 0,await t}}}function MS(r,t){const e=typeof r=="object"?r:Zc(),n=typeof r=="string"?r:yc,i=Jc(e,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Ov("firestore");s&&AS(i,...s)}return i}function aw(r){if(r._terminated)throw new Le(we.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NS(r),r._firestoreClient}function NS(r){var n,i,s;const t=r._freezeSettings(),e=function(u,l,a,c){return new Z8(u,l,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,sw(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new CS(r._authCredentials,r._appCheckCredentials,r._queue,e,r._componentsProvider&&function(u){const l=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _n(Pr.fromBase64String(t))}catch(e){throw new Le(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _n(Pr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Il(t,_n._jsonSchema))return _n.fromBase64String(t.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:pr("string",_n._jsonSchemaVersion),bytes:pr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Le(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Le(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Le(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Tt(this._lat,t._lat)||Tt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(t){if(Il(t,ti._jsonSchema))return new ti(t.latitude,t.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:pr("string",ti._jsonSchemaVersion),latitude:pr("number"),longitude:pr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Il(t,ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new ri(t.vectorValues);throw new Le(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:pr("string",ri._jsonSchemaVersion),vectorValues:pr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=/^__.*__$/;class DS{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new vs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Rl(t,this.data,e,this.fieldTransforms)}}class lw{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new vs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function uw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{Ac:r})}}class um{constructor(t,e,n,i,s,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new um({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const e=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:e,fc:!1});return n.gc(t),n}yc(t){var i;const e=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:e,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Tc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(uw(this.Ac)&&OS.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class jS{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||uh(t)}Cc(t,e,n,i=!1){return new um({Ac:t,methodName:e,Dc:n,path:Ir.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cm(r){const t=r._freezeSettings(),e=uh(r._databaseId);return new jS(r._databaseId,!!t.ignoreUndefinedProperties,e)}function LS(r,t,e,n,i,s={}){const o=r.Cc(s.merge||s.mergeFields?2:0,t,e,i);fm("Data must be an object, but it was:",o,n);const u=cw(n,o);let l,a;if(s.merge)l=new fn(o.fieldMask),a=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Ad(t,d,e);if(!o.contains(h))throw new Le(we.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fw(c,h)||c.push(h)}l=new fn(c),a=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,a=o.fieldTransforms;return new DS(new rn(u),l,a)}class mh extends ph{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mh}}class hm extends ph{_toFieldTransform(t){return new Tx(t.path,new ml)}isEqual(t){return t instanceof hm}}function FS(r,t,e,n){const i=r.Cc(1,t,e);fm("Data must be an object, but it was:",i,n);const s=[],o=rn.empty();bs(n,(l,a)=>{const c=dm(t,l,e);a=ur(a);const d=i.yc(c);if(a instanceof mh)s.push(c);else{const h=Nl(a,d);h!=null&&(s.push(c),o.set(c,h))}});const u=new fn(s);return new lw(o,u,i.fieldTransforms)}function VS(r,t,e,n,i,s){const o=r.Cc(1,t,e),u=[Ad(t,n,e)],l=[i];if(s.length%2!=0)throw new Le(we.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)u.push(Ad(t,s[h])),l.push(s[h+1]);const a=[],c=rn.empty();for(let h=u.length-1;h>=0;--h)if(!fw(a,u[h])){const f=u[h];let m=l[h];m=ur(m);const y=o.yc(f);if(m instanceof mh)a.push(f);else{const p=Nl(m,y);p!=null&&(a.push(f),c.set(f,p))}}const d=new fn(a);return new lw(c,d,o.fieldTransforms)}function BS(r,t,e,n=!1){return Nl(e,r.Cc(n?4:3,t))}function Nl(r,t){if(hw(r=ur(r)))return fm("Unsupported field value:",t,r),cw(r,t);if(r instanceof ph)return function(n,i){if(!uw(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const u of n){let l=Nl(u,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(r,t)}return function(n,i){if((n=ur(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xx(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Gt.fromDate(n);return{timestampValue:_c(i.serializer,s)}}if(n instanceof Gt){const s=new Gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_c(i.serializer,s)}}if(n instanceof ti)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _n)return{bytesValue:P2(i.serializer,n._byteString)};if(n instanceof lr){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xp(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ri)return function(o,u){return{mapValue:{fields:{[o2]:{stringValue:a2},[bc]:{arrayValue:{values:o.toArray().map(a=>{if(typeof a!="number")throw u.Sc("VectorValues must only contain numeric values.");return qp(u.serializer,a)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${eh(n)}`)}(r,t)}function cw(r,t){const e={};return e2(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bs(r,(n,i)=>{const s=Nl(i,t.mc(n));s!=null&&(e[n]=s)}),{mapValue:{fields:e}}}function hw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Gt||r instanceof ti||r instanceof _n||r instanceof lr||r instanceof ph||r instanceof ri)}function fm(r,t,e){if(!hw(e)||!Jv(e)){const n=eh(e);throw n==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+n)}}function Ad(r,t,e){if((t=ur(t))instanceof dh)return t._internalPath;if(typeof t=="string")return dm(r,t);throw Tc("Field path arguments must be of type string or ",r,!1,void 0,e)}const US=new RegExp("[~\\*/\\[\\]]");function dm(r,t,e){if(t.search(US)>=0)throw Tc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new dh(...t.split("."))._internalPath}catch{throw Tc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function Tc(r,t,e,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new Le(we.INVALID_ARGUMENT,u+r+l)}function fw(r,t){return r.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,e,n,i,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(pm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class zS extends dw{data(){return super.data()}}function pm(r,t){return typeof t=="string"?dm(r,t):t instanceof dh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Le(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mm{}class pw extends mm{}function HS(r,t,...e){let n=[];t instanceof mm&&n.push(t),n=n.concat(e),function(s){const o=s.filter(l=>l instanceof ym).length,u=s.filter(l=>l instanceof gm).length;if(o>1||o>0&&u>0)throw new Le(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class gm extends pw{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new gm(t,e,n)}_apply(t){const e=this._parse(t);return mw(t._query,e),new eo(t.firestore,t.converter,vd(t._query,e))}_parse(t){const e=cm(t.firestore);return function(s,o,u,l,a,c,d){let h;if(a.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Le(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){A1(d,c);const m=[];for(const y of d)m.push(R1(l,s,y));h={arrayValue:{values:m}}}else h=R1(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||A1(d,c),h=BS(u,o,d,c==="in"||c==="not-in");return dr.create(a,c,h)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class ym extends mm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ym(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return e.length===1?e[0]:Bn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(i,s){let o=i;const u=s.getFlattenedFilters();for(const l of u)mw(o,l),o=vd(o,l)}(t._query,e),new eo(t.firestore,t.converter,vd(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bm extends pw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new bm(t,e)}_apply(t){const e=function(i,s,o){if(i.startAt!==null)throw new Le(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Le(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pl(s,o)}(t._query,this._field,this._direction);return new eo(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new na(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}function qS(r,t="asc"){const e=t,n=pm("orderBy",r);return bm._create(n,e)}function R1(r,t,e){if(typeof(e=ur(e))=="string"){if(e==="")throw new Le(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m2(t)&&e.indexOf("/")!==-1)throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child($t.fromString(e));if(!et.isDocumentKey(n))throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Hg(r,new et(n))}if(e instanceof lr)return Hg(r,e._key);throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eh(e)}.`)}function A1(r,t){if(!Array.isArray(r)||r.length===0)throw new Le(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mw(r,t){const e=function(i,s){for(const o of i)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Le(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Le(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class WS{convertValue(t,e="none"){switch(hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return or(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ot(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return bs(t,(i,s)=>{n[i]=this.convertValue(s,e)}),n}convertVectorValue(t){var n,i,s;const e=(s=(i=(n=t.fields)==null?void 0:n[bc].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>or(o.doubleValue));return new ri(e)}convertGeoPoint(t){return new ti(or(t.latitude),or(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=nh(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(hl(t));default:return null}}convertTimestamp(t){const e=us(t);return new Gt(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=$t.fromString(t);Vt(L2(n),9688,{name:t});const i=new fl(n.get(1),n.get(3)),s=new et(n.popFirst(5));return i.isEqual(e)||xi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}class Ca{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ns extends dw{constructor(t,e,n,i,s,o){super(t,e,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(pm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ns._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:pr("string",Ns._jsonSchemaVersion),bundleSource:pr("string","DocumentSnapshot"),bundleName:pr("string"),bundle:pr("string")};class Fu extends Ns{data(t={}){return super.data(t)}}class Po{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Ca(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Fu(this._firestore,this._userDataWriter,n.key,n,new Ca(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Le(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const l=new Fu(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ca(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const l=new Fu(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ca(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let a=-1,c=-1;return u.type!==0&&(a=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),c=o.indexOf(u.doc.key)),{type:KS(u.type),doc:l,oldIndex:a,newIndex:c}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(e.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function KS(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot(61501,{type:r})}}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:pr("string",Po._jsonSchemaVersion),bundleSource:pr("string","QuerySnapshot"),bundleName:pr("string"),bundle:pr("string")};class gw extends WS{constructor(t){super(),this.firestore=t}convertBytes(t){return new _n(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new lr(this.firestore,null,e)}}function Nn(r,t,e){r=gi(r,lr);const n=gi(r.firestore,Ko),i=GS(r.converter,t,e);return vm(n,[LS(cm(n),"setDoc",r._key,i,r.converter!==null,e).toMutation(r._key,Fn.none())])}function XS(r,t,e,...n){r=gi(r,lr);const i=gi(r.firestore,Ko),s=cm(i);let o;return o=typeof(t=ur(t))=="string"||t instanceof dh?VS(s,"updateDoc",r._key,t,e,n):FS(s,"updateDoc",r._key,t),vm(i,[o.toMutation(r._key,Fn.exists(!0))])}function P1(r){return vm(gi(r.firestore,Ko),[new Wp(r._key,Fn.none())])}function YS(r,...t){var l,a,c;r=ur(r);let e={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||I1(t[n])||(e=t[n++]);const i={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(I1(t[n])){const d=t[n];t[n]=(l=d.next)==null?void 0:l.bind(d),t[n+1]=(a=d.error)==null?void 0:a.bind(d),t[n+2]=(c=d.complete)==null?void 0:c.bind(d)}let s,o,u;if(r instanceof lr)o=gi(r.firestore,Ko),u=Hp(r._key.path),s={next:d=>{t[n]&&t[n](QS(o,r,d))},error:t[n+1],complete:t[n+2]};else{const d=gi(r,eo);o=gi(d.firestore,Ko),u=d._query;const h=new gw(o);s={next:f=>{t[n]&&t[n](new Po(o,h,d,f))},error:t[n+1],complete:t[n+2]},$S(r._query)}return function(h,f,m,y){const p=new kS(y),b=new aS(f,p,m);return h.asyncQueue.enqueueAndForget(async()=>nS(await _1(h),b)),()=>{p.Nu(),h.asyncQueue.enqueueAndForget(async()=>iS(await _1(h),b))}}(aw(o),u,i,s)}function vm(r,t){return function(n,i){const s=new Ms;return n.asyncQueue.enqueueAndForget(async()=>yS(await RS(n),i,s)),s.promise}(aw(r),t)}function QS(r,t,e){const n=e.docs.get(t._key),i=new gw(r);return new Ns(r,i,t._key,n,new Ca(e.hasPendingWrites,e.fromCache),t.converter)}function qr(){return new hm("serverTimestamp")}(function(t,e=!0){(function(i){ea=i})(Qs),zs(new as("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),u=new Ko(new O8(n.getProvider("auth-internal")),new L8(o,n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Le(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(a.options.projectId,c)}(o,i),o);return s={useFetchStreams:e,...s},u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Jn(Pg,Mg,t),Jn(Pg,Mg,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firebasestorage.googleapis.com",bw="storageBucket",JS=2*60*1e3,ZS=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends oi{constructor(t,e,n=0){super(lf(t),`Firebase Storage: ${e} (${lf(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return lf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ir;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ir||(ir={}));function lf(r){return"storage/"+r}function wm(){const r="An unknown error occurred, please check the error payload for server response.";return new sr(ir.UNKNOWN,r)}function eE(r){return new sr(ir.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function tE(r){return new sr(ir.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rE(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new sr(ir.UNAUTHENTICATED,r)}function nE(){return new sr(ir.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iE(r){return new sr(ir.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function sE(){return new sr(ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oE(){return new sr(ir.CANCELED,"User canceled the upload/download.")}function aE(r){return new sr(ir.INVALID_URL,"Invalid URL '"+r+"'.")}function lE(r){return new sr(ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function uE(){return new sr(ir.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bw+"' property when initializing the app?")}function cE(){return new sr(ir.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hE(){return new sr(ir.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fE(r){return new sr(ir.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pd(r){return new sr(ir.INVALID_ARGUMENT,r)}function vw(){return new sr(ir.APP_DELETED,"The Firebase app was deleted.")}function dE(r){return new sr(ir.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function za(r,t){return new sr(ir.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function va(r){throw new sr(ir.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=dn.makeFromUrl(t,e)}catch{return new dn(t,"")}if(n.path==="")return n;throw lE(t)}static makeFromUrl(t,e){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function a(k){k.path_=decodeURIComponent(k.path)}const c="v[A-Za-z0-9_]+",d=e.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=e===yw?"(?:storage.googleapis.com|storage.cloud.google.com)":e,p="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${p}`,"i"),w=[{regex:u,indices:l,postModify:s},{regex:f,indices:m,postModify:a},{regex:b,indices:{bucket:1,path:2},postModify:a}];for(let k=0;k<w.length;k++){const A=w[k],U=A.regex.exec(t);if(U){const V=U[A.indices.bucket];let R=U[A.indices.path];R||(R=""),n=new dn(V,R),A.postModify(n);break}}if(n==null)throw aE(t);return n}}class pE{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r,t,e){let n=1,i=null,s=null,o=!1,u=0;function l(){return u===2}let a=!1;function c(...p){a||(a=!0,t.apply(null,p))}function d(p){i=setTimeout(()=>{i=null,r(f,l())},p)}function h(){s&&clearTimeout(s)}function f(p,...b){if(a){h();return}if(p){h(),c.call(null,p,...b);return}if(l()||o){h(),c.call(null,p,...b);return}n<64&&(n*=2);let w;u===1?(u=2,w=0):w=(n+Math.random())*1e3,d(w)}let m=!1;function y(p){m||(m=!0,h(),!a&&(i!==null?(p||(u=2),clearTimeout(i),d(0)):p||(u=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},e),y}function gE(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r){return r!==void 0}function bE(r){return typeof r=="object"&&!Array.isArray(r)}function _m(r){return typeof r=="string"||r instanceof String}function M1(r){return xm()&&r instanceof Blob}function xm(){return typeof Blob<"u"}function N1(r,t,e,n){if(n<t)throw Pd(`Invalid value for '${r}'. Expected ${t} or greater.`);if(n>e)throw Pd(`Invalid value for '${r}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r,t,e){let n=t;return e==null&&(n=`https://${t}`),`${e}://${n}/v0${r}`}function ww(r){const t=encodeURIComponent;let e="?";for(const n in r)if(r.hasOwnProperty(n)){const i=t(n)+"="+t(r[n]);e=e+i+"&"}return e=e.slice(0,-1),e}var Os;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Os||(Os={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(r,t){const e=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,s=t.indexOf(r)!==-1;return e||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,e,n,i,s,o,u,l,a,c,d,h=!0,f=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=l,this.timeout_=a,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new pu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const l=u.loaded,a=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,a)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Os.NO_ERROR,l=s.getStatus();if(!u||vE(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Os.ABORT;n(!1,new pu(!1,null,c));return}const a=this.successCodes_.indexOf(l)!==-1;n(!0,new pu(a,s))})},e=(n,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(u,u.getResponse());yE(l)?s(l):s()}catch(l){o(l)}else if(u!==null){const l=wm();l.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,l)):o(l)}else if(i.canceled){const l=this.appDelete_?vw():oE();o(l)}else{const l=sE();o(l)}};this.canceled_?e(!1,new pu(!1,null,!0)):this.backoffId_=mE(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&gE(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pu{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function _E(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function xE(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function SE(r,t){t&&(r["X-Firebase-GMPID"]=t)}function EE(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function TE(r,t,e,n,i,s,o=!0,u=!1){const l=ww(r.urlParams),a=r.url+l,c=Object.assign({},r.headers);return SE(c,t),_E(c,e),xE(c,s),EE(c,n),new wE(a,r.method,c,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CE(...r){const t=kE();if(t!==void 0){const e=new t;for(let n=0;n<r.length;n++)e.append(r[n]);return e.getBlob()}else{if(xm())return new Blob(r);throw new sr(ir.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IE(r,t,e){return r.webkitSlice?r.webkitSlice(t,e):r.mozSlice?r.mozSlice(t,e):r.slice?r.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r){if(typeof atob>"u")throw fE("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uf{constructor(t,e){this.data=t,this.contentType=e||null}}function AE(r,t){switch(r){case Xn.RAW:return new uf(_w(t));case Xn.BASE64:case Xn.BASE64URL:return new uf(xw(r,t));case Xn.DATA_URL:return new uf(ME(t),NE(t))}throw wm()}function _w(r){const t=[];for(let e=0;e<r.length;e++){let n=r.charCodeAt(e);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(e<r.length-1&&(r.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const s=n,o=r.charCodeAt(++e);n=65536|(s&1023)<<10|o&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function PE(r){let t;try{t=decodeURIComponent(r)}catch{throw za(Xn.DATA_URL,"Malformed data URL.")}return _w(t)}function xw(r,t){switch(r){case Xn.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw za(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xn.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw za(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=RE(t)}catch(i){throw i.message.includes("polyfill")?i:za(r,"Invalid character found")}const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}class Sw{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw za(Xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;n!=null&&(this.base64=OE(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function ME(r){const t=new Sw(r);return t.base64?xw(Xn.BASE64,t.rest):PE(t.rest)}function NE(r){return new Sw(r).contentType}function OE(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t,e){let n=0,i="";M1(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(M1(this.data_)){const n=this.data_,i=IE(n,t,e);return i===null?null:new Li(i)}else{const n=new Uint8Array(this.data_.buffer,t,e-t);return new Li(n,!0)}}static getBlob(...t){if(xm()){const e=t.map(n=>n instanceof Li?n.data_:n);return new Li(CE.apply(null,e))}else{const e=t.map(o=>_m(o)?AE(Xn.RAW,o).data:o.data_);let n=0;e.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let s=0;return e.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new Li(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){let t;try{t=JSON.parse(r)}catch{return null}return bE(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function jE(r,t){const e=t.split("/").filter(n=>n.length>0).join("/");return r.length===0?e:r+"/"+e}function Tw(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r,t){return t}class Hr{constructor(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||LE}}let mu=null;function FE(r){return!_m(r)||r.length<2?r:Tw(r)}function kw(){if(mu)return mu;const r=[];r.push(new Hr("bucket")),r.push(new Hr("generation")),r.push(new Hr("metageneration")),r.push(new Hr("name","fullPath",!0));function t(s,o){return FE(o)}const e=new Hr("name");e.xform=t,r.push(e);function n(s,o){return o!==void 0?Number(o):o}const i=new Hr("size");return i.xform=n,r.push(i),r.push(new Hr("timeCreated")),r.push(new Hr("updated")),r.push(new Hr("md5Hash",null,!0)),r.push(new Hr("cacheControl",null,!0)),r.push(new Hr("contentDisposition",null,!0)),r.push(new Hr("contentEncoding",null,!0)),r.push(new Hr("contentLanguage",null,!0)),r.push(new Hr("contentType",null,!0)),r.push(new Hr("metadata","customMetadata",!0)),mu=r,mu}function VE(r,t){function e(){const n=r.bucket,i=r.fullPath,s=new dn(n,i);return t._makeStorageReference(s)}Object.defineProperty(r,"ref",{get:e})}function BE(r,t,e){const n={};n.type="file";const i=e.length;for(let s=0;s<i;s++){const o=e[s];n[o.local]=o.xform(n,t[o.server])}return VE(n,r),n}function Cw(r,t,e){const n=Ew(t);return n===null?null:BE(r,n,e)}function UE(r,t,e,n){const i=Ew(t);if(i===null||!_m(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(a=>{const c=r.bucket,d=r.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=gh(h,e,n),m=ww({alt:"media",token:a});return f+m})[0]}function zE(r,t){const e={},n=t.length;for(let i=0;i<n;i++){const s=t[i];s.writable&&(e[s.server]=r[s.local])}return JSON.stringify(e)}class Sm{constructor(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){if(!r)throw wm()}function $E(r,t){function e(n,i){const s=Cw(r,i,t);return Iw(s!==null),s}return e}function HE(r,t){function e(n,i){const s=Cw(r,i,t);return Iw(s!==null),UE(s,i,r.host,r._protocol)}return e}function Rw(r){function t(e,n){let i;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?i=nE():i=rE():e.getStatus()===402?i=tE(r.bucket):e.getStatus()===403?i=iE(r.path):i=n,i.status=e.getStatus(),i.serverResponse=n.serverResponse,i}return t}function Aw(r){const t=Rw(r);function e(n,i){let s=t(n,i);return n.getStatus()===404&&(s=eE(r.path)),s.serverResponse=i.serverResponse,s}return e}function qE(r,t,e){const n=t.fullServerUrl(),i=gh(n,r.host,r._protocol),s="GET",o=r.maxOperationRetryTime,u=new Sm(i,s,HE(r,e),o);return u.errorHandler=Aw(t),u}function WE(r,t){const e=t.fullServerUrl(),n=gh(e,r.host,r._protocol),i="DELETE",s=r.maxOperationRetryTime;function o(l,a){}const u=new Sm(n,i,o,s);return u.successCodes=[200,204],u.errorHandler=Aw(t),u}function GE(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function KE(r,t,e){const n=Object.assign({},e);return n.fullPath=r.path,n.size=t.size(),n.contentType||(n.contentType=GE(null,t)),n}function XE(r,t,e,n,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let w="";for(let k=0;k<2;k++)w=w+Math.random().toString().slice(2);return w}const l=u();o["Content-Type"]="multipart/related; boundary="+l;const a=KE(t,n,i),c=zE(a,e),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+a.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Li.getBlob(d,n,h);if(f===null)throw cE();const m={name:a.fullPath},y=gh(s,r.host,r._protocol),p="POST",b=r.maxUploadRetryTime,g=new Sm(y,p,$E(r,e),b);return g.urlParams=m,g.headers=o,g.body=f.uploadData(),g.errorHandler=Rw(t),g}class YE{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Os.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Os.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Os.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,n,i,s){if(this.sent_)throw va("cannot .send() more than once");if(ys(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw va("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class QE extends YE{initXhr(){this.xhr_.responseType="text"}}function Em(){return new QE}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,e){this._service=t,e instanceof dn?this._location=e:this._location=dn.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new qs(t,e)}get root(){const t=new dn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Tw(this._location.path)}get storage(){return this._service}get parent(){const t=DE(this._location.path);if(t===null)return null;const e=new dn(this._location.bucket,t);return new qs(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw dE(t)}}function JE(r,t,e){r._throwIfRoot("uploadBytes");const n=XE(r.storage,r._location,kw(),new Li(t,!0),e);return r.storage.makeRequestWithTokens(n,Em).then(i=>({metadata:i,ref:r}))}function ZE(r){r._throwIfRoot("getDownloadURL");const t=qE(r.storage,r._location,kw());return r.storage.makeRequestWithTokens(t,Em).then(e=>{if(e===null)throw hE();return e})}function e7(r){r._throwIfRoot("deleteObject");const t=WE(r.storage,r._location);return r.storage.makeRequestWithTokens(t,Em)}function t7(r,t){const e=jE(r._location.path,t),n=new dn(r._location.bucket,e);return new qs(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(r){return/^[A-Za-z]+:\/\//.test(r)}function n7(r,t){return new qs(r,t)}function Pw(r,t){if(r instanceof Tm){const e=r;if(e._bucket==null)throw uE();const n=new qs(e,e._bucket);return t!=null?Pw(n,t):n}else return t!==void 0?t7(r,t):r}function i7(r,t){if(t&&r7(t)){if(r instanceof Tm)return n7(r,t);throw Pd("To use ref(service, url), the first argument must be a Storage instance.")}else return Pw(r,t)}function O1(r,t){const e=t==null?void 0:t[bw];return e==null?null:dn.makeFromBucketSpec(e,r)}function s7(r,t,e,n={}){r.host=`${t}:${e}`;const i=ys(t);i&&(Np(`https://${r.host}/b`),Op("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(r._overrideAuthToken=typeof s=="string"?s:Lv(s,r.app.options.projectId))}class Tm{constructor(t,e,n,i,s,o=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=yw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JS,this._maxUploadRetryTime=ZS,this._requests=new Set,i!=null?this._bucket=dn.makeFromBucketSpec(i,this._host):this._bucket=O1(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=dn.makeFromBucketSpec(this._url,t):this._bucket=O1(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){N1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){N1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new qs(this,t)}_makeRequest(t,e,n,i,s=!0){if(this._deleted)return new pE(vw());{const o=TE(t,this._appId,n,i,e,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,e){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,i).getPromise()}}const D1="@firebase/storage",j1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="storage";function o7(r,t,e){return r=ur(r),JE(r,t,e)}function a7(r){return r=ur(r),ZE(r)}function l7(r){return r=ur(r),e7(r)}function L1(r,t){return r=ur(r),i7(r,t)}function u7(r=Zc(),t){r=ur(r);const n=Jc(r,Mw).getImmediate({identifier:t}),i=Ov("storage");return i&&c7(n,...i),n}function c7(r,t,e,n={}){s7(r,t,e,n)}function h7(r,{instanceIdentifier:t}){const e=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new Tm(e,n,i,t,Qs)}function f7(){zs(new as(Mw,h7,"PUBLIC").setMultipleInstances(!0)),Jn(D1,j1,""),Jn(D1,j1,"esm2020")}f7();var d7="firebase",p7="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(d7,p7,"app");function Nw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m7=Nw,Ow=new kl("auth","Firebase",Nw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Dp("@firebase/auth");function g7(r,...t){kc.logLevel<=Et.WARN&&kc.warn(`Auth (${Qs}): ${r}`,...t)}function Vu(r,...t){kc.logLevel<=Et.ERROR&&kc.error(`Auth (${Qs}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(r,...t){throw km(r,...t)}function ni(r,...t){return km(r,...t)}function Dw(r,t,e){const n={...m7(),[t]:e};return new kl("auth","Firebase",n).create(t,{appName:r.name})}function Ds(r){return Dw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return Ow.create(r,...t)}function lt(r,t,...e){if(!r)throw km(t,...e)}function di(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vu(t),new Error(t)}function Ti(r,t){r||di(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function y7(){return F1()==="http:"||F1()==="https:"}function F1(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y7()||h5()||"connection"in navigator)?navigator.onLine:!0}function v7(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ti(e>t,"Short delay should be less than long delay!"),this.isMobile=l5()||f5()}get(){return b7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r,t){Ti(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x7=new Ol(3e4,6e4);function Im(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function sa(r,t,e,n,i={}){return Lw(r,i,async()=>{let s={},o={};n&&(t==="GET"?o=n:s={body:JSON.stringify(n)});const u=Cl({key:r.config.apiKey,...o}).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const a={method:t,headers:l,...s};return c5()||(a.referrerPolicy="no-referrer"),r.emulatorConfig&&ys(r.emulatorConfig.host)&&(a.credentials="include"),jw.fetch()(await Fw(r,r.config.apiHost,e,u),a)})}async function Lw(r,t,e){r._canInitEmulator=!1;const n={...w7,...t};try{const i=new E7(r),s=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gu(r,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[l,a]=u.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(r,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gu(r,"email-already-in-use",o);if(l==="USER_DISABLED")throw gu(r,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Dw(r,c,a);Ei(r,c)}}catch(i){if(i instanceof oi)throw i;Ei(r,"network-request-failed",{message:String(i)})}}async function S7(r,t,e,n,i={}){const s=await sa(r,t,e,n,i);return"mfaPendingCredential"in s&&Ei(r,"multi-factor-auth-required",{_serverResponse:s}),s}async function Fw(r,t,e,n){const i=`${t}${e}?${n}`,s=r,o=s.config.emulator?Cm(r.config,i):`${r.config.apiScheme}://${i}`;return _7.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class E7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(ni(this.auth,"network-request-failed")),x7.get())})}}function gu(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const i=ni(r,t,n);return i.customData._tokenResponse=e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(r,t){return sa(r,"POST","/v1/accounts:delete",t)}async function Cc(r,t){return sa(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function k7(r,t=!1){const e=ur(r),n=await e.getIdToken(t),i=Rm(n);lt(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:$a(cf(i.auth_time)),issuedAtTime:$a(cf(i.iat)),expirationTime:$a(cf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cf(r){return Number(r)*1e3}function Rm(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mv(e);return i?JSON.parse(i):(Vu("Failed to decode base64 JWT payload"),null)}catch(i){return Vu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function V1(r){const t=Rm(r);return lt(t,"internal-error"),lt(typeof t.exp<"u","internal-error"),lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof oi&&C7(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function C7({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=$a(this.lastLoginAt),this.creationTime=$a(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(r){var d;const t=r.auth,e=await r.getIdToken(),n=await bl(r,Cc(t,{idToken:e}));lt(n==null?void 0:n.users.length,t,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?Vw(i.providerUserInfo):[],o=A7(r.providerData,s),u=r.isAnonymous,l=!(r.email&&i.passwordHash)&&!(o!=null&&o.length),a=u?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Nd(i.createdAt,i.lastLoginAt),isAnonymous:a};Object.assign(r,c)}async function R7(r){const t=ur(r);await Ic(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function A7(r,t){return[...r.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function Vw(r){return r.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(r,t){const e=await Lw(r,{},async()=>{const n=Cl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,o=await Fw(r,i,"/v1/token",`key=${s}`),u=await r._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:u,body:n};return r.emulatorConfig&&ys(r.emulatorConfig.host)&&(l.credentials="include"),jw.fetch()(o,l)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function M7(r,t){return sa(r,"POST","/v2/accounts:revokeToken",Im(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){lt(t.idToken,"internal-error"),lt(typeof t.idToken<"u","internal-error"),lt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):V1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){lt(t.length!==0,"internal-error");const e=V1(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:s}=await P7(t,e);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:s}=e,o=new Mo;return n&&(lt(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),i&&(lt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(lt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(r,t){lt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Dn{constructor({uid:t,auth:e,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new I7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Nd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await bl(this,this.stsTokenManager.getToken(this.auth,t));return lt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return k7(this,t)}reload(){return R7(this)}_assign(t){this!==t&&(lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Dn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Ic(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Ds(this.auth));const t=await this.getIdToken();return await bl(this,T7(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const n=e.displayName??void 0,i=e.email??void 0,s=e.phoneNumber??void 0,o=e.photoURL??void 0,u=e.tenantId??void 0,l=e._redirectEventId??void 0,a=e.createdAt??void 0,c=e.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:m,stsTokenManager:y}=e;lt(d&&y,t,"internal-error");const p=Mo.fromJSON(this.name,y);lt(typeof d=="string",t,"internal-error"),Mi(n,t.name),Mi(i,t.name),lt(typeof h=="boolean",t,"internal-error"),lt(typeof f=="boolean",t,"internal-error"),Mi(s,t.name),Mi(o,t.name),Mi(u,t.name),Mi(l,t.name),Mi(a,t.name),Mi(c,t.name);const b=new Dn({uid:d,auth:t,email:i,emailVerified:h,displayName:n,isAnonymous:f,photoURL:o,phoneNumber:s,tenantId:u,stsTokenManager:p,createdAt:a,lastLoginAt:c});return m&&Array.isArray(m)&&(b.providerData=m.map(g=>({...g}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(t,e,n=!1){const i=new Mo;i.updateFromServerResponse(e);const s=new Dn({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await Ic(s),s}static async _fromGetAccountInfoResponse(t,e,n){const i=e.users[0];lt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Vw(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Mo;u.updateFromIdToken(n);const l=new Dn({uid:i.localId,auth:t,stsTokenManager:u,isAnonymous:o}),a={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Nd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,a),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;function pi(r){Ti(r instanceof Function,"Expected a class definition");let t=B1.get(r);return t?(Ti(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,B1.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Bw.type="NONE";const U1=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(r,t,e){return`firebase:${r}:${t}:${e}`}class No{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Bu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bu("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Cc(this.auth,{idToken:t}).catch(()=>{});return e?Dn._fromGetAccountInfoResponse(this.auth,e,t):null}return Dn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new No(pi(U1),t,n);const i=(await Promise.all(e.map(async a=>{if(await a._isAvailable())return a}))).filter(a=>a);let s=i[0]||pi(U1);const o=Bu(n,t.config.apiKey,t.name);let u=null;for(const a of e)try{const c=await a._get(o);if(c){let d;if(typeof c=="string"){const h=await Cc(t,{idToken:c}).catch(()=>{});if(!h)break;d=await Dn._fromGetAccountInfoResponse(t,h,c)}else d=Dn._fromJSON(t,c);a!==s&&(u=d),s=a;break}}catch{}const l=i.filter(a=>a._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new No(s,t,n):(s=l[0],u&&await s._set(o,u.toJSON()),await Promise.all(e.map(async a=>{if(a!==s)try{await a._remove(o)}catch{}})),new No(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Hw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Uw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ww(t))return"Blackberry";if(Gw(t))return"Webos";if(zw(t))return"Safari";if((t.includes("chrome/")||$w(t))&&!t.includes("edge/"))return"Chrome";if(qw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Uw(r=zr()){return/firefox\//i.test(r)}function zw(r=zr()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $w(r=zr()){return/crios\//i.test(r)}function Hw(r=zr()){return/iemobile/i.test(r)}function qw(r=zr()){return/android/i.test(r)}function Ww(r=zr()){return/blackberry/i.test(r)}function Gw(r=zr()){return/webos/i.test(r)}function Am(r=zr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function N7(r=zr()){var t;return Am(r)&&!!((t=window.navigator)!=null&&t.standalone)}function O7(){return d5()&&document.documentMode===10}function Kw(r=zr()){return Am(r)||qw(r)||Gw(r)||Ww(r)||/windows phone/i.test(r)||Hw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(r,t=[]){let e;switch(r){case"Browser":e=z1(zr());break;case"Worker":e=`${z1(zr())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Qs}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=s=>new Promise((o,u)=>{try{const l=t(s);o(l)}catch(l){u(l)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(r,t={}){return sa(r,"GET","/v2/passwordPolicy",Im(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=6;class F7{constructor(t){var n;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??L7,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $1(this),this.idTokenSubscription=new $1(this),this.beforeStateQueue=new D7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=pi(e)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await No.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Cc(this,{idToken:t}),n=await Dn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let n=e,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,u=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===u)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ic(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=v7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(On(this.app))return Promise.reject(Ds(this));const e=t?ur(t):null;return e&&lt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return On(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await j7(this),e=new F7(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await M7(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&pi(t)||this._popupRedirectResolver;lt(e,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[pi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const l=t.addObserver(e,n,i);return()=>{o=!0,l()}}else{const l=t.addObserver(e);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&g7(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pm(r){return ur(r)}class $1{constructor(t){this.auth=t,this.observer=null,this.addObserver=_5(e=>this.observer=e)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B7(r){Mm=r}function U7(r){return Mm.loadJS(r)}function z7(){return Mm.gapiScript}function $7(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(r,t){const e=Jc(r,"auth");if(e.isInitialized()){const i=e.getImmediate(),s=e.getOptions();if(Us(s,t??{}))return i;Ei(i,"already-initialized")}return e.initialize({options:t})}function q7(r,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(pi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function W7(r,t,e){const n=Pm(r);lt(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,s=Yw(t),{host:o,port:u}=G7(t),l=u===null?"":`:${u}`,a={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){lt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),lt(Us(a,n.config.emulator)&&Us(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=a,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,ys(o)?(Np(`${s}//${o}${l}`),Op("Auth",!0)):K7()}function Yw(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function G7(r){const t=Yw(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:H1(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:H1(o)}}}function H1(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function K7(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return di("not implemented")}_getIdTokenResponse(t){return di("not implemented")}_linkToIdToken(t,e){return di("not implemented")}_getReauthenticationResolver(t){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r,t){return S7(r,"POST","/v1/accounts:signInWithIdp",Im(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="http://localhost";class Ws extends Qw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ei("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i,...s}=e;if(!n||!i)return null;const o=new Ws(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return Oo(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Oo(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Oo(t,e)}buildRequest(){const t={requestUri:X7,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Cl(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Jw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Dl{constructor(){super("facebook.com")}static credential(t){return Ws._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fi.credential(t.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ws._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Vi.credentialFromTaggedObject(t)}static credentialFromError(t){return Vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Vi.credential(e,n)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Dl{constructor(){super("github.com")}static credential(t){return Ws._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bi.credential(t.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Dl{constructor(){super("twitter.com")}static credential(t,e){return Ws._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Ui.credential(e,n)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,i=!1){const s=await Dn._fromIdTokenResponse(t,n,i),o=q1(n);return new Xo({user:s,providerId:o,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=q1(n);return new Xo({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function q1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends oi{constructor(t,e,n,i){super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new Rc(t,e,n,i)}}function Zw(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(r,s,t,n):s})}async function Y7(r,t,e=!1){const n=await bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Xo._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q7(r,t,e=!1){const{auth:n}=r;if(On(n.app))return Promise.reject(Ds(n));const i="reauthenticate";try{const s=await bl(r,Zw(n,i,t,r),e);lt(s.idToken,n,"internal-error");const o=Rm(s.idToken);lt(o,n,"internal-error");const{sub:u}=o;return lt(r.uid===u,n,"user-mismatch"),Xo._forOperation(r,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ei(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(r,t,e=!1){if(On(r.app))return Promise.reject(Ds(r));const n="signIn",i=await Zw(r,n,t),s=await Xo._fromIdTokenResponse(r,n,i);return e||await r._updateCurrentUser(s.user),s}function Z7(r,t,e,n){return ur(r).onIdTokenChanged(t,e,n)}function eT(r,t,e){return ur(r).beforeAuthStateChanged(t,e)}const Ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ac,"1"),this.storage.removeItem(Ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=1e3,rT=10;class t_ extends e_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,u,l)=>{this.notifyListeners(o,l)});return}const n=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!e&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);O7()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,rT):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},tT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}t_.type="LOCAL";const nT=t_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends e_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}r_.type="SESSION";const n_=r_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(i=>i.isListeningto(t));if(e)return e;const n=new yh(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:s}=e.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(o).map(async a=>a(e.origin,s)),l=await iT(u);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,l)=>{const a=Nm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===a)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:a,data:e},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function oT(r){ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function aT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lT(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function uT(){return i_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="firebaseLocalStorageDb",cT=1,Pc="firebaseLocalStorage",o_="fbase_key";class jl{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function bh(r,t){return r.transaction([Pc],t?"readwrite":"readonly").objectStore(Pc)}function hT(){const r=indexedDB.deleteDatabase(s_);return new jl(r).toPromise()}function Od(){const r=indexedDB.open(s_,cT);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Pc,{keyPath:o_})}catch(i){e(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Pc)?t(n):(n.close(),await hT(),t(await Od()))})})}async function W1(r,t,e){const n=bh(r,!0).put({[o_]:t,value:e});return new jl(n).toPromise()}async function fT(r,t){const e=bh(r,!1).get(t),n=await new jl(e).toPromise();return n===void 0?null:n.value}function G1(r,t){const e=bh(r,!0).delete(t);return new jl(e).toPromise()}const dT=800,pT=3;class a_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Od(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>pT)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(uT()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aT(),!this.activeServiceWorker)return;this.sender=new sT(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Od();return await W1(t,Ac,"1"),await G1(t,Ac),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W1(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>fT(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>G1(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=bh(i,!1).getAll();return new jl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a_.type="LOCAL";const mT=a_;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(r,t){return t?pi(t):(lt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Qw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Oo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function yT(r){return J7(r.auth,new Om(r),r.bypassAuthState)}function bT(r){const{auth:t,user:e}=r;return lt(e,t,"internal-error"),Q7(e,new Om(r),r.bypassAuthState)}async function vT(r){const{auth:t,user:e}=r;return lt(e,t,"internal-error"),Y7(e,new Om(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(t,e,n,i,s=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:s,error:o,type:u}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:e,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(l))}catch(a){this.reject(a)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return yT;case"linkViaPopup":case"linkViaRedirect":return vT;case"reauthViaPopup":case"reauthViaRedirect":return bT;default:Ei(this.auth,"internal-error")}}resolve(t){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Ol(2e3,1e4);class So extends l_{constructor(t,e,n,i,s){super(t,e,i,s),this.provider=n,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return lt(t,this.auth,"internal-error"),t}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if((n=(e=this.authWindow)==null?void 0:e.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wT.get())};t()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="pendingRedirect",Uu=new Map;class xT extends l_{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Uu.get(this.auth._key());if(!t){try{const n=await ST(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}Uu.set(this.auth._key(),t)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ST(r,t){const e=kT(t),n=TT(r);if(!await n._isAvailable())return!1;const i=await n._get(e)==="true";return await n._remove(e),i}function ET(r,t){Uu.set(r._key(),t)}function TT(r){return pi(r._redirectPersistence)}function kT(r){return Bu(_T,r.config.apiKey,r.name)}async function CT(r,t,e=!1){if(On(r.app))return Promise.reject(Ds(r));const n=Pm(r),i=gT(n,t),o=await new xT(n,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=10*60*1e3;class RT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AT(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!u_(t)){const i=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";e.onError(ni(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=IT&&this.cachedEventUids.clear(),this.cachedEventUids.has(K1(t))}saveEventToCache(t){this.cachedEventUids.add(K1(t)),this.lastProcessedEventTime=Date.now()}}function K1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function u_({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function AT(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PT(r,t={}){return sa(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NT=/^https?/;async function OT(r){if(r.config.emulator)return;const{authorizedDomains:t}=await PT(r);for(const e of t)try{if(DT(e))return}catch{}Ei(r,"unauthorized-domain")}function DT(r){const t=Md(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const o=new URL(r);return o.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===n}if(!NT.test(e))return!1;if(MT.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Ol(3e4,6e4);function X1(){const r=ii().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function LT(r){return new Promise((t,e)=>{var i,s,o;function n(){X1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{X1(),e(ni(r,"network-request-failed"))},timeout:jT.get()})}if((s=(i=ii().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((o=ii().gapi)!=null&&o.load)n();else{const u=$7("iframefcb");return ii()[u]=()=>{gapi.load?n():e(ni(r,"network-request-failed"))},U7(`${z7()}?onload=${u}`).catch(l=>e(l))}}).catch(t=>{throw zu=null,t})}let zu=null;function FT(r){return zu=zu||LT(r),zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Ol(5e3,15e3),BT="__/auth/iframe",UT="emulator/auth/iframe",zT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$T=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HT(r){const t=r.config;lt(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?Cm(t,UT):`https://${r.config.authDomain}/${BT}`,n={apiKey:t.apiKey,appName:r.name,v:Qs},i=$T.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${e}?${Cl(n).slice(1)}`}async function qT(r){const t=await FT(r),e=ii().gapi;return lt(e,r,"internal-error"),t.open({where:document.body,url:HT(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zT,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=ni(r,"network-request-failed"),u=ii().setTimeout(()=>{s(o)},VT.get());function l(){ii().clearTimeout(u),i(n)}n.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GT=500,KT=600,XT="_blank",YT="http://localhost";class Y1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QT(r,t,e,n=GT,i=KT){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const l={...WT,width:n.toString(),height:i.toString(),top:s,left:o},a=zr().toLowerCase();e&&(u=$w(a)?XT:e),Uw(a)&&(t=t||YT,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(N7(a)&&u!=="_self")return JT(t||"",u),new Y1(null);const d=window.open(t||"",u,c);lt(d,r,"popup-blocked");try{d.focus()}catch{}return new Y1(d)}function JT(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="__/auth/handler",ek="emulator/auth/handler",tk=encodeURIComponent("fac");async function Q1(r,t,e,n,i,s){lt(r.config.authDomain,r,"auth-domain-config-required"),lt(r.config.apiKey,r,"invalid-api-key");const o={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:Qs,eventId:i};if(t instanceof Jw){t.setDefaultLanguage(r.languageCode),o.providerId=t.providerId||"",w5(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof Dl){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}r.tenantId&&(o.tid=r.tenantId);const u=o;for(const c of Object.keys(u))u[c]===void 0&&delete u[c];const l=await r._getAppCheckToken(),a=l?`#${tk}=${encodeURIComponent(l)}`:"";return`${rk(r)}?${Cl(u).slice(1)}${a}`}function rk({config:r}){return r.emulator?Cm(r,ek):`https://${r.authDomain}/${ZT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="webStorageSupport";class nk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n_,this._completeRedirectFn=CT,this._overrideRedirectResult=ET}async _openPopup(t,e,n,i){var o;Ti((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Q1(t,e,n,Md(),i);return QT(t,s,Nm())}async _openRedirect(t,e,n,i){await this._originValidation(t);const s=await Q1(t,e,n,Md(),i);return oT(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(Ti(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await qT(t),n=new RT(t);return e.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(hf,{type:hf},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[hf];s!==void 0&&e(!!s),Ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=OT(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Kw()||zw()||Am()}}const ik=nk;var J1="@firebase/auth",Z1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ak(r){zs(new as("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;lt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xw(r)},a=new V7(n,i,s,l);return q7(a,e),a},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),zs(new as("auth-internal",t=>{const e=Pm(t.getProvider("auth").getImmediate());return(n=>new sk(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(J1,Z1,ok(r)),Jn(J1,Z1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=5*60,uk=jv("authIdTokenMaxAge")||lk;let ey=null;const ck=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>uk)return;const i=e==null?void 0:e.token;ey!==i&&(ey=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hk(r=Zc()){const t=Jc(r,"auth");if(t.isInitialized())return t.getImmediate();const e=H7(r,{popupRedirectResolver:ik,persistence:[mT,nT,n_]}),n=jv("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=ck(s.toString());eT(e,o,()=>o(e.currentUser)),Z7(e,u=>o(u))}}const i=Nv("auth");return i&&W7(e,`http://${i}`),e}function fk(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}B7({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=i=>{const s=ni("internal-error");s.customData=i,e(s)},n.type="text/javascript",n.charset="UTF-8",fk().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ak("Browser");const dk={apiKey:"AIzaSyBfADQYaRc8EQFppGQnVNpD6XBai50totE",authDomain:"meuprojeto-257f0.firebaseapp.com",projectId:"meuprojeto-257f0",storageBucket:"meuprojeto-257f0.firebasestorage.app",messagingSenderId:"710773486236",appId:"1:710773486236:web:de6516c37c1709140bf359",measurementId:"G-Z8M0Q3M4RB"},Dd={adminPassword:"mmgadmin",maxFileSize:5*1024*1024,allowedFileTypes:["image/jpeg","image/png","image/jpg"],candidateStatuses:["Backlog","Aprovado","Rejeitado"]};let vl;try{vl=Zc()}catch{vl=Bv(dk)}const Wr=MS(vl);hk(vl);const ty=u7(vl),pk=r=>{if(r=r.replace(/[^\d]/g,""),r.length!==11||/^(\d)\1{10}$/.test(r))return!1;let t=0;for(let n=0;n<9;n++)t+=parseInt(r.charAt(n))*(10-n);let e=t*10%11;if((e===10||e===11)&&(e=0),e!==parseInt(r.charAt(9)))return!1;t=0;for(let n=0;n<10;n++)t+=parseInt(r.charAt(n))*(11-n);return e=t*10%11,(e===10||e===11)&&(e=0),e===parseInt(r.charAt(10))},mk=r=>/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(r),gk=r=>{const t=r.replace(/\D/g,"");return t.length===11?t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):t.length===10?t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):r},yk=r=>r.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),jd=(r,t=5*1024*1024,e=["image/jpeg","image/png","image/jpg"])=>r?r.size>t?{valid:!1,error:"Arquivo muito grande. Mximo 5MB."}:e.includes(r.type)?{valid:!0}:{valid:!1,error:"Tipo de arquivo no permitido. Use JPG ou PNG."}:{valid:!1,error:"Nenhum arquivo selecionado"},yu=r=>{if(r.code)switch(r.code){case"auth/invalid-email":return"Email invlido";case"auth/user-disabled":return"Usurio desabilitado";case"auth/user-not-found":return"Usurio no encontrado";case"auth/wrong-password":return"Senha incorreta";case"auth/email-already-in-use":return"Email j est em uso";case"auth/weak-password":return"Senha muito fraca";case"storage/unauthorized":return"No autorizado para fazer upload";case"storage/canceled":return"Upload cancelado";case"storage/unknown":return"Erro desconhecido no storage";case"firestore/permission-denied":return"Permisso negada";case"firestore/unavailable":return"Servio indisponvel";default:return r.message||"Erro desconhecido"}return r.message||"Erro desconhecido"},cn=(r,t="info")=>{const e=document.createElement("div");e.className=`notification notification-${t}`,e.textContent=r,e.style.cssText=`
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 12px 20px;
    border-radius: 8px;
    color: white;
    font-weight: 500;
    z-index: 1000;
    max-width: 300px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transform: translateX(100%);
    transition: transform 0.3s ease;
  `;const n={success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6"};e.style.backgroundColor=n[t]||n.info,document.body.appendChild(e),setTimeout(()=>{e.style.transform="translateX(0)"},100),setTimeout(()=>{e.style.transform="translateX(100%)",setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)},5e3)},c_=()=>{const[r,t]=Ee.useState([]),[e,n]=Ee.useState(!0),[i,s]=Ee.useState(null);return Ee.useEffect(()=>{const a=HS(PS(Wr,"candidates"),qS("createdAt","desc")),c=YS(a,d=>{const h=d.docs.map(f=>({id:f.id,...f.data()}));t(h),n(!1),s(null)},d=>{s(yu(d)),n(!1),cn("Erro ao carregar candidatos","error")});return()=>c()},[]),{candidates:r,loading:e,error:i,addCandidate:async a=>{try{n(!0);const c=[{file:a.cpfImg,name:"CPF"},{file:a.pisImg,name:"PIS"},{file:a.rgFrenteImg,name:"RG Frente"},{file:a.rgVersoImg,name:"RG Verso"},{file:a.enderecoImg,name:"Endereo"}];for(const{file:y,name:p}of c){const b=jd(y,Dd.maxFileSize,Dd.allowedFileTypes);if(!b.valid)throw new Error(`${p}: ${b.error}`)}const d=crypto.randomUUID(),h=[{file:a.cpfImg,path:`candidates/${d}/cpfImg.jpeg`,key:"cpfImgUrl"},{file:a.pisImg,path:`candidates/${d}/pisImg.jpeg`,key:"pisImgUrl"},{file:a.rgFrenteImg,path:`candidates/${d}/rgFrenteImg.jpeg`,key:"rgFrenteImgUrl"},{file:a.rgVersoImg,path:`candidates/${d}/rgVersoImg.jpeg`,key:"rgVersoImgUrl"},{file:a.enderecoImg,path:`candidates/${d}/enderecoImg.jpeg`,key:"enderecoImgUrl"}],m=(await Promise.all(h.map(async({file:y,path:p,key:b})=>{const g=L1(ty,p);await o7(g,y);const w=await a7(g);return{key:b,url:w}}))).reduce((y,{key:p,url:b})=>(y[p]=b,y),{});await Nn(Zr(Wr,"candidates",d),{nome:a.nome,idade:parseInt(a.idade),telefone:a.telefone,cpf:a.cpf,cidade:a.cidade,aceiteLGPD:a.aceiteLGPD,...m,status:"Backlog",createdAt:qr(),updatedAt:qr()});try{await Nn(Zr(Wr,"logs",crypto.randomUUID()),{action:"create",candidateId:d,candidateName:a.nome,timestamp:qr(),userAgent:navigator.userAgent})}catch(y){console.warn("Erro ao salvar log (no afeta o usurio):",y)}return await Nn(Zr(Wr,"backup","candidates",d),{nome:a.nome,idade:parseInt(a.idade),telefone:a.telefone,cpf:a.cpf,...m,status:"Backlog",createdAt:qr(),backupAt:qr()}),cn("Trabalhador cadastrado com sucesso!","success"),!0}catch(c){const d=yu(c);return["Invalid document reference","Document references must have an even number of segments","logs/candidate_logs"].some(m=>d.includes(m))?console.warn("Erro filtrado (no mostrado ao usurio):",d):(s(d),cn(d,"error")),!1}finally{n(!1)}},updateCandidateStatus:async(a,c)=>{try{const d=r.find(f=>f.id===a),h=(d==null?void 0:d.status)||"Backlog";await XS(Zr(Wr,"candidates",a),{status:c,updatedAt:qr()});try{await Nn(Zr(Wr,"logs",crypto.randomUUID()),{action:"status_update",candidateId:a,candidateName:(d==null?void 0:d.nome)||"Desconhecido",oldStatus:h,newStatus:c,timestamp:qr(),userAgent:navigator.userAgent})}catch(f){console.warn("Erro ao salvar log (no afeta o usurio):",f)}return await Nn(Zr(Wr,"backup","candidates",a),{...d,status:c,updatedAt:qr(),backupAt:qr()},{merge:!0}),cn(`Status atualizado para ${c}`,"success"),!0}catch(d){const h=yu(d);return cn(h,"error"),!1}},deleteCandidate:async a=>{try{const c=r.find(f=>f.id===a);if(!c)throw new Error("Candidato no encontrado");const h=[{url:c.cpfImgUrl,path:`candidates/${a}/cpfImg.jpeg`},{url:c.pisImgUrl,path:`candidates/${a}/pisImg.jpeg`},{url:c.rgFrenteImgUrl,path:`candidates/${a}/rgFrenteImg.jpeg`},{url:c.rgVersoImgUrl,path:`candidates/${a}/rgVersoImg.jpeg`},{url:c.enderecoImgUrl,path:`candidates/${a}/enderecoImg.jpeg`}].filter(f=>f.url).map(async({path:f})=>{try{const m=L1(ty,f);await l7(m)}catch(m){console.warn(`Erro ao deletar arquivo ${f}:`,m)}});await Promise.all(h),await P1(Zr(Wr,"candidates",a)),await P1(Zr(Wr,"backup","candidates",a));try{await Nn(Zr(Wr,"logs",crypto.randomUUID()),{action:"delete",candidateId:a,candidateName:c.nome,timestamp:qr(),userAgent:navigator.userAgent})}catch(f){console.warn("Erro ao salvar log (no afeta o usurio):",f)}return cn(`Candidato ${c.nome} deletado com sucesso!`,"success"),!0}catch(c){const d=yu(c);return cn(d,"error"),!1}}}};function bk(){const{addCandidate:r}=c_(),t=()=>({nome:"",idade:"",telefone:"",cpf:"",cidade:"",cpfImg:null,pisImg:null,rgFrenteImg:null,rgVersoImg:null,enderecoImg:null,aceiteLGPD:!1}),e=()=>({cpfImg:null,pisImg:null,rgFrenteImg:null,rgVersoImg:null,enderecoImg:null}),[n,i]=Ee.useState(()=>t()),[s,o]=Ee.useState(()=>e()),[u,l]=Ee.useState({}),[a,c]=Ee.useState(!1),[d,h]=Ee.useState(""),[f,m]=Ee.useState(!1),[y,p]=Ee.useState(!1),[b,g]=Ee.useState(!1),k=["Abati - PR","Adrianpolis - PR","Agudos do Sul - PR","Almirante Tamandar - PR","Altamira do Paran - PR","Alto Paraso - PR","Alto Paran - PR","Alto Piquiri - PR","Altnia - PR","Amapor - PR","Ampre - PR","Anahy - PR","Andir - PR","ngulo - PR","Antonina - PR","Antnio Olinto - PR","Apucarana - PR","Arapongas - PR","Arapoti - PR","Arapu - PR","Araruna - PR","Araucria - PR","Ariranha do Iva - PR","Assa - PR","Assis Chateaubriand - PR","Astorga - PR","Atalaia - PR","Balsa Nova - PR","Bandeirantes - PR","Barbosa Ferraz - PR","Barra do Jacar - PR","Barraco - PR","Bela Vista da Caroba - PR","Bela Vista do Paraso - PR","Bituruna - PR","Boa Esperana - PR","Boa Esperana do Iguau - PR","Boa Ventura de So Roque - PR","Boa Vista da Aparecida - PR","Bocaiva do Sul - PR","Bom Jesus do Sul - PR","Bom Sucesso - PR","Bom Sucesso do Sul - PR","Borrazpolis - PR","Braganey - PR","Brasilndia do Sul - PR","Cafeara - PR","Cafelndia - PR","Cafezal do Sul - PR","Cafezal do Sul - PR","Califrnia - PR","Cambar - PR","Camb - PR","Cambira - PR","Campina da Lagoa - PR","Campina do Simo - PR","Campina Grande do Sul - PR","Campo Bonito - PR","Campo do Tenente - PR","Campo Largo - PR","Campo Magro - PR","Campo Mouro - PR","Cndido de Abreu - PR","Candi - PR","Cantagalo - PR","Capanema - PR","Capito Lenidas Marques - PR","Carambe - PR","Carlpolis - PR","Cascavel - PR","Castro - PR","Catanduvas - PR","Centenrio do Sul - PR","Cerro Azul - PR","Cu Azul - PR","Chopinzinho - PR","Cianorte - PR","Cidade Gacha - PR","Clevelndia - PR","Colombo - PR","Colorado - PR","Congonhinhas - PR","Conselheiro Mairinck - PR","Contenda - PR","Corblia - PR","Cornlio Procpio - PR","Coronel Domingos Soares - PR","Coronel Vivida - PR","Corumbata do Sul - PR","Cruz Machado - PR","Cruzeiro do Iguau - PR","Cruzeiro do Oeste - PR","Cruzeiro do Sul - PR","Cruzmaltina - PR","Curitiba - PR","Curiva - PR","Diamante do Norte - PR","Diamante do Sul - PR","Diamante D'Oeste - PR","Dois Vizinhos - PR","Douradina - PR","Doutor Camargo - PR","Enas Marques - PR","Engenheiro Beltro - PR","Entre Rios do Oeste - PR","Esperana Nova - PR","Espigo Alto do Iguau - PR","Farol - PR","Faxinal - PR","Fazenda Rio Grande - PR","Fnix - PR","Fernandes Pinheiro - PR","Figueira - PR","Flor da Serra do Sul - PR","Flora - PR","Floresta - PR","Florestpolis - PR","Flrida - PR","Formosa do Oeste - PR","Foz do Iguau - PR","Foz do Jordo - PR","Francisco Alves - PR","Francisco Beltro - PR","General Carneiro - PR","Godoy Moreira - PR","Goioer - PR","Goioxim - PR","Grandes Rios - PR","Guara - PR","Guamiranga - PR","Guapirama - PR","Guaporema - PR","Guaraci - PR","Guaraniau - PR","Guarapuava - PR","Guaraqueaba - PR","Guaratuba - PR","Honrio Serpa - PR","Ibaiti - PR","Ibema - PR","Ibipor - PR","Icarama - PR","Iguarau - PR","Iguatu - PR","Imba - PR","Imbituva - PR","Incio Martins - PR","Inaj - PR","Indianpolis - PR","Ipiranga - PR","Ipor - PR","Iracema do Oeste - PR","Irati - PR","Iretama - PR","Itaguaj - PR","Itaipulndia - PR","Itambarac - PR","Itamb - PR","Itapejara d'Oeste - PR","Itaperuu - PR","Itana do Sul - PR","Iva - PR","Ivaipor - PR","Ivat - PR","Ivatuba - PR","Jaboti - PR","Jacarezinho - PR","Jaguapit - PR","Jaguariava - PR","Jandaia do Sul - PR","Janipolis - PR","Japira - PR","Japur - PR","Jardim Alegre - PR","Jardim Olinda - PR","Jataizinho - PR","Jesutas - PR","Joaquim Tvora - PR","Jundia do Sul - PR","Juranda - PR","Jussara - PR","Kalor - PR","Lapa - PR","Laranjal - PR","Laranjeiras do Sul - PR","Lepolis - PR","Lidianpolis - PR","Lindoeste - PR","Loanda - PR","Lobato - PR","Londrina - PR","Luiziana - PR","Lunardelli - PR","Lupionpolis - PR","Mallet - PR","Mambor - PR","Mandaguau - PR","Mandaguari - PR","Mandirituba - PR","Manfrinpolis - PR","Mangueirinha - PR","Manoel Ribas - PR","Marechal Cndido Rondon - PR","Maria Helena - PR","Marialva - PR","Marilndia do Sul - PR","Marilena - PR","Mariluz - PR","Maring - PR","Maripolis - PR","Marip - PR","Marmeleiro - PR","Marquinho - PR","Marumbi - PR","Matelndia - PR","Matinhos - PR","Mato Rico - PR","Mau da Serra - PR","Medianeira - PR","Mercedes - PR","Mirador - PR","Miraselva - PR","Missal - PR","Moreira Sales - PR","Morretes - PR","Munhoz de Melo - PR","Nossa Senhora das Graas - PR","Nova Aliana do Iva - PR","Nova Amrica da Colina - PR","Nova Aurora - PR","Nova Cantu - PR","Nova Esperana - PR","Nova Esperana do Sudoeste - PR","Nova Ftima - PR","Nova Laranjeiras - PR","Nova Londrina - PR","Nova Olmpia - PR","Nova Prata do Iguau - PR","Nova Santa Brbara - PR","Nova Santa Rosa - PR","Nova Tebas - PR","Novo Itacolomi - PR","Ortigueira - PR","Ourizona - PR","Ouro Verde do Oeste - PR","Paiandu - PR","Palmas - PR","Palmeira - PR","Palmital - PR","Palotina - PR","Paraso do Norte - PR","Paranacity - PR","Paranagu - PR","Paranapoema - PR","Paranava - PR","Pato Bragado - PR","Pato Branco - PR","Paula Freitas - PR","Paulo Frontin - PR","Peabiru - PR","Perobal - PR","Prola - PR","Prola d'Oeste - PR","Pin - PR","Pinhais - PR","Pinhal de So Bento - PR","Pinhalo - PR","Pinho - PR","Pira do Sul - PR","Piraquara - PR","Pitanga - PR","Pitangueiras - PR","Planaltina do Paran - PR","Planalto - PR","Ponta Grossa - PR","Pontal do Paran - PR","Porecatu - PR","Porto Amazonas - PR","Porto Barreiro - PR","Porto Rico - PR","Porto Vitria - PR","Prado Ferreira - PR","Pranchita - PR","Presidente Castelo Branco - PR","Primeiro de Maio - PR","Prudentpolis - PR","Quarto Centenrio - PR","Quatigu - PR","Quatro Barras - PR","Quatro Pontes - PR","Quedas do Iguau - PR","Querncia do Norte - PR","Quinta do Sol - PR","Quitandinha - PR","Ramilndia - PR","Rancho Alegre - PR","Rancho Alegre D'Oeste - PR","Realeza - PR","Rebouas - PR","Renascena - PR","Reserva - PR","Reserva do Iguau - PR","Ribeiro Claro - PR","Ribeiro do Pinhal - PR","Rio Azul - PR","Rio Bom - PR","Rio Branco do Iva - PR","Rio Branco do Sul - PR","Rio Negro - PR","Rolndia - PR","Roncador - PR","Rondon - PR","Rosrio do Iva - PR","Sabudia - PR","Salgado Filho - PR","Salto do Itarar - PR","Salto do Lontra - PR","Santa Amlia - PR","Santa Ceclia do Pavo - PR","Santa Cruz de Monte Castelo - PR","Santa F - PR","Santa Helena - PR","Santa Ins - PR","Santa Isabel do Iva - PR","Santa Izabel do Oeste - PR","Santa Lcia - PR","Santa Maria do Oeste - PR","Santa Mariana - PR","Santa Mnica - PR","Santa Tereza do Oeste - PR","Santa Terezinha de Itaipu - PR","Santana do Itarar - PR","Santo Antnio da Platina - PR","Santo Antnio do Caiu - PR","Santo Antnio do Paraso - PR","Santo Antnio do Sudoeste - PR","Santo Incio - PR","So Carlos do Iva - PR","So Jernimo da Serra - PR","So Joo - PR","So Joo do Caiu - PR","So Joo do Iva - PR","So Joo do Triunfo - PR","So Jorge d'Oeste - PR","So Jorge do Iva - PR","So Jorge do Patrocnio - PR","So Jos da Boa Vista - PR","So Jos das Palmeiras - PR","So Jos dos Pinhais - PR","So Manoel do Paran - PR","So Mateus do Sul - PR","So Miguel do Iguau - PR","So Pedro do Iguau - PR","So Pedro do Iva - PR","So Pedro do Paran - PR","So Sebastio da Amoreira - PR","So Tom - PR","Sapopema - PR","Sarandi - PR","Sengs - PR","Serranpolis do Iguau - PR","Sertaneja - PR","Sertanpolis - PR","Siqueira Campos - PR","Sulina - PR","Tamarana - PR","Tamboara - PR","Tapejara - PR","Tapira - PR","Teixeira Soares - PR","Telmaco Borba - PR","Terra Boa - PR","Terra Rica - PR","Terra Roxa - PR","Tibagi - PR","Tijucas do Sul - PR","Toledo - PR","Tomazina - PR","Trs Barras do Paran - PR","Tunas do Paran - PR","Tuneiras do Oeste - PR","Tupssi - PR","Turvo - PR","Ubirat - PR","Umuarama - PR","Unio da Vitria - PR","Uniflor - PR","Ura - PR","Ventania - PR","Vera Cruz do Oeste - PR","Ver - PR","Virmond - PR","Vitorino - PR","Wenceslau Braz - PR","Xambr - PR"].filter(z=>z.toLowerCase().includes(d.toLowerCase())),A=z=>{const O=z.target.value;h(O),m(!0),O&&i({...n,cidade:O})},U=z=>{i({...n,cidade:z}),h(z),m(!1),R("cidade",z)},V=()=>{const z=`
LEI GERAL DE PROTEO DE DADOS (LGPD)

O que  a LGPD?
A Lei Geral de Proteo de Dados (Lei n 13.709/2018)  a legislao brasileira que regula o tratamento de dados pessoais por pessoas fsicas e jurdicas, tanto no meio fsico quanto no digital, com o objetivo de proteger os direitos fundamentais de liberdade e privacidade.

Seus Direitos:
 Confirmao e acesso: Saber se tratamos seus dados e acess-los
 Correo: Corrigir dados incompletos, inexatos ou desatualizados
 Anonimizao, bloqueio ou eliminao: Solicitar a anonimizao, bloqueio ou eliminao de dados desnecessrios
 Portabilidade: Solicitar a portabilidade dos dados para outro fornecedor
 Eliminao: Solicitar a eliminao dos dados tratados com consentimento
 Informao: Obter informaes sobre as entidades com as quais compartilhamos dados
 Revogao: Revogar o consentimento a qualquer momento

Como Utilizamos Seus Dados:
Coletamos e tratamos seus dados pessoais exclusivamente para:
 Processamento de candidaturas e seleo de candidatos
 Verificao de documentos e informaes fornecidas
 Comunicao sobre o processo seletivo
 Cumprimento de obrigaes legais

Compartilhamento de Dados:
Seus dados pessoais no sero compartilhados com terceiros, exceto quando necessrio para cumprimento de obrigao legal ou regulatria, ou mediante sua autorizao expressa.

Segurana dos Dados:
Adotamos medidas tcnicas e organizacionais adequadas para proteger seus dados pessoais contra acesso no autorizado, alterao, divulgao ou destruio.

Contato:
Para exercer seus direitos ou esclarecer dvidas sobre o tratamento de seus dados, entre em contato conosco atravs dos canais oficiais.

ltima atualizao: ${new Date().toLocaleDateString("pt-BR")}
    `;alert(z)},R=(z,O)=>{const T={...u};switch(z){case"nome":O.trim()?O.trim().length<2?T.nome="Nome deve ter pelo menos 2 caracteres":delete T.nome:T.nome="Nome  obrigatrio";break;case"idade":const P=parseInt(O);O?isNaN(P)||P<18||P>100?T.idade="Idade deve ser entre 18 e 100 anos":delete T.idade:T.idade="Idade  obrigatria";break;case"telefone":O?mk(O)?delete T.telefone:T.telefone="Formato de telefone invlido":T.telefone="Telefone  obrigatrio";break;case"cpf":O?pk(O)?delete T.cpf:T.cpf="CPF invlido":T.cpf="CPF  obrigatrio";break;case"cidade":O?delete T.cidade:T.cidade="Cidade  obrigatria";break;case"aceiteLGPD":O?delete T.aceiteLGPD:T.aceiteLGPD="Voc deve aceitar os termos LGPD";break;case"pisImg":case"rgFrenteImg":case"rgVersoImg":case"enderecoImg":if(!O)T[z]="Documento  obrigatrio";else{const E=jd(O,5242880,["image/jpeg","image/png","image/jpg"]);E.valid?delete T[z]:T[z]=E.error}break}l(T)},N=z=>{var v;const{name:O,value:T,type:P,checked:E}=z.target;if(O==="cpfImg"||O==="pisImg"||O==="rgFrenteImg"||O==="rgVersoImg"||O==="enderecoImg"){const x=((v=z.target.files)==null?void 0:v[0])||null;if(i({...n,[O]:x}),!x){o(S=>({...S,[O]:null}));return}const _=jd(x,5*1024*1024,["image/jpeg","image/png","image/jpg"]);if(!_.valid)l({...u,[O]:_.error}),o(S=>({...S,[O]:"error"}));else{const S={...u};delete S[O],l(S),o(C=>({...C,[O]:"verified"}))}}else if(P==="checkbox")i({...n,[O]:E}),R(O,E);else{let x=T;O==="telefone"?x=gk(T):O==="cpf"&&(x=yk(T)),i({...n,[O]:x}),R(O,x)}},L=async z=>{if(z.preventDefault(),Object.keys(u).length>0)return;c(!0),await r(n)&&(i({nome:"",idade:"",telefone:"",cpf:"",cidade:"",cpfImg:null,pisImg:null,rgFrenteImg:null,rgVersoImg:null,enderecoImg:null,aceiteLGPD:!1}),o(e()),l({}),h(""),p(!0),cn("Cadastro enviado com sucesso!","success"),setTimeout(()=>{p(!1)},5e3)),c(!1)};return ae.jsxs("div",{className:"form-container-single",children:[ae.jsxs("div",{className:"card",children:[ae.jsx("h1",{children:"Formulrio de Candidato"}),y&&ae.jsx("div",{className:"confirmation-message",children:ae.jsxs("div",{className:"confirmation-content",children:[ae.jsx("div",{className:"confirmation-icon",children:""}),ae.jsx("h2",{children:"Candidatura Confirmada!"}),ae.jsx("p",{children:"Sua candidatura foi enviada com sucesso. Voc receber um retorno em breve."})]})}),ae.jsxs("form",{onSubmit:L,className:"candidate-form",children:[ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"nome",children:"Nome Completo *"}),ae.jsx("input",{id:"nome",name:"nome",type:"text",placeholder:"Digite seu nome completo",value:n.nome,onChange:N,required:!0,"aria-describedby":u.nome?"nome-error":void 0,className:u.nome?"error":""}),u.nome&&ae.jsx("span",{id:"nome-error",className:"error-message",children:u.nome})]}),ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"idade",children:"Idade *"}),ae.jsx("input",{id:"idade",name:"idade",type:"number",placeholder:"Digite sua idade",value:n.idade,onChange:N,min:"16",max:"100",required:!0,"aria-describedby":u.idade?"idade-error":void 0,className:u.idade?"error":""}),u.idade&&ae.jsx("span",{id:"idade-error",className:"error-message",children:u.idade})]}),ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"telefone",children:"Telefone *"}),ae.jsx("input",{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:n.telefone,onChange:N,required:!0,"aria-describedby":u.telefone?"telefone-error":void 0,className:u.telefone?"error":""}),u.telefone&&ae.jsx("span",{id:"telefone-error",className:"error-message",children:u.telefone})]}),ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"cpf",children:"CPF *"}),ae.jsx("input",{id:"cpf",name:"cpf",type:"text",placeholder:"000.000.000-00",value:n.cpf,onChange:N,required:!0,"aria-describedby":u.cpf?"cpf-error":void 0,className:u.cpf?"error":""}),u.cpf&&ae.jsx("span",{id:"cpf-error",className:"error-message",children:u.cpf})]}),ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"cidade",children:"Cidade *"}),ae.jsxs("div",{className:"city-input-container",children:[ae.jsx("input",{id:"cidade",name:"cidade",type:"text",placeholder:"Digite para pesquisar sua cidade...",value:d,onChange:A,onFocus:()=>m(!0),onBlur:()=>setTimeout(()=>m(!1),200),required:!0,"aria-describedby":u.cidade?"cidade-error":void 0,className:u.cidade?"error":"",autoComplete:"off"}),f&&k.length>0&&ae.jsxs("div",{className:"city-dropdown",children:[k.slice(0,10).map((z,O)=>ae.jsx("div",{className:"city-option",onClick:()=>U(z),children:z},O)),k.length>10&&ae.jsxs("div",{className:"city-option-more",children:["... e mais ",k.length-10," cidades"]})]})]}),u.cidade&&ae.jsx("span",{id:"cidade-error",className:"error-message",children:u.cidade}),ae.jsx("small",{className:"city-help",children:"Digite para pesquisar sua cidade"})]}),ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"cpfImg",children:"Foto do CPF *"}),ae.jsxs("div",{className:"file-input-wrapper",children:[ae.jsx("input",{id:"cpfImg",name:"cpfImg",type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:N,required:!0,className:`file-input ${u.cpfImg?"error":""}`,"aria-describedby":u.cpfImg?"cpfImg-error":void 0}),s.cpfImg==="verified"&&!u.cpfImg&&ae.jsxs("span",{className:"file-status verified",role:"status","aria-live":"polite",children:[ae.jsx("span",{className:"file-status-icon","aria-hidden":"true",children:""}),"Verificado"]})]}),u.cpfImg&&ae.jsx("span",{id:"cpfImg-error",className:"error-message",children:u.cpfImg}),ae.jsx("small",{className:"file-help",children:"Formatos aceitos: JPG, PNG. Mximo 5MB."})]}),ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"pisImg",children:"Foto do PIS *"}),ae.jsxs("div",{className:"file-input-wrapper",children:[ae.jsx("input",{id:"pisImg",name:"pisImg",type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:N,required:!0,className:`file-input ${u.pisImg?"error":""}`,"aria-describedby":u.pisImg?"pisImg-error":void 0}),s.pisImg==="verified"&&!u.pisImg&&ae.jsxs("span",{className:"file-status verified",role:"status","aria-live":"polite",children:[ae.jsx("span",{className:"file-status-icon","aria-hidden":"true",children:""}),"Verificado"]})]}),u.pisImg&&ae.jsx("span",{id:"pisImg-error",className:"error-message",children:u.pisImg}),ae.jsx("small",{className:"file-help",children:"Formatos aceitos: JPG, PNG. Mximo 5MB."})]}),ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"rgFrenteImg",children:"Foto do RG (Frente) *"}),ae.jsxs("div",{className:"file-input-wrapper",children:[ae.jsx("input",{id:"rgFrenteImg",name:"rgFrenteImg",type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:N,required:!0,className:`file-input ${u.rgFrenteImg?"error":""}`,"aria-describedby":u.rgFrenteImg?"rgFrenteImg-error":void 0}),s.rgFrenteImg==="verified"&&!u.rgFrenteImg&&ae.jsxs("span",{className:"file-status verified",role:"status","aria-live":"polite",children:[ae.jsx("span",{className:"file-status-icon","aria-hidden":"true",children:""}),"Verificado"]})]}),u.rgFrenteImg&&ae.jsx("span",{id:"rgFrenteImg-error",className:"error-message",children:u.rgFrenteImg}),ae.jsx("small",{className:"file-help",children:"Formatos aceitos: JPG, PNG. Mximo 5MB."})]}),ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"rgVersoImg",children:"Foto do RG (Verso) *"}),ae.jsxs("div",{className:"file-input-wrapper",children:[ae.jsx("input",{id:"rgVersoImg",name:"rgVersoImg",type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:N,required:!0,className:`file-input ${u.rgVersoImg?"error":""}`,"aria-describedby":u.rgVersoImg?"rgVersoImg-error":void 0}),s.rgVersoImg==="verified"&&!u.rgVersoImg&&ae.jsxs("span",{className:"file-status verified",role:"status","aria-live":"polite",children:[ae.jsx("span",{className:"file-status-icon","aria-hidden":"true",children:""}),"Verificado"]})]}),u.rgVersoImg&&ae.jsx("span",{id:"rgVersoImg-error",className:"error-message",children:u.rgVersoImg}),ae.jsx("small",{className:"file-help",children:"Formatos aceitos: JPG, PNG. Mximo 5MB."})]}),ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"enderecoImg",children:"Foto do Comprovante de Endereo *"}),ae.jsxs("div",{className:"file-input-wrapper",children:[ae.jsx("input",{id:"enderecoImg",name:"enderecoImg",type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:N,required:!0,className:`file-input ${u.enderecoImg?"error":""}`,"aria-describedby":u.enderecoImg?"enderecoImg-error":void 0}),s.enderecoImg==="verified"&&!u.enderecoImg&&ae.jsxs("span",{className:"file-status verified",role:"status","aria-live":"polite",children:[ae.jsx("span",{className:"file-status-icon","aria-hidden":"true",children:""}),"Verificado"]})]}),u.enderecoImg&&ae.jsx("span",{id:"enderecoImg-error",className:"error-message",children:u.enderecoImg}),ae.jsx("small",{className:"file-help",children:"Formatos aceitos: JPG, PNG. Mximo 5MB."})]}),ae.jsxs("div",{className:"form-group lgpd-group",children:[ae.jsxs("div",{className:"checkbox-container",children:[ae.jsx("input",{id:"aceiteLGPD",name:"aceiteLGPD",type:"checkbox",checked:n.aceiteLGPD,onChange:N,required:!0,className:u.aceiteLGPD?"error":"","aria-describedby":u.aceiteLGPD?"aceiteLGPD-error":"lgpd-help"}),ae.jsxs("label",{htmlFor:"aceiteLGPD",className:"checkbox-label",children:["Li e aceito os termos da ",ae.jsx("button",{type:"button",onClick:V,className:"lgpd-link",children:"Lei Geral de Proteo de Dados (LGPD)"})," *"]})]}),u.aceiteLGPD&&ae.jsx("span",{id:"aceiteLGPD-error",className:"error-message",children:u.aceiteLGPD}),ae.jsx("div",{id:"lgpd-help",className:"lgpd-help",children:ae.jsxs("small",{children:["Ao marcar esta opo, voc concorda com o tratamento dos seus dados pessoais conforme nossa",ae.jsx("button",{type:"button",onClick:V,className:"lgpd-link",children:" Poltica de Privacidade"}),"."]})})]}),ae.jsx("button",{type:"submit",disabled:a||Object.keys(u).length>0,className:"submit-button",onClick:()=>{g(!0),setTimeout(()=>g(!1),5e3)},"aria-describedby":"submit-help",children:a?"Enviando...":"Enviar Candidatura"}),ae.jsx("div",{id:"submit-help",className:"submit-help",children:Object.keys(u).length>0&&"Corrija os erros acima para continuar"})]})]}),b&&ae.jsx("div",{className:"full-screen-success",role:"status","aria-live":"polite",children:ae.jsxs("div",{className:"full-screen-success-content",children:[ae.jsx("div",{className:"full-screen-success-icon",children:""}),ae.jsx("h2",{children:"CANDIDATURA ENVIADA"})]})})]})}const h_=()=>{const[r,t]=Ee.useState(!1),[e,n]=Ee.useState(!0),i=Yc();return Ee.useEffect(()=>{(()=>{const a=sessionStorage.getItem("admin_authenticated")==="true";t(a),n(!1)})()},[]),{isAuthenticated:r,loading:e,login:async l=>{if(l===Dd.adminPassword)try{const a=crypto.randomUUID();return await Nn(Zr(Wr,"admin","sessions",a),{authenticated:!0,loginTime:qr(),userAgent:navigator.userAgent,ip:"unknown"}),sessionStorage.setItem("admin_authenticated","true"),sessionStorage.setItem("admin_session_id",a),t(!0),await Nn(Zr(Wr,"logs","auth_logs",crypto.randomUUID()),{action:"login",timestamp:qr(),sessionId:a,userAgent:navigator.userAgent}),!0}catch(a){return console.error("Erro ao salvar sesso:",a),sessionStorage.setItem("admin_authenticated","true"),t(!0),!0}return!1},logout:async()=>{try{const l=sessionStorage.getItem("admin_session_id");l&&(await Nn(Zr(Wr,"admin","sessions",l),{authenticated:!1,logoutTime:qr()},{merge:!0}),await Nn(Zr(Wr,"logs","auth_logs",crypto.randomUUID()),{action:"logout",timestamp:qr(),sessionId:l}))}catch(l){console.error("Erro ao salvar logout:",l)}finally{sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_session_id"),t(!1),i("/admin")}},requireAuth:()=>{!r&&!e&&i("/admin")}}};function vk(){const[r,t]=Ee.useState(""),[e,n]=Ee.useState(""),[i,s]=Ee.useState(!1),{login:o}=h_(),u=Yc();async function l(a){a.preventDefault(),n(""),s(!0);try{await o(r)?u("/admin/panel"):n("Senha incorreta.")}catch(c){n("Erro ao fazer login. Tente novamente."),console.error("Erro no login:",c)}finally{s(!1)}}return ae.jsx("div",{className:"login-container",children:ae.jsxs("div",{className:"login-card",children:[ae.jsx("h2",{children:"Acesso Administrativo"}),ae.jsxs("form",{onSubmit:l,className:"login-form",children:[ae.jsxs("div",{className:"form-group",children:[ae.jsx("label",{htmlFor:"password",children:"Senha de Administrador"}),ae.jsx("input",{id:"password",type:"password",value:r,onChange:a=>t(a.target.value),placeholder:"Digite a senha",required:!0,disabled:i,"aria-describedby":e?"password-error":void 0}),e&&ae.jsx("div",{id:"password-error",className:"error-message",children:e})]}),ae.jsx("button",{type:"submit",disabled:i||!r.trim(),className:"login-button",children:i?"Entrando...":"Entrar"})]}),ae.jsx("div",{className:"login-footer",children:ae.jsx("a",{href:"/",className:"back-link",children:" Voltar ao formulrio"})})]})})}const wk=()=>{const[r,t]=Ee.useState(navigator.onLine),[e,n]=Ee.useState(null),[i,s]=Ee.useState("idle");Ee.useEffect(()=>{const l=()=>{t(!0),s("syncing"),o()},a=()=>{t(!1),s("error")};return window.addEventListener("online",l),window.addEventListener("offline",a),navigator.onLine&&o(),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",a)}},[]);const o=async()=>{try{s("syncing"),await Nn(Zr(Wr,"admin","sync_status"),{lastSync:qr(),status:"success",userAgent:navigator.userAgent}),n(new Date),s("success"),setTimeout(()=>{s("idle")},3e3)}catch(l){console.error("Erro na sincronizao:",l),s("error")}};return{isOnline:r,lastSync:e,syncStatus:i,forceSync:async()=>{await o()}}};function _k(){const{isOnline:r,lastSync:t,syncStatus:e,forceSync:n}=wk(),i=()=>r?e==="syncing"?"":e==="success"?"":e==="error"?"":"":"",s=()=>r?e==="syncing"?"Sincronizando...":e==="success"?"Sincronizado":e==="error"?"Erro na sincronizao":"Online":"Offline",o=()=>t?`ltima sincronizao: ${t.toLocaleTimeString()}`:"";return ae.jsxs("div",{className:"sync-status",children:[ae.jsxs("div",{className:"sync-indicator",children:[ae.jsx("span",{className:"sync-icon",children:i()}),ae.jsx("span",{className:"sync-text",children:s()})]}),t&&ae.jsx("div",{className:"sync-details",children:ae.jsx("small",{children:o()})}),!r&&ae.jsx("button",{onClick:n,className:"sync-button",disabled:!r,children:"Tentar Sincronizar"})]})}function xk({isOpen:r,onClose:t,onConfirm:e,title:n,message:i,confirmText:s="Confirmar",cancelText:o="Cancelar",type:u="danger"}){if(!r)return null;const l=c=>{c.target===c.currentTarget&&t()},a=()=>{e(),t()};return ae.jsx("div",{className:"modal-overlay",onClick:l,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:ae.jsxs("div",{className:"modal-content confirm-modal",children:[ae.jsxs("div",{className:"modal-header",children:[ae.jsx("h3",{id:"modal-title",className:`modal-title modal-title-${u}`,children:n}),ae.jsx("button",{className:"close-modal",onClick:t,"aria-label":"Fechar modal",children:""})]}),ae.jsx("div",{className:"modal-body",children:ae.jsx("p",{className:"modal-message",children:i})}),ae.jsxs("div",{className:"modal-footer",children:[ae.jsx("button",{className:"modal-button modal-button-cancel",onClick:t,children:o}),ae.jsx("button",{className:`modal-button modal-button-${u}`,onClick:a,children:s})]})]})})}function bu(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var f_={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,t){(function(e){r.exports=e()})(function(){return function e(n,i,s){function o(a,c){if(!i[a]){if(!n[a]){var d=typeof bu=="function"&&bu;if(!c&&d)return d(a,!0);if(u)return u(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[a]={exports:{}};n[a][0].call(f.exports,function(m){return o(n[a][1][m]||m)},f,f.exports,e,n,i,s)}return i[a].exports}for(var u=typeof bu=="function"&&bu,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(e,n,i){const s=e("fs"),o=e("fast-csv"),u=e("dayjs/plugin/customParseFormat"),l=e("dayjs/plugin/utc"),a=e("dayjs").extend(u).extend(l),c=e("../utils/stream-buf"),{fs:{exists:d}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,m){if(m=m||{},!await d(f))throw new Error("File not found: "+f);const y=s.createReadStream(f),p=await this.read(y,m);return y.close(),p}read(f,m){return m=m||{},new Promise((y,p)=>{const b=this.workbook.addWorksheet(m.sheetName),g=m.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=m.map||function(A){if(A==="")return null;const U=Number(A);if(!Number.isNaN(U)&&U!==1/0)return U;const V=g.reduce((N,L)=>{if(N)return N;const z=a(A,L,!0);return z.isValid()?z:null},null);if(V)return new Date(V.valueOf());const R=h[A];return R!==void 0?R:A},k=o.parse(m.parserOptions).on("data",A=>{b.addRow(A.map(w))}).on("end",()=>{k.emit("worksheet",b)});k.on("worksheet",y).on("error",p),f.pipe(k)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,m){return new Promise((y,p)=>{m=m||{};const b=this.workbook.getWorksheet(m.sheetName||m.sheetId),g=o.format(m.formatterOptions);f.on("finish",()=>{y()}),g.on("error",p),g.pipe(f);const{dateFormat:w,dateUTC:k}=m,A=m.map||(R=>{if(R){if(R.text||R.hyperlink)return R.hyperlink||R.text||"";if(R.formula||R.result)return R.result||"";if(R instanceof Date)return w?k?a.utc(R).format(w):a(R).format(w):k?a.utc(R).format():a(R).format();if(R.error)return R.error;if(typeof R=="object")return JSON.stringify(R)}return R}),U=m.includeEmptyRows===void 0||m.includeEmptyRows;let V=1;b&&b.eachRow((R,N)=>{if(U)for(;V++<N-1;)g.write([]);const{values:L}=R;L.shift(),g.write(L.map(A)),V=N}),g.end()})}writeFile(f,m){const y={encoding:(m=m||{}).encoding||"utf8"},p=s.createWriteStream(f,y);return this.write(p,m)}async writeBuffer(f){const m=new c;return await this.write(m,f),m.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,i){const s=e("../utils/col-cache");class o{constructor(l,a){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,a)if(typeof a=="string"){const d=s.decodeAddress(a);this.nativeCol=d.col+c,this.nativeColOff=0,this.nativeRow=d.row+c,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+c,this.row=a.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof o||l==null?l:new o(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(e,n,i){const s=e("../utils/col-cache"),o=e("../utils/under-dash"),u=e("./enums"),{slideFormula:l}=e("../utils/shared-formula"),a=e("./note");class c{constructor(f,m,y){if(!f||!m)throw new Error("A Cell needs a Row");this._row=f,this._column=m,s.validateAddress(y),this._address=y,this._value=d.create(c.Types.Null,this),this.style=this._mergeStyle(f.style,m.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,m,y){const p=f&&f.numFmt||m&&m.numFmt;p&&(y.numFmt=p);const b=f&&f.font||m&&m.font;b&&(y.font=b);const g=f&&f.alignment||m&&m.alignment;g&&(y.alignment=g);const w=f&&f.border||m&&m.border;w&&(y.border=w);const k=f&&f.fill||m&&m.fill;k&&(y.fill=k);const A=f&&f.protection||m&&m.protection;return A&&(y.protection=A),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(f,m){this._value.release(),this._value=d.create(c.Types.Merge,this,f),m||(this.style=f.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=d.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===c.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==c.Types.Merge?(this._value.release(),this._value=d.create(d.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new a(f)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===c.Types.String&&(this._value=d.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:m}=this.workbook;m.removeAllNames(this.fullAddress),f.forEach(y=>{m.addEx(this.fullAddress,y)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=d.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=a.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}c.Types=u.ValueType;const d={getType:h=>h==null?c.Types.Null:h instanceof String||typeof h=="string"?c.Types.String:typeof h=="number"?c.Types.Number:typeof h=="boolean"?c.Types.Boolean:h instanceof Date?c.Types.Date:h.text&&h.hyperlink?c.Types.Hyperlink:h.formula||h.sharedFormula?c.Types.Formula:h.richText?c.Types.RichText:h.sharedString?c.Types.SharedString:h.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(h){this.model={address:h.address,type:c.Types.Null}}get value(){return null}set value(h){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.Number,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.Date,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(h,f){this.cell=h,this.model={address:h.address,type:c.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(h){const f={},m=y=>{const p=h[y];p&&(f[y]=p)};return m("formula"),m("result"),m("ref"),m("shareType"),m("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(d.getType(h)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?u.FormulaType.Master:this.model.sharedFormula?u.FormulaType.Shared:u.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return c.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?u.ValueType.Null:h instanceof String||typeof h=="string"?u.ValueType.String:typeof h=="number"?u.ValueType.Number:h instanceof Date?u.ValueType.Date:h.text&&h.hyperlink?u.ValueType.Hyperlink:h.formula?u.ValueType.Formula:u.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,f=h.findCell(this.model.sharedFormula);this._translatedFormula=f&&l(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof c?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.SharedString,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.Boolean,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(h,f){this.model={address:h.address,type:c.Types.Error,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,f)=>(h[f.t]=f.f,h),[]),create(h,f,m){const y=this.types[h];if(!y)throw new Error("Could not create Value of type "+h);return new y(f,m)}};n.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,i){const s=e("../utils/under-dash"),o=e("./enums"),u=e("../utils/col-cache");class l{constructor(c,d,h){this._worksheet=c,this._number=d,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return u.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((d,h)=>{this._worksheet.getCell(h+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&s.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,d){const h=this.number;d||(d=c,c=null),this._worksheet.eachRow(c,(f,m)=>{d(f.getCell(h),m)})}get values(){const c=[];return this.eachCell((d,h)=>{d&&d.type!==o.ValueType.Null&&(c[h]=d.value)}),c}set values(c){if(!c)return;const d=this.number;let h=0;c.hasOwnProperty("0")&&(h=1),c.forEach((f,m)=>{this._worksheet.getCell(m+h,d).value=f})}_applyStyle(c,d){return this.style[c]=d,this.eachCell(h=>{h[c]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const d=[];let h=null;return c&&c.forEach((f,m)=>{f.isDefault?h&&(h=null):h&&f.equivalentTo(h)?h.max=m+1:(h={min:m+1,max:m+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},d.push(h))}),d.length?d:void 0}static fromModel(c,d){const h=[];let f=1,m=0;for(d=(d=d||[]).sort(function(y,p){return y.min-p.min});m<d.length;){const y=d[m++];for(;f<y.min;)h.push(new l(c,f++));for(;f<=y.max;)h.push(new l(c,f++,y))}return h.length?h:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,o){return this.model[s]=o}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(e,n,i){const s=e("../utils/under-dash"),o=e("../utils/col-cache"),u=e("../utils/cell-matrix"),l=e("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new u)}add(c,d){const h=o.decodeEx(c);this.addEx(h,d)}addEx(c,d){const h=this.getMatrix(d);if(c.top)for(let f=c.left;f<=c.right;f++)for(let m=c.top;m<=c.bottom;m++){const y={sheetName:c.sheetName,address:o.n2l(f)+m,row:m,col:f};h.addCellEx(y)}else h.addCellEx(c)}remove(c,d){const h=o.decodeEx(c);this.removeEx(h,d)}removeEx(c,d){this.getMatrix(d).removeCellEx(c)}removeAllNames(c){s.each(this.matrixMap,d=>{d.removeCellEx(c)})}forEach(c){s.each(this.matrixMap,(d,h)=>{d.forEach(f=>{c(h,f)})})}getNames(c){return this.getNamesEx(o.decodeEx(c))}getNamesEx(c){return s.map(this.matrixMap,(d,h)=>d.findCellEx(c)&&h).filter(Boolean)}_explore(c,d){d.mark=!1;const{sheetName:h}=d,f=new l(d.row,d.col,d.row,d.col,h);let m,y;function p(g,w){const k=c.findCellAt(h,g,d.col);return!(!k||!k.mark)&&(f[w]=g,k.mark=!1,!0)}for(y=d.row-1;p(y,"top");y--);for(y=d.row+1;p(y,"bottom");y++);function b(g,w){const k=[];for(y=f.top;y<=f.bottom;y++){const A=c.findCellAt(h,y,g);if(!A||!A.mark)return!1;k.push(A)}f[w]=g;for(let A=0;A<k.length;A++)k[A].mark=!1;return!0}for(m=d.col-1;b(m,"left");m--);for(m=d.col+1;b(m,"right");m++);return f}getRanges(c,d){return(d=d||this.matrixMap[c])?(d.forEach(h=>{h.mark=!0}),{name:c,ranges:d.map(h=>h.mark&&this._explore(d,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,d){c.forEachInSheet(d,(h,f,m)=>{h&&(h.row===f&&h.col===m||(h.row=f,h.col=m,h.address=o.n2l(m)+f))})}spliceRows(c,d,h,f){s.each(this.matrixMap,m=>{m.spliceRows(c,d,h,f),this.normaliseMatrix(m,c)})}spliceColumns(c,d,h,f){s.each(this.matrixMap,m=>{m.spliceColumns(c,d,h,f),this.normaliseMatrix(m,c)})}get model(){return s.map(this.matrixMap,(c,d)=>this.getRanges(d,c)).filter(c=>c.ranges.length)}set model(c){const d=this.matrixMap={};c.forEach(h=>{const f=d[h.name]=new u;h.ranges.forEach(m=>{a.test(m.split("!").pop()||"")&&f.addCell(m)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,i){const s=e("../utils/col-cache"),o=e("./anchor");n.exports=class{constructor(u,l){this.worksheet=u,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(u){let{type:l,imageId:a,range:c,hyperlinks:d}=u;if(this.type=l,this.imageId=a,l==="image")if(typeof c=="string"){const h=s.decode(c);this.range={tl:new o(this.worksheet,{col:h.left,row:h.top},-1),br:new o(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,c.tl,0),br:c.br&&new o(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:d||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,i){const s=e("../utils/under-dash");class o{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return s.deepMerge({},o.DEFAULT_CONFIGS,l)}set model(l){const{note:a}=l,{texts:c}=a;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=a}static fromModel(l){const a=new o;return a.model=l,a}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(e,n,i){const s=e("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(l,a,c,d,h){if(arguments.length<4){const f=s.decodeAddress(l),m=s.decodeAddress(a);this.model={top:Math.min(f.row,m.row),left:Math.min(f.col,m.col),bottom:Math.max(f.row,m.row),right:Math.max(f.col,m.col),sheetName:c},this.setTLBR(f.row,f.col,m.row,m.col,h)}else this.model={top:Math.min(l,c),left:Math.min(a,d),bottom:Math.max(l,c),right:Math.max(a,d),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const a=l[0];if(a instanceof o)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{const c=s.decodeEx(a);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,a,c,d){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(l){if(l){const{dimensions:a,number:c}=l;a&&this.expand(c,a.min,c,a.max)}}expandToAddress(l){const a=s.decodeEx(l);this.expand(a.row,a.col,a.row,a.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const a=s.decodeEx(l);return this.containsEx(a)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let a=this.left;a<=this.right;a++)for(let c=this.top;c<=this.bottom;c++)l(s.encodeAddress(c,a),c,a)}}n.exports=o},{"../utils/col-cache":19}],11:[function(e,n,i){const s=e("../utils/under-dash"),o=e("./enums"),u=e("../utils/col-cache"),l=e("./cell");n.exports=class{constructor(a,c){this._worksheet=a,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let c=this._cells[a.col-1];if(!c){const d=this._worksheet.getColumn(a.col);c=new l(this,d,a.address),this._cells[a.col-1]=c}return c}getCell(a){if(typeof a=="string"){const c=this._worksheet.getColumnKey(a);a=c?c.number:u.l2n(a)}return this._cells[a-1]||this.getCellEx({address:u.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,c){const d=a+c;for(var h=arguments.length,f=new Array(h>2?h-2:0),m=2;m<h;m++)f[m-2]=arguments[m];const y=f.length-c,p=this._cells.length;let b,g,w;if(y<0)for(b=a+f.length;b<=p;b++)w=this._cells[b-1],g=this._cells[b-y-1],g?(w=this.getCell(b),w.value=g.value,w.style=g.style,w._comment=g._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(y>0)for(b=p;b>=d;b--)g=this._cells[b-1],g?(w=this.getCell(b+y),w.value=g.value,w.style=g.style,w._comment=g._comment):this._cells[b+y-1]=void 0;for(b=0;b<f.length;b++)w=this.getCell(a+b),w.value=f[b],w.style={},w._comment=void 0}eachCell(a,c){if(c||(c=a,a=null),a&&a.includeEmpty){const d=this._cells.length;for(let h=1;h<=d;h++)c(this.getCell(h),h)}else this._cells.forEach((d,h)=>{d&&d.type!==o.ValueType.Null&&c(d,h+1)})}addPageBreak(a,c){const d=this._worksheet,h=Math.max(0,a-1)||0,f=Math.max(0,c-1)||16838,m={id:this._number,max:f,man:1};h&&(m.min=h),d.rowBreaks.push(m)}get values(){const a=[];return this._cells.forEach(c=>{c&&c.type!==o.ValueType.Null&&(a[c.col]=c.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let c=0;a.hasOwnProperty("0")&&(c=1),a.forEach((d,h)=>{d!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,h+c),row:this._number,col:h+c}).value=d)})}else this._worksheet.eachColumnKey((c,d)=>{a[d]!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=a[d])})}get hasValues(){return s.some(this._cells,a=>a&&a.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,c=0;return this._cells.forEach(d=>{d&&d.type!==o.ValueType.Null&&((!a||a>d.col)&&(a=d.col),c<d.col&&(c=d.col))}),a>0?{min:a,max:c}:null}_applyStyle(a,c){return this.style[a]=c,this._cells.forEach(d=>{d&&(d[a]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const a=[];let c=0,d=0;return this._cells.forEach(h=>{if(h){const f=h.model;f&&((!c||c>h.col)&&(c=h.col),d<h.col&&(d=h.col),a.push(f))}}),this.height||a.length?{cells:a,number:this.number,min:c,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],a.cells.forEach(d=>{switch(d.type){case l.Types.Merge:break;default:{let h;if(d.address)h=u.decodeAddress(d.address);else if(c){const{row:f}=c,m=c.col+1;h={row:f,col:m,address:u.encodeAddress(f,m),$col$row:`$${u.n2l(m)}$${f}`}}c=h,this.getCellEx(h).model=d;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,i){const s=e("../utils/col-cache");class o{constructor(l,a,c){this.table=l,this.column=a,this.index=c}_set(l,a){this.table.cacheState(),this.column[l]=a}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(u,l){this.worksheet=u,l&&(this.table=l,this.validate(),this.store())}getFormula(u){switch(u.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${u.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${u.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${u.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${u.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${u.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${u.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${u.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${u.name}])`;case"custom":return u.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+u.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:u}=this,l=(y,p,b)=>{y[p]===void 0&&(y[p]=b)};l(u,"headerRow",!0),l(u,"totalsRow",!1),l(u,"style",{}),l(u.style,"theme","TableStyleMedium2"),l(u.style,"showFirstColumn",!1),l(u.style,"showLastColumn",!1),l(u.style,"showRowStripes",!1),l(u.style,"showColumnStripes",!1);const a=(y,p)=>{if(!y)throw new Error(p)};a(u.ref,"Table must have ref"),a(u.columns,"Table must have column definitions"),a(u.rows,"Table must have row definitions"),u.tl=s.decodeAddress(u.ref);const{row:c,col:d}=u.tl;a(c>0,"Table must be on valid row"),a(d>0,"Table must be on valid col");const{width:h,filterHeight:f,tableHeight:m}=this;u.autoFilterRef=s.encode(c,d,c+f-1,d+h-1),u.tableRef=s.encode(c,d,c+m-1,d+h-1),u.columns.forEach((y,p)=>{a(y.name,`Column ${p} must have a name`),p===0?l(y,"totalsRowLabel","Total"):(l(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const u=(f,m)=>{m&&Object.keys(m).forEach(y=>{f[y]=m[y]})},{worksheet:l,table:a}=this,{row:c,col:d}=a.tl;let h=0;if(a.headerRow){const f=l.getRow(c+h++);a.columns.forEach((m,y)=>{const{style:p,name:b}=m,g=f.getCell(d+y);g.value=b,u(g,p)})}if(a.rows.forEach(f=>{const m=l.getRow(c+h++);f.forEach((y,p)=>{const b=m.getCell(d+p);b.value=y,u(b,a.columns[p].style)})}),a.totalsRow){const f=l.getRow(c+h++);a.columns.forEach((m,y)=>{const p=f.getCell(d+y);if(y===0)p.value=m.totalsRowLabel;else{const b=this.getFormula(m);p.value=b?{formula:m.totalsRowFormula,result:m.totalsRowResult}:null}u(p,m.style)})}}load(u){const{table:l}=this,{row:a,col:c}=l.tl;let d=0;if(l.headerRow){const h=u.getRow(a+d++);l.columns.forEach((f,m)=>{h.getCell(c+m).value=f.name})}if(l.rows.forEach(h=>{const f=u.getRow(a+d++);h.forEach((m,y)=>{f.getCell(c+y).value=m})}),l.totalsRow){const h=u.getRow(a+d++);l.columns.forEach((f,m)=>{const y=h.getCell(c+m);m===0?y.value=f.totalsRowLabel:this.getFormula(f)&&(y.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(u){this.table=u}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const u=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const a=this.worksheet.getRow(u.row+l);for(let c=0;c<this._cache.width;c++)a.getCell(u.col+c).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const a=this.worksheet.getRow(u.row+l);for(let c=0;c<this._cache.width;c++)a.getCell(u.col+c).value=null}for(let l=0;l<this.tableHeight;l++){const a=this.worksheet.getRow(u.row+l);for(let c=this.width;c<this._cache.width;c++)a.getCell(u.col+c).value=null}}this.store()}addRow(u,l){this.cacheState(),l===void 0?this.table.rows.push(u):this.table.rows.splice(l,0,u)}removeRows(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(u,l)}getColumn(u){const l=this.table.columns[u];return new o(this,l,u)}addColumn(u,l,a){this.cacheState(),a===void 0?(this.table.columns.push(u),this.table.rows.forEach((c,d)=>{c.push(l[d])})):(this.table.columns.splice(a,0,u),this.table.rows.forEach((c,d)=>{c.splice(a,0,l[d])}))}removeColumns(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(u,l),this.table.rows.forEach(a=>{a.splice(u,l)})}_assign(u,l,a){this.cacheState(),u[l]=a}get ref(){return this.table.ref}set ref(u){this._assign(this.table,"ref",u)}get name(){return this.table.name}set name(u){this.table.name=u}get displayName(){return this.table.displyName||this.table.name}set displayNamename(u){this.table.displayName=u}get headerRow(){return this.table.headerRow}set headerRow(u){this._assign(this.table,"headerRow",u)}get totalsRow(){return this.table.totalsRow}set totalsRow(u){this._assign(this.table,"totalsRow",u)}get theme(){return this.table.style.name}set theme(u){this.table.style.name=u}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(u){this.table.style.showFirstColumn=u}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(u){this.table.style.showLastColumn=u}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(u){this.table.style.showRowStripes=u}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(u){this.table.style.showColumnStripes=u}}},{"../utils/col-cache":19}],13:[function(e,n,i){const s=e("./worksheet"),o=e("./defined-names"),u=e("../xlsx/xlsx"),l=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new u(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,c){const d=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const h=this._worksheets.reduce((y,p)=>(p&&p.orderNo)>y?p.orderNo:y,0),f=Object.assign({},c,{id:d,name:a,orderNo:h+1,workbook:this}),m=new s(f);return this._worksheets[d]=m,m}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){const c=this.getWorksheet(a);c&&c.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(c=>c&&c.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,c)=>a.orderNo-c.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(c=>{a(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){const c=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),c}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(c=>{const{id:d,name:h,state:f}=c,m=a.sheets&&a.sheets.findIndex(y=>y.id===d);(this._worksheets[d]=new s({id:d,name:h,orderNo:m,state:f,workbook:this})).model=c}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,i){const s=e("../utils/under-dash"),o=e("../utils/col-cache"),u=e("./range"),l=e("./row"),a=e("./column"),c=e("./enums"),d=e("./image"),h=e("./table"),f=e("./data-validations"),m=e("../utils/encryptor"),{copyStyle:y}=e("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new f,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(b=>b&&b.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new u;return this._rows.forEach(b=>{if(b){const g=b.dimensions;g&&p.expand(b.number,g.min,b.number,g.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((w,k)=>{const A=(k.header?1:k.headers&&k.headers.length)||0;return Math.max(w,A)},0);let b=1;const g=this._columns=[];p.forEach(w=>{const k=new a(this,b++,!1);g.push(k),k.defn=w})}getColumnKey(p){return this._keys[p]}setColumnKey(p,b){this._keys[p]=b}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){s.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const b=this._keys[p];if(b)return b;p=o.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let b=this._columns.length+1;for(;b<=p;)this._columns.push(new a(this,b++))}return this._columns[p-1]}spliceColumns(p,b){const g=this._rows.length;for(var w=arguments.length,k=new Array(w>2?w-2:0),A=2;A<w;A++)k[A-2]=arguments[A];if(k.length>0)for(let N=0;N<g;N++){const L=[p,b];k.forEach(O=>{L.push(O[N]||null)});const z=this.getRow(N+1);z.splice.apply(z,L)}else this._rows.forEach(N=>{N&&N.splice(p,b)});const U=k.length-b,V=p+b,R=this._columns.length;if(U<0)for(let N=p+k.length;N<=R;N++)this.getColumn(N).defn=this.getColumn(N-U).defn;else if(U>0)for(let N=R;N>=V;N--)this.getColumn(N+U).defn=this.getColumn(N).defn;for(let N=p;N<p+k.length;N++)this.getColumn(N).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,b,k.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(b=>{p=Math.max(p,b.cellCount)}),p}get actualColumnCount(){const p=[];let b=0;return this.eachRow(g=>{g.eachCell(w=>{let{col:k}=w;p[k]||(p[k]=!0,b++)})}),b}_commitRow(){}get _lastRowNumber(){const p=this._rows;let b=p.length;for(;b>0&&p[b-1]===void 0;)b--;return b}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,b){return this._rows.slice(p-1,p-1+b)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let b=this._rows[p-1];return b||(b=this._rows[p-1]=new l(this,p)),b}getRows(p,b){if(b<1)return;const g=[];for(let w=p;w<p+b;w++)g.push(this.getRow(w));return g}addRow(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const g=this._nextRow,w=this.getRow(g);return w.values=p,this._setStyleOption(g,b[0]==="i"?b:"n"),w}addRows(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const g=[];return p.forEach(w=>{g.push(this.addRow(w,b))}),g}insertRow(p,b){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,b),this._setStyleOption(p,g),this.getRow(p)}insertRows(p,b){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...b),g!=="n")for(let w=0;w<b.length;w++)g[0]==="o"&&this.findRow(b.length+p+w)!==void 0?this._copyStyle(b.length+p+w,p+w,g[1]==="+"):g[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+w,g[1]==="+");return this.getRows(p,b.length)}_setStyleOption(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";b[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,b[1]==="+"):b[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,b[1]==="+")}_copyStyle(p,b){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(p),k=this.getRow(b);k.style=y(w.style),w.eachCell({includeEmpty:g},(A,U)=>{k.getCell(U).style=y(A.style)}),k.height=w.height}duplicateRow(p,b){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[p-1],k=new Array(b).fill(w.values);this.spliceRows(p+1,g?0:b,...k);for(let A=0;A<b;A++){const U=this._rows[p+A];U.style=w.style,U.height=w.height,w.eachCell({includeEmpty:!0},(V,R)=>{U.getCell(R).style=V.style})}}spliceRows(p,b){const g=p+b;for(var w=arguments.length,k=new Array(w>2?w-2:0),A=2;A<w;A++)k[A-2]=arguments[A];const U=k.length,V=U-b,R=this._rows.length;let N,L;if(V<0)for(p===R&&(this._rows[R-1]=void 0),N=g;N<=R;N++)if(L=this._rows[N-1],L){const z=this.getRow(N+V);z.values=L.values,z.style=L.style,z.height=L.height,L.eachCell({includeEmpty:!0},(O,T)=>{z.getCell(T).style=O.style}),this._rows[N-1]=void 0}else this._rows[N+V-1]=void 0;else if(V>0)for(N=R;N>=g;N--)if(L=this._rows[N-1],L){const z=this.getRow(N+V);z.values=L.values,z.style=L.style,z.height=L.height,L.eachCell({includeEmpty:!0},(O,T)=>{if(z.getCell(T).style=O.style,O._value.constructor.name==="MergeValue"){const P=this.getRow(O._row._number+U).getCell(T),E=O._value._master,v=this.getRow(E._row._number+U).getCell(E._column._number);P.merge(v)}})}else this._rows[N+V-1]=void 0;for(N=0;N<U;N++){const z=this.getRow(p+N);z.style={},z.values=k[N]}this.workbook.definedNames.spliceRows(this.name,p,b,U)}eachRow(p,b){if(b||(b=p,p=void 0),p&&p.includeEmpty){const g=this._rows.length;for(let w=1;w<=g;w++)b(this.getRow(w),w)}else this._rows.forEach(g=>{g&&g.hasValues&&b(g,g.number)})}getSheetValues(){const p=[];return this._rows.forEach(b=>{b&&(p[b.number]=b.values)}),p}findCell(p,b){const g=o.getAddress(p,b),w=this._rows[g.row-1];return w?w.findCell(g.col):void 0}getCell(p,b){const g=o.getAddress(p,b);return this.getRow(g.row).getCellEx(g)}mergeCells(){for(var p=arguments.length,b=new Array(p),g=0;g<p;g++)b[g]=arguments[g];const w=new u(b);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var p=arguments.length,b=new Array(p),g=0;g<p;g++)b[g]=arguments[g];const w=new u(b);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(p,b){s.each(this._merges,w=>{if(w.intersects(p))throw new Error("Cannot merge already merged cells")});const g=this.getCell(p.top,p.left);for(let w=p.top;w<=p.bottom;w++)for(let k=p.left;k<=p.right;k++)(w>p.top||k>p.left)&&this.getCell(w,k).merge(g,b);this._merges[g.address]=p}_unMergeMaster(p){const b=this._merges[p.address];if(b){for(let g=b.top;g<=b.bottom;g++)for(let w=b.left;w<=b.right;w++)this.getCell(g,w).unmerge();delete this._merges[p.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,b=new Array(p),g=0;g<p;g++)b[g]=arguments[g];const w=new u(b);for(let k=w.top;k<=w.bottom;k++)for(let A=w.left;A<=w.right;A++){const U=this.findCell(k,A);U&&(U.type===c.ValueType.Merge?this._unMergeMaster(U.master):this._merges[U.address]&&this._unMergeMaster(U))}}fillFormula(p,b,g){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const k=o.decode(p),{top:A,left:U,bottom:V,right:R}=k,N=R-U+1,L=o.encodeAddress(A,U),z=w==="shared";let O;O=typeof g=="function"?g:Array.isArray(g)?Array.isArray(g[0])?(P,E)=>g[P-A][E-U]:(P,E)=>g[(P-A)*N+(E-U)]:()=>{};let T=!0;for(let P=A;P<=V;P++)for(let E=U;E<=R;E++)T?(this.getCell(P,E).value={shareType:w,formula:b,ref:p,result:O(P,E)},T=!1):this.getCell(P,E).value=z?{sharedFormula:L,result:O(P,E)}:O(P,E)}addImage(p,b){const g={type:"image",imageId:p,range:b};this._media.push(new d(this,g))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const b={type:"background",imageId:p};this._media.push(new d(this,b))}getBackgroundImageId(){const p=this._media.find(b=>b.type==="background");return p&&p.imageId}protect(p,b){return new Promise(g=>{this.sheetProtection={sheet:!0},b&&"spinCount"in b&&(b.spinCount=Number.isFinite(b.spinCount)?Math.round(Math.max(0,b.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=m.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=b&&"spinCount"in b?b.spinCount:1e5,this.sheetProtection.hashValue=m.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),b&&(this.sheetProtection=Object.assign(this.sheetProtection,b),!p&&"spinCount"in b&&delete this.sheetProtection.spinCount),g()})}unprotect(){this.sheetProtection=null}addTable(p){const b=new h(this,p);return this.tables[p.name]=b,b}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};p.cols=a.toModel(this.columns);const b=p.rows=[],g=p.dimensions=new u;return this._rows.forEach(w=>{const k=w&&w.model;k&&(g.expand(k.number,k.min,k.number,k.max),b.push(k))}),p.merges=[],s.each(this._merges,w=>{p.merges.push(w.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(b=>{const g=new l(this,b.number);this._rows[g.number-1]=g,g.model=b})}_parseMergeCells(p){s.each(p.mergeCells,b=>{this.mergeCellsWithoutStyle(b)})}set model(p){this.name=p.name,this._columns=a.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new f(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(b=>new d(this,b)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((b,g)=>{const w=new h;return w.model=g,b[g.name]=w,b},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,i){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const s={Workbook:e("./doc/workbook")},o=e("./doc/enums");Object.keys(o).forEach(u=>{s[u]=o[u]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(o){return typeof o=="string"?o:s?s.decode(o):o.toString()}},{}],17:[function(e,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=e("buffer");i.stringToBuffer=function(u){return typeof u!="string"?u:s?o.from(s.encode(u).buffer):o.from(u)}},{buffer:220}],18:[function(e,n,i){const s=e("./under-dash"),o=e("./col-cache");n.exports=class{constructor(u){this.template=u,this.sheets={}}addCell(u){this.addCellEx(o.decodeEx(u))}getCell(u){return this.findCellEx(o.decodeEx(u),!0)}findCell(u){return this.findCellEx(o.decodeEx(u),!1)}findCellAt(u,l,a){const c=this.sheets[u],d=c&&c[l];return d&&d[a]}addCellEx(u){if(u.top)for(let l=u.top;l<=u.bottom;l++)for(let a=u.left;a<=u.right;a++)this.getCellAt(u.sheetName,l,a);else this.findCellEx(u,!0)}getCellEx(u){return this.findCellEx(u,!0)}findCellEx(u,l){const a=this.findSheet(u,l),c=this.findSheetRow(a,u,l);return this.findRowCell(c,u,l)}getCellAt(u,l,a){const c=this.sheets[u]||(this.sheets[u]=[]),d=c[l]||(c[l]=[]);return d[a]||(d[a]={sheetName:u,address:o.n2l(a)+l,row:l,col:a})}removeCellEx(u){const l=this.findSheet(u);if(!l)return;const a=this.findSheetRow(l,u);a&&delete a[u.col]}forEachInSheet(u,l){const a=this.sheets[u];a&&a.forEach((c,d)=>{c&&c.forEach((h,f)=>{h&&l(h,d,f)})})}forEach(u){s.each(this.sheets,(l,a)=>{this.forEachInSheet(a,u)})}map(u){const l=[];return this.forEach(a=>{l.push(u(a))}),l}findSheet(u,l){const a=u.sheetName;return this.sheets[a]?this.sheets[a]:l?this.sheets[a]=[]:void 0}findSheetRow(u,l,a){const{row:c}=l;return u&&u[c]?u[c]:a?u[c]=[]:void 0}findRowCell(u,l,a){const{col:c}=l;return u&&u[c]?u[c]:a?u[c]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(u,l,a,c){const d=this.sheets[u];if(d){const h=[];for(let f=0;f<c;f++)h.push([]);d.splice(l,a,...h)}}spliceColumns(u,l,a,c){const d=this.sheets[u];if(d){const h=[];for(let f=0;f<c;f++)h.push(null);s.each(d,f=>{f.splice(l,a,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,i){const s=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:u=>u<=26?1:u<=676?2:3,_fill(u){let l,a,c,d,h,f=1;if(u>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&u>=1){for(;f<=26;)l=this._dictionary[f-1],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&u>=2){for(f=27;f<=702;)a=f-27,c=a%26,d=Math.floor(a/26),l=this._dictionary[d]+this._dictionary[c],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&u>=3){for(f=703;f<=16384;)a=f-703,c=a%26,d=Math.floor(a/26)%26,h=Math.floor(a/676),l=this._dictionary[h]+this._dictionary[d]+this._dictionary[c],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=3}},l2n(u){if(this._l2n[u]||this._fill(u.length),!this._l2n[u])throw new Error("Out of bounds. Invalid column letter: "+u);return this._l2n[u]},n2l(u){if(u<1||u>16384)throw new Error(u+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[u]||this._fill(this._level(u)),this._n2l[u]},_hash:{},validateAddress(u){if(!s.test(u))throw new Error("Invalid Address: "+u);return!0},decodeAddress(u){const l=u.length<5&&this._hash[u];if(l)return l;let a=!1,c="",d=0,h=!1,f="",m=0;for(let p,b=0;b<u.length;b++)if(p=u.charCodeAt(b),!h&&p>=65&&p<=90)a=!0,c+=u[b],d=26*d+p-64;else if(p>=48&&p<=57)h=!0,f+=u[b],m=10*m+p-48;else if(h&&a&&p!==36)break;if(a){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else d=void 0;h||(m=void 0);const y={address:u=c+f,col:d,row:m,$col$row:`$${c}$${f}`};return d<=100&&m<=100&&(this._hash[u]=y,this._hash[y.$col$row]=y),y},getAddress(u,l){if(l){const a=this.n2l(l)+u;return this.decodeAddress(a)}return this.decodeAddress(u)},decode(u){const l=u.split(":");if(l.length===2){const a=this.decodeAddress(l[0]),c=this.decodeAddress(l[1]),d={top:Math.min(a.row,c.row),left:Math.min(a.col,c.col),bottom:Math.max(a.row,c.row),right:Math.max(a.col,c.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(u)},decodeEx(u){const l=u.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=l[1]||l[2],c=l[3],d=c.split(":");if(d.length>1){let f=this.decodeAddress(d[0]),m=this.decodeAddress(d[1]);const y=Math.min(f.row,m.row),p=Math.min(f.col,m.col),b=Math.max(f.row,m.row),g=Math.max(f.col,m.col);return f=this.n2l(p)+y,m=this.n2l(g)+b,{top:y,left:p,bottom:b,right:g,sheetName:a,tl:{address:f,col:p,row:y,$col$row:`$${this.n2l(p)}$${y}`,sheetName:a},br:{address:m,col:g,row:b,$col$row:`$${this.n2l(g)}$${b}`,sheetName:a},dimensions:`${f}:${m}`}}if(c.startsWith("#"))return a?{sheetName:a,error:c}:{error:c};const h=this.decodeAddress(c);return a?{sheetName:a,...h}:h},encodeAddress:(u,l)=>o.n2l(l)+u,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(u,l){const[a,c,,d,h]=u,[f,m]=l;return f>=a&&f<=d&&m>=c&&m<=h}};n.exports=o},{}],20:[function(e,n,i){const s=(u,l)=>({...u,...l.reduce((a,c)=>(u[c]&&(a[c]={...u[c]}),a),{})}),o=function(u,l,a){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];u[a]&&(l[a]=s(u[a],c))};i.copyStyle=u=>{if(!u)return u;if(l=u,Object.keys(l).length===0)return{};var l;const a={...u};return o(u,a,"font",["color"]),o(u,a,"alignment"),o(u,a,"protection"),u.border&&(o(u,a,"border"),o(u.border,a.border,"top",["color"]),o(u.border,a.border,"left",["color"]),o(u.border,a.border,"bottom",["color"]),o(u.border,a.border,"right",["color"]),o(u.border,a.border,"diagonal",["color"])),u.fill&&(o(u,a,"fill",["fgColor","bgColor","center"]),u.fill.stops&&(a.fill.stops=u.fill.stops.map(c=>s(c,["color"])))),a}},{}],21:[function(e,n,i){(function(s){(function(){const o=e("crypto"),u={hash(l){const a=o.createHash(l);for(var c=arguments.length,d=new Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return a.update(s.concat(d)),a.digest()},convertPasswordToHash(l,a,c,d){if(a=a.toLowerCase(),o.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);const h=s.from(l,"utf16le");let f=this.hash(a,s.from(c,"base64"),h);for(let m=0;m<d;m++){const y=s.alloc(4);y.writeUInt32LE(m,0),f=this.hash(a,f,y)}return f.toString("base64")},randomBytes:l=>o.randomBytes(l)};n.exports=u}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,i){const{SaxesParser:s}=e("saxes"),{PassThrough:o}=e("readable-stream"),{bufferToString:u}=e("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new o));const a=new s;let c;a.on("error",h=>{c=h});let d=[];a.on("opentag",h=>d.push({eventType:"opentag",value:h})),a.on("text",h=>d.push({eventType:"text",value:h})),a.on("closetag",h=>d.push({eventType:"closetag",value:h}));for await(const h of l){if(a.write(u(h)),c)throw c;yield d,d=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,i){const s=e("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,u=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,a,c){const d=s.decode(a),h=s.decode(c);return l.replace(o,(f,m,y,p,b)=>{if(b)return f;const g=u.exec(p);if(g){const w=g[1],k=g[2].toUpperCase(),A=g[3],U=g[4];if(k.length>3||k.length===3&&k>"XFD")return f;let V=s.l2n(k),R=parseInt(U,10);return w||(V+=h.col-d.col),A||(R+=h.row-d.row),(m||"")+(w||"")+s.n2l(V)+(A||"")+R}return f})}}},{"./col-cache":19}],24:[function(e,n,i){(function(s,o){(function(){const u=e("readable-stream"),l=e("./utils"),a=e("./string-buf");class c{constructor(p,b){this._data=p,this._encoding=b}get length(){return this.toBuffer().length}copy(p,b,g,w){return this.toBuffer().copy(p,b,g,w)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,g,w){return this._data._buf.copy(p,b,g,w)}toBuffer(){return this._data.toBuffer()}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,g,w){this._data.copy(p,b,g,w)}toBuffer(){return this._data}}class f{constructor(p){this.size=p,this.buffer=o.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let b;return p===0?null:p===void 0||p>=this.length?(b=this.toBuffer(),this.iRead=this.iWrite,b):(b=o.alloc(p),this.buffer.copy(b,0,this.iRead,p),this.iRead+=p,b)}write(p,b,g){const w=Math.min(g,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,b,b+w),this.iWrite+=w,w}}const m=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(m,u.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const y=new f(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map(function(p){return new Promise(b=>{p.write(y.toBuffer(),()=>{b()})})}))},_writeToBuffers(y){let p=0;const b=y.length;for(;p<b;)p+=this._getWritableBuffer().write(y,p,b-p)},async write(y,p,b){let g;if(p instanceof Function&&(b=p,p="utf8"),b=b||l.nop,y instanceof a)g=new d(y);else if(y instanceof o)g=new h(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");g=new c(y,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(g);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(g),s.nextTick(b)):(await this._pipe(g),b());else this.paused||this.emit("data",g.toBuffer()),this._writeToBuffers(g),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,p,b){const g=w=>{w?b(w):(this._flush(),this.pipes.forEach(k=>{k.end()}),this.emit("finish"))};y?this.write(y,p,g):g()},read(y){let p;if(y){for(p=[];y&&this.buffers.length&&!this.buffers[0].eod;){const b=this.buffers[0],g=b.read(y);y-=g.length,p.push(g),b.eod&&b.full&&this.buffers.shift()}return o.concat(p)}return p=this.buffers.map(b=>b.toBuffer()).filter(Boolean),this.buffers=[],o.concat(p)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(p=>p!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=m}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,i){(function(s){(function(){n.exports=class{constructor(o){this._buf=s.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let u=2*this._buf.length;for(;u<o;)u*=2;const l=s.alloc(u);this._buf.copy(l,0),this._buf=l}addText(o){this._buffer=void 0;let u=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;u>=this._buf.length-4;)this._grow(this._inPos+o.length),u=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=u}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,i){const{toString:s}=Object.prototype,o=/["&<>]/,u={each:function(l,a){l&&(Array.isArray(l)?l.forEach(a):Object.keys(l).forEach(c=>{a(l[c],c)}))},some:function(l,a){return!!l&&(Array.isArray(l)?l.some(a):Object.keys(l).some(c=>a(l[c],c)))},every:function(l,a){return!l||(Array.isArray(l)?l.every(a):Object.keys(l).every(c=>a(l[c],c)))},map:function(l,a){return l?Array.isArray(l)?l.map(a):Object.keys(l).map(c=>a(l[c],c)):[]},keyBy:(l,a)=>l.reduce((c,d)=>(c[d[a]]=d,c),{}),isEqual:function(l,a){const c=typeof l,d=typeof a,h=Array.isArray(l),f=Array.isArray(a);let m;if(c!==d)return!1;switch(typeof l){case"object":if(h||f)return!(!h||!f)&&l.length===a.length&&l.every((y,p)=>{const b=a[p];return u.isEqual(y,b)});if(l===null||a===null)return l===a;if(m=Object.keys(l),Object.keys(a).length!==m.length)return!1;for(const y of m)if(!a.hasOwnProperty(y))return!1;return u.every(l,(y,p)=>{const b=a[p];return u.isEqual(y,b)});default:return l===a}},escapeHtml(l){const a=o.exec(l);if(!a)return l;let c="",d="",h=0,f=a.index;for(;f<l.length;f++){switch(l.charAt(f)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}h!==f&&(c+=l.substring(h,f)),h=f+1,c+=d}return h!==f?c+l.substring(h,f):c},strcmp:(l,a)=>l<a?-1:l>a?1:0,isUndefined:l=>s.call(l)==="[object Undefined]",isObject:l=>s.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:a}=arguments;let c,d,h;function f(m,y){c=l[y],h=Array.isArray(m),u.isObject(m)||h?(h?(h=!1,d=c&&Array.isArray(c)?c:[]):d=c&&u.isObject(c)?c:{},l[y]=u.deepMerge(d,m)):u.isUndefined(m)||(l[y]=m)}for(let m=0;m<a;m++)u.each(arguments[m],f);return l}};n.exports=u},{}],27:[function(e,n,i){(function(s,o){(function(){const u=e("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:c=>new Promise(d=>{s.setImmediate?o(()=>{d(c)}):setTimeout(()=>{d(c)},1)}),inherits:function(c,d,h,f){c.super_=d,f||(f=h,h=null),h&&Object.keys(h).forEach(y=>{Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(h,y))});const m={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(y=>{m[y]=Object.getOwnPropertyDescriptor(f,y)}),c.prototype=Object.create(d.prototype,m)},dateToExcel:(c,d)=>25569+c.getTime()/864e5-(d?1462:0),excelToDate(c,d){const h=Math.round(24*(c-25569+(d?1462:0))*3600*1e3);return new Date(h)},parsePath(c){const d=c.lastIndexOf("/");return{path:c.substring(0,d),name:c.substring(d+1)}},getRelsPath(c){const d=a.parsePath(c);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(c){const d=l.exec(c);if(!d)return c;let h="",f="",m=0,y=d.index;for(;y<c.length;y++){const p=c.charCodeAt(y);switch(p){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){f="";break}continue}m!==y&&(h+=c.substring(m,y)),m=y+1,f&&(h+=f)}return m!==y?h+c.substring(m,y):h},xmlDecode:c=>c.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(c){const d=parseInt(c,10);return Number.isNaN(d)?0:d},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(d=>{u.access(c,u.constants.F_OK,h=>{d(!h)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};n.exports=a}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,i){const s=e("./under-dash"),o=e("./utils");function u(c,d,h){c.push(` ${d}="${o.xmlEncode(h.toString())}"`)}function l(c,d){if(d){const h=[];s.each(d,(f,m)=>{f!==void 0&&u(h,m,f)}),c.push(h.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){const h=this._xml;h.push("<?xml"),l(h,d),h.push(`?>
`)}openNode(d,h){const f=this.tos,m=this._xml;f&&this.open&&m.push(">"),this._stack.push(d),m.push("<"),m.push(d),l(m,h),this.leaf=!0,this.open=!0}addAttribute(d,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&u(this._xml,d,h)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,d)}writeText(d){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(o.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){const d=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(d),h.push(">")),this.open=!1,this.leaf=!1}leafNode(d,h,f){this.openNode(d,h),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=a},{"./under-dash":26,"./utils":27}],29:[function(e,n,i){(function(s){(function(){const o=e("events"),u=e("jszip"),l=e("./stream-buf"),{stringToBuffer:a}=e("./browser-buffer-encode");class c extends o.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new u,this.stream=new l}append(h,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,h,{base64:!0}):(s.browser&&typeof h=="string"&&(h=a(h)),this.zip.file(f.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,f){return this.stream.pipe(h,f)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:c}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,i){const s=e("../../utils/parse-sax"),o=e("../../utils/xml-stream");class u{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof u?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(const c of a)for(const{eventType:d,value:h}of c)if(d==="opentag")this.parseOpen(h);else if(d==="text")this.parseText(h);else if(d==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(a){return this.parse(s(a))}get xml(){return this.toXml(this.model)}toXml(a){const c=new o;return this.render(c,a),c.xml}static toAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(d)return c}else if(d||a!==c)return a.toString()}static toStringAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(a,c,d)}static toStringValue(a,c){return a===void 0?c:a}static toBoolAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(d)return c}else if(d||a!==c)return a?"1":"0"}static toBoolValue(a,c){return a===void 0?c:a==="1"}static toIntAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(a,c,d)}static toIntValue(a,c){return a===void 0?c:parseInt(a,10)}static toFloatAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(a,c,d)}static toFloatValue(a,c){return a===void 0?c:parseFloat(a)}}n.exports=u},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,i){const s=e("../base-xform"),o=e("../../../utils/col-cache");function u(a){try{return o.decodeEx(a),!0}catch{return!1}}function l(a){const c=[];let d=!1,h="";return a.split(",").forEach(f=>{if(!f)return;const m=(f.match(/'/g)||[]).length;if(!m)return void(d?h+=f+",":u(f)&&c.push(f));const y=m%2==0;!d&&y&&u(f)?c.push(f):d&&!y?(d=!1,u(h+f)&&c.push(h+f),h=""):(d=!0,h+=f+",")}),c}n.exports=class extends s{render(a,c){a.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),a.writeText(c.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,i){const s=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{render(u,l){u.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(u){return u.name==="sheet"&&(this.model={name:s.xmlDecode(u.attributes.name),id:parseInt(u.attributes.sheetId,10),state:u.attributes.state,rId:u.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,u){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:u.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,u){o.leafNode("workbookPr",{date1904:u.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,u){const l={xWindow:u.x||0,yWindow:u.y||0,windowWidth:u.width||12e3,windowHeight:u.height||24e3,firstSheet:u.firstSheet,activeTab:u.activeTab};u.visibility&&u.visibility!=="visible"&&(l.visibility=u.visibility),o.leafNode("workbookView",l)}parseOpen(o){if(o.name==="workbookView"){const u=this.model={},l=function(c,d,h){const f=d!==void 0?u[c]=d:h;f!==void 0&&(u[c]=f)},a=function(c,d,h){const f=d!==void 0?u[c]=parseInt(d,10):h;f!==void 0&&(u[c]=f)};return a("x",o.attributes.xWindow,0),a("y",o.attributes.yWindow,0),a("width",o.attributes.windowWidth,25e3),a("height",o.attributes.windowHeight,1e4),l("visibility",o.attributes.visibility,"visible"),a("activeTab",o.attributes.activeTab,void 0),a("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),l=e("../base-xform"),a=e("../static-xform"),c=e("../list-xform"),d=e("./defined-name-xform"),h=e("./sheet-xform"),f=e("./workbook-view-xform"),m=e("./workbook-properties-xform"),y=e("./workbook-calc-properties-xform");class p extends l{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new m,bookViews:new c({tag:"bookViews",count:!1,childXform:new f}),sheets:new c({tag:"sheets",count:!1,childXform:new h}),definedNames:new c({tag:"definedNames",count:!1,childXform:new d}),calcPr:new y}}prepare(g){g.sheets=g.worksheets;const w=[];let k=0;g.sheets.forEach(A=>{if(A.pageSetup&&A.pageSetup.printArea&&A.pageSetup.printArea.split("&&").forEach(U=>{const V=U.split(":"),R={name:"_xlnm.Print_Area",ranges:[`'${A.name}'!$${V[0]}:$${V[1]}`],localSheetId:k};w.push(R)}),A.pageSetup&&(A.pageSetup.printTitlesRow||A.pageSetup.printTitlesColumn)){const U=[];if(A.pageSetup.printTitlesColumn){const R=A.pageSetup.printTitlesColumn.split(":");U.push(`'${A.name}'!$${R[0]}:$${R[1]}`)}if(A.pageSetup.printTitlesRow){const R=A.pageSetup.printTitlesRow.split(":");U.push(`'${A.name}'!$${R[0]}:$${R[1]}`)}const V={name:"_xlnm.Print_Titles",ranges:U,localSheetId:k};w.push(V)}k++}),w.length&&(g.definedNames=g.definedNames.concat(w)),(g.media||[]).forEach((A,U)=>{A.name=A.type+(U+1)})}render(g,w){g.openXml(u.StdDocAttributes),g.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(g),this.map.workbookPr.render(g,w.properties),this.map.bookViews.render(g,w.views),this.map.sheets.render(g,w.sheets),this.map.definedNames.render(g,w.definedNames),this.map.calcPr.render(g,w.calcProperties),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"workbook":return!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(g){const w=(g.workbookRels||[]).reduce((R,N)=>(R[N.Id]=N,R),{}),k=[];let A,U=0;(g.sheets||[]).forEach(R=>{const N=w[R.rId];N&&(A=g.worksheetHash["xl/"+N.Target.replace(/^(\s|\/xl\/)+/,"")],A&&(A.name=R.name,A.id=R.id,A.state=R.state,k[U++]=A))});const V=[];s.each(g.definedNames,R=>{if(R.name==="_xlnm.Print_Area"){if(A=k[R.localSheetId],A){A.pageSetup||(A.pageSetup={});const N=o.decodeEx(R.ranges[0]);A.pageSetup.printArea=A.pageSetup.printArea?`${A.pageSetup.printArea}&&${N.dimensions}`:N.dimensions}}else if(R.name==="_xlnm.Print_Titles"){if(A=k[R.localSheetId],A){A.pageSetup||(A.pageSetup={});const N=R.ranges.join(","),L=/\$/g,z=/\$\d+:\$\d+/,O=N.match(z);if(O&&O.length){const E=O[0];A.pageSetup.printTitlesRow=E.replace(L,"")}const T=/\$[A-Z]+:\$[A-Z]+/,P=N.match(T);if(P&&P.length){const E=P[0];A.pageSetup.printTitlesColumn=E.replace(L,"")}}}else V.push(R)}),g.definedNames=V,g.media.forEach((R,N)=>{R.index=N})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,i){const s=e("../strings/rich-text-xform"),o=e("../../../utils/utils"),u=e("../base-xform"),l=n.exports=function(a){this.model=a};o.inherits(l,u,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(a,c){c=c||this.model,a.openNode("comment",{ref:c.ref,authorId:0}),a.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(d=>{this.richTextXform.render(a,d)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model={type:"note",note:{texts:[]},...a.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../../../utils/utils"),u=e("../base-xform"),l=e("./comment-xform"),a=n.exports=function(){this.map={comment:new l}};o.inherits(a,u,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,d){d=d||this.model,c.openXml(s.StdDocAttributes),c.openNode("comments",a.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),d.comments.forEach(h=>{this.map.comment.render(c,h)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,u,l){(u===l[2]||this.tag==="x:SizeWithCells"&&u===l[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(o){const u=Math.floor(o.left),l=Math.floor(68*(o.left-u)),a=Math.floor(o.top),c=Math.floor(18*(o.top-a)),d=Math.floor(o.right),h=Math.floor(68*(o.right-d)),f=Math.floor(o.bottom);return[u,l,a,c,d,h,f,Math.floor(18*(o.bottom-f))]}getDefaultRect(o){const u=o.col,l=Math.max(o.row-2,0);return[u,6,l,14,u+2,2,l+4,16]}render(o,u){const l=u.anchor?this.getAnchorRect(u.anchor):this.getDefaultRect(u.refAddress);o.leafNode("x:Anchor",null,l.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,i){const s=e("../base-xform"),o=e("./vml-anchor-xform"),u=e("./style/vml-protection-xform"),l=e("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new u({tag:"x:Locked"}),"x:LockText":new u({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,d){const{protection:h,editAs:f}=d.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,f,a),this.map["x:SizeWithCells"].render(c,f,a),this.map["x:Anchor"].render(c,d),this.map["x:Locked"].render(c,h.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,h.lockText),c.leafNode("x:Row",null,d.refAddress.row-1),c.leafNode("x:Column",null,d.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(c).length;this.model.editAs=a[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("./vml-shape-xform");class l extends o{constructor(){super(),this.map={"v:shape":new u}}get tag(){return"xml"}render(c,d){c.openXml(s.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),d.comments.forEach((h,f)=>{this.map["v:shape"].render(c,h,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,d){c.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,d):this.map["xdr:oneCellAnchor"].reconcile(h,d)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,i){const s=e("../base-xform"),o=e("./vml-textbox-xform"),u=e("./vml-client-data-xform");class l extends s{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new u}}get tag(){return"v:shape"}render(c,d,h){c.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(d,h)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,d),this.map["x:ClientData"].render(c,d),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(a,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(o,u,l){return`${parseFloat(o)*u.toFixed(2)}${l}`}reverseConversionUnit(o){return(o||"").split(",").map(u=>Number(parseFloat(this.conversionUnit(parseFloat(u),.1,"")).toFixed(2)))}render(o,u){const l={style:"mso-direction-alt:auto"};if(u&&u.note){let{inset:a}=u.note&&u.note.margins;Array.isArray(a)&&(a=a.map(c=>this.conversionUnit(c,10,"mm")).join(",")),a&&(l.inset=a)}o.openNode("v:textbox",l),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,u){this.model[o]=u.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,u){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,u.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,u){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:u.length,baseType:"lpstr"}),u.forEach(l=>{o.leafNode("vt:lpstr",void 0,l.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("../simple/string-xform"),l=e("./app-heading-pairs-xform"),a=e("./app-titles-of-parts-xform");class c extends o{constructor(){super(),this.map={Company:new u({tag:"Company"}),Manager:new u({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new a}}render(h,f){h.openXml(s.StdDocAttributes),h.openNode("Properties",c.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,f.worksheets),this.map.TitleOfParts.render(h,f.worksheets),this.map.Company.render(h,f.company||""),this.map.Manager.render(h,f.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform");class u extends o{render(a,c){a.openXml(s.StdDocAttributes),a.openNode("Types",u.PROPERTY_ATTRIBUTES);const d={};(c.media||[]).forEach(h=>{if(h.type==="image"){const f=h.extension;d[f]||(d[f]=!0,a.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(h=>{const f=`/xl/worksheets/sheet${h.id}.xml`;a.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(h=>{a.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(h=>{a.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(h=>{let{commentName:f}=h;a.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("../simple/date-xform"),l=e("../simple/string-xform"),a=e("../simple/integer-xform");class c extends o{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new u({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new u({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new u({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(h,f){h.openXml(s.StdDocAttributes),h.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,f.creator),this.map["dc:title"].render(h,f.title),this.map["dc:subject"].render(h,f.subject),this.map["dc:description"].render(h,f.description),this.map["dc:identifier"].render(h,f.identifier),this.map["dc:language"].render(h,f.language),this.map["cp:keywords"].render(h,f.keywords),this.map["cp:category"].render(h,f.category),this.map["cp:lastModifiedBy"].render(h,f.lastModifiedBy),this.map["cp:lastPrinted"].render(h,f.lastPrinted),this.map["cp:revision"].render(h,f.revision),this.map["cp:version"].render(h,f.version),this.map["cp:contentStatus"].render(h,f.contentStatus),this.map["cp:contentType"].render(h,f.contentType),this.map["dcterms:created"].render(h,f.created),this.map["dcterms:modified"].render(h,f.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}c.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,u){o.leafNode("Relationship",u)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("./relationship-xform");class l extends o{constructor(){super(),this.map={Relationship:new u}}render(c,d){d=d||this._values,c.openXml(s.StdDocAttributes),c.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),d.forEach(h=>{this.map.Relationship.render(c,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,u){if(o&&o.rId){const l=u.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const a=l[1],c=u.mediaIndex[a];return u.media[c]}}}}},{"../base-xform":32}],57:[function(e,n,i){const s=e("../base-xform"),o=e("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(u,l){u.openNode(this.tag),this.map["a:blip"].render(u,l),u.openNode("a:stretch"),u.leafNode("a:fillRect"),u.closeNode(),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(o,u){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":u.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,i){const s=e("../base-xform"),o=e("./hlink-click-xform"),u=e("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new u}}get tag(){return"xdr:cNvPr"}render(l,a){l.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(l,a),this.map["a:extLst"].render(l,a),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,i){const s=e("../base-xform"),o=e("../simple/integer-xform");n.exports=class extends s{constructor(u){super(),this.tag=u.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(u,l){u.openNode(this.tag),this.map["xdr:col"].render(u,l.nativeCol),this.map["xdr:colOff"].render(u,l.nativeColOff),this.map["xdr:row"].render(u,l.nativeRow),this.map["xdr:rowOff"].render(u,l.nativeRowOff),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,i){const s=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),u=e("../base-xform"),l=e("./two-cell-anchor-xform"),a=e("./one-cell-anchor-xform");class c extends u{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new a}}prepare(h){h.anchors.forEach((f,m)=>{f.anchorType=function(y){return(typeof y.range=="string"?s.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:m})})}get tag(){return"xdr:wsDr"}render(h,f){h.openXml(o.StdDocAttributes),h.openNode(this.tag,c.DRAWING_ATTRIBUTES),f.anchors.forEach(m=>{this.map[m.anchorType].render(h,m)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,f){h.anchors.forEach(m=>{m.br?this.map["xdr:twoCellAnchor"].reconcile(m,f):this.map["xdr:oneCellAnchor"].reconcile(m,f)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,u){o.openNode(this.tag);const l=Math.floor(9525*u.width),a=Math.floor(9525*u.height);o.addAttribute("cx",l),o.addAttribute("cy",a),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(o,u){u.hyperlinks&&u.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":u.hyperlinks.rId,tooltip:u.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,i){const s=e("../base-xform"),o=e("./c-nv-pr-xform"),u=e("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new u}}get tag(){return"xdr:nvPicPr"}render(l,a){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,a),this.map["xdr:cNvPicPr"].render(l,a),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,i){const s=e("./base-cell-anchor-xform"),o=e("../static-xform"),u=e("./cell-position-xform"),l=e("./ext-xform"),a=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,d){this.map["xdr:pic"].prepare(c.picture,d)}render(c,d){c.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,d.range.tl),this.map["xdr:ext"].render(c,d.range.ext),this.map["xdr:pic"].render(c,d.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,d){c.medium=this.reconcilePicture(c.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,i){const s=e("../base-xform"),o=e("../static-xform"),u=e("./blip-fill-xform"),l=e("./nv-pic-pr-xform"),a=e("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new u,"xdr:spPr":new o(a)}}get tag(){return"xdr:pic"}prepare(c,d){c.index=d.index+1}render(c,d){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,d),this.map["xdr:blipFill"].render(c,d),this.map["xdr:spPr"].render(c,d),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,i){const s=e("./base-cell-anchor-xform"),o=e("../static-xform"),u=e("./cell-position-xform"),l=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:to":new u({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,c){this.map["xdr:pic"].prepare(a.picture,c)}render(a,c){a.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,c.range.tl),this.map["xdr:to"].render(a,c.range.br),this.map["xdr:pic"].render(a,c.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,c){a.medium=this.reconcilePicture(a.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,u){const{childXform:l}=this;o&&o.forEach((a,c)=>{u.index=c,l.prepare(a,u)})}render(o,u){if(this.always||u&&u.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,u&&u.length||0);const{childXform:l}=this;(u||[]).forEach((a,c)=>{l.render(o,a,c)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,u){if(o){const{childXform:l}=this;o.forEach(a=>{l.reconcile(a,u)})}}}},{"./base-xform":32}],72:[function(e,n,i){const s=e("../../../utils/col-cache"),o=e("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(u,l){if(l)if(typeof l=="string")u.leafNode("autoFilter",{ref:l});else{const a=function(h){return typeof h=="string"?h:s.getAddress(h.row,h.column).address},c=a(l.from),d=a(l.to);c&&d&&u.leafNode("autoFilter",{ref:`${c}:${d}`})}}parseOpen(u){u.name==="autoFilter"&&(this.model=u.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,i){const s=e("../../../utils/utils"),o=e("../base-xform"),u=e("../../../doc/range"),l=e("../../../doc/enums"),a=e("../strings/rich-text-xform");function c(d){if(d==null)return l.ValueType.Null;if(d instanceof String||typeof d=="string")return l.ValueType.String;if(typeof d=="number")return l.ValueType.Number;if(typeof d=="boolean")return l.ValueType.Boolean;if(d instanceof Date)return l.ValueType.Date;if(d.text&&d.hyperlink)return l.ValueType.Hyperlink;if(d.formula)return l.ValueType.Formula;if(d.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(d,h){const f=h.styles.addStyleModel(d.style||{},function(m){switch(m.type){case l.ValueType.Formula:return c(m.result);default:return m.type}}(d));switch(f&&(d.styleId=f),d.comment&&h.comments.push({...d.comment,ref:d.address}),d.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(d.ssId=h.sharedStrings.add(d.value));break;case l.ValueType.Date:h.date1904&&(d.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=h.sharedStrings.add(d.text)),h.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case l.ValueType.Merge:h.merges.add(d);break;case l.ValueType.Formula:if(h.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=h.siFormulae++),d.formula)h.formulae[d.address]=d;else if(d.sharedFormula){const m=h.formulae[d.sharedFormula];if(!m)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);m.si===void 0?(m.shareType="shared",m.si=h.siFormulae++,m.range=new u(m.address,d.address)):m.range&&m.range.expandToAddress(d.address),d.si=m.si}}}renderFormula(d,h){let f=null;switch(h.shareType){case"shared":f={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":f={t:"array",ref:h.ref};break;default:h.si!==void 0&&(f={t:"shared",si:h.si})}switch(c(h.result)){case l.ValueType.Null:d.leafNode("f",f,h.formula);break;case l.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result);break;case l.ValueType.Number:d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result);break;case l.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result.error);break;case l.ValueType.Date:d.leafNode("f",f,h.formula),d.leafNode("v",null,s.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,h){if(h.type!==l.ValueType.Null||h.styleId){switch(d.openNode("c"),d.addAttribute("r",h.address),h.styleId&&d.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:d.leafNode("v",null,h.value);break;case l.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),h.value.richText.forEach(f=>{this.richTextXForm.render(d,f)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,h.value));break;case l.ValueType.Date:d.leafNode("v",null,s.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,h.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(d,h);break;case l.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=s.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=s.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,h){const f=d.styleId&&h.styles&&h.styles.getStyleModel(d.styleId);switch(f&&(d.style=f),d.styleId!==void 0&&(d.styleId=void 0),d.type){case l.ValueType.String:typeof d.value=="number"&&h.sharedStrings&&(d.value=h.sharedStrings.getString(d.value)),d.value.richText&&(d.type=l.ValueType.RichText);break;case l.ValueType.Number:f&&s.isDateFmt(f.numFmt)&&(d.type=l.ValueType.Date,d.value=s.excelToDate(d.value,h.date1904));break;case l.ValueType.Formula:d.result!==void 0&&f&&s.isDateFmt(f.numFmt)&&(d.result=s.excelToDate(d.result,h.date1904)),d.shareType==="shared"&&(d.ref?h.formulae[d.si]=d.address:(d.sharedFormula=h.formulae[d.si],delete d.shareType),delete d.si)}const m=h.hyperlinkMap[d.address];m&&(d.type===l.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=l.ValueType.Hyperlink,d.hyperlink=m);const y=h.commentsMap&&h.commentsMap[d.address];y&&(d.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(o,u){o.leafNode(this.tag,{iconSet:u.iconSet,iconId:u.iconId})}parseOpen(o){let{attributes:u}=o;this.model={iconSet:u.iconSet,iconId:s.toIntValue(u.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,i){const{v4:s}=e("uuid"),o=e("../../base-xform"),u=e("../../composite-xform"),l=e("./databar-ext-xform"),a=e("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends u{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?l.isExt(f):!(f.type!=="iconSet"||!f.custom&&!c[f.iconSet])}prepare(f){d.isExt(f)&&(f.x14Id=`{${s()}}`.toUpperCase())}render(f,m){if(d.isExt(m))switch(m.type){case"dataBar":this.renderDataBar(f,m);break;case"iconSet":this.renderIconSet(f,m)}}renderDataBar(f,m){f.openNode(this.tag,{type:"dataBar",id:m.x14Id}),this.databarXform.render(f,m),f.closeNode()}renderIconSet(f,m){f.openNode(this.tag,{type:"iconSet",priority:m.priority,id:m.x14Id||`{${s()}}`}),this.iconSetXform.render(f,m),f.closeNode()}createNewModel(f){let{attributes:m}=f;return{type:m.type,x14Id:m.id,priority:o.toIntValue(m.priority)}}onParserClose(f,m){Object.assign(this.model,m.model)}}n.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,i){const s=e("../../composite-xform"),o=e("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(u,l){u.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(u,l.value),u.closeNode()}createNewModel(u){return{type:u.attributes.type}}onParserClose(u,l){switch(u){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,i){const s=e("../../composite-xform"),o=e("./sqref-ext-xform"),u=e("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new u}}get tag(){return"x14:conditionalFormatting"}prepare(l,a){l.rules.forEach(c=>{this.cfRule.prepare(c,a)})}render(l,a){a.rules.some(u.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(u.isExt).forEach(c=>this.cfRule.render(l,c)),this.sqRef.render(l,a.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,a){switch(l){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,i){const s=e("../../composite-xform"),o=e("./cf-rule-ext-xform"),u=e("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new u}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(a=>a.rules.some(o.isExt))),l.hasExtContent}prepare(l,a){l.forEach(c=>{this.cfXform.prepare(c,a)})}render(l,a){this.hasContent(a)&&(l.openNode(this.tag),a.forEach(c=>this.cfXform.render(l,c)),l.closeNode())}createNewModel(){return[]}onParserClose(l,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform"),u=e("../../style/color-xform"),l=e("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new u("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new u("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new u("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new u("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,c){a.openNode(this.tag,{minLength:s.toIntAttribute(c.minLength,0,!0),maxLength:s.toIntAttribute(c.maxLength,100,!0),border:s.toBoolAttribute(c.border,!1),gradient:s.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(c.axisPosition,"auto"),direction:s.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(d=>{this.cfvoXform.render(a,d)}),this.borderColorXform.render(a,c.borderColor),this.negativeBorderColorXform.render(a,c.negativeBorderColor),this.negativeFillColorXform.render(a,c.negativeFillColor),this.axisColorXform.render(a,c.axisColor),a.closeNode()}createNewModel(a){let{attributes:c}=a;return{cfvo:[],minLength:s.toIntValue(c.minLength,0),maxLength:s.toIntValue(c.maxLength,100),border:s.toBoolValue(c.border,!1),gradient:s.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(c.axisPosition,"auto"),direction:s.toStringValue(c.direction,"leftToRight")}}onParserClose(a,c){const[,d]=a.split(":");switch(d){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[d]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform"),u=e("./cfvo-ext-xform"),l=e("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(a,c){a.openNode(this.tag,{iconSet:s.toStringAttribute(c.iconSet),reverse:s.toBoolAttribute(c.reverse,!1),showValue:s.toBoolAttribute(c.showValue,!0),custom:s.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(d=>{this.cfvoXform.render(a,d)}),c.icons&&c.icons.forEach((d,h)=>{d.iconId=h,this.cfIconXform.render(a,d)}),a.closeNode()}createNewModel(a){let{attributes:c}=a;return{cfvo:[],iconSet:s.toStringValue(c.iconSet,"3TrafficLights"),reverse:s.toBoolValue(c.reverse,!1),showValue:s.toBoolValue(c.showValue,!0)}}onParserClose(a,c){const[,d]=a.split(":");switch(d){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[d]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform"),u=e("../../../../doc/range"),l=e("./databar-xform"),a=e("./ext-lst-ref-xform"),c=e("./formula-xform"),d=e("./color-scale-xform"),h=e("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},m=p=>{const{type:b,operator:g}=p;switch(b){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:b};default:return{type:b,operator:g}}};class y extends o{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(b){return b.type!=="iconSet"||!b.custom&&!f[b.iconSet]}render(b,g){switch(g.type){case"expression":this.renderExpression(b,g);break;case"cellIs":this.renderCellIs(b,g);break;case"top10":this.renderTop10(b,g);break;case"aboveAverage":this.renderAboveAverage(b,g);break;case"dataBar":this.renderDataBar(b,g);break;case"colorScale":this.renderColorScale(b,g);break;case"iconSet":this.renderIconSet(b,g);break;case"containsText":this.renderText(b,g);break;case"timePeriod":this.renderTimePeriod(b,g)}}renderExpression(b,g){b.openNode(this.tag,{type:"expression",dxfId:g.dxfId,priority:g.priority}),this.formulaXform.render(b,g.formulae[0]),b.closeNode()}renderCellIs(b,g){b.openNode(this.tag,{type:"cellIs",dxfId:g.dxfId,priority:g.priority,operator:g.operator}),g.formulae.forEach(w=>{this.formulaXform.render(b,w)}),b.closeNode()}renderTop10(b,g){b.leafNode(this.tag,{type:"top10",dxfId:g.dxfId,priority:g.priority,percent:s.toBoolAttribute(g.percent,!1),bottom:s.toBoolAttribute(g.bottom,!1),rank:s.toIntValue(g.rank,10,!0)})}renderAboveAverage(b,g){b.leafNode(this.tag,{type:"aboveAverage",dxfId:g.dxfId,priority:g.priority,aboveAverage:s.toBoolAttribute(g.aboveAverage,!0)})}renderDataBar(b,g){b.openNode(this.tag,{type:"dataBar",priority:g.priority}),this.databarXform.render(b,g),this.extLstRefXform.render(b,g),b.closeNode()}renderColorScale(b,g){b.openNode(this.tag,{type:"colorScale",priority:g.priority}),this.colorScaleXform.render(b,g),b.closeNode()}renderIconSet(b,g){y.isPrimitive(g)&&(b.openNode(this.tag,{type:"iconSet",priority:g.priority}),this.iconSetXform.render(b,g),b.closeNode())}renderText(b,g){b.openNode(this.tag,{type:g.operator,dxfId:g.dxfId,priority:g.priority,operator:s.toStringAttribute(g.operator,"containsText")});const w=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const A=new u(k.ref),{tl:U}=A;switch(k.operator){case"containsText":return`NOT(ISERROR(SEARCH("${k.text}",${U})))`;case"containsBlanks":return`LEN(TRIM(${U}))=0`;case"notContainsBlanks":return`LEN(TRIM(${U}))>0`;case"containsErrors":return`ISERROR(${U})`;case"notContainsErrors":return`NOT(ISERROR(${U}))`;default:return}})(g);w&&this.formulaXform.render(b,w),b.closeNode()}renderTimePeriod(b,g){b.openNode(this.tag,{type:"timePeriod",dxfId:g.dxfId,priority:g.priority,timePeriod:g.timePeriod});const w=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const A=new u(k.ref),{tl:U}=A;switch(k.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${U},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${U},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${U},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${U},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${U},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${U},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${U},1)=TODAY()-1`;case"today":return`FLOOR(${U},1)=TODAY()`;case"tomorrow":return`FLOOR(${U},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${U},1)<=6,FLOOR(${U},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${U})=MONTH(EDATE(TODAY(),0-1)),YEAR(${U})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${U})=MONTH(TODAY()),YEAR(${U})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${U})=MONTH(EDATE(TODAY(),0+1)),YEAR(${U})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(g);w&&this.formulaXform.render(b,w),b.closeNode()}createNewModel(b){let{attributes:g}=b;return{...m(g),dxfId:s.toIntValue(g.dxfId),priority:s.toIntValue(g.priority),timePeriod:g.timePeriod,percent:s.toBoolValue(g.percent),bottom:s.toBoolValue(g.bottom),rank:s.toIntValue(g.rank),aboveAverage:s.toBoolValue(g.aboveAverage)}}onParserClose(b,g){switch(b){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,g.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(g.model)}}}n.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(o,u){o.leafNode(this.tag,{type:u.type,val:u.value})}parseOpen(o){this.model={type:o.attributes.type,value:s.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,i){const s=e("../../composite-xform"),o=e("../../style/color-xform"),u=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new o}}get tag(){return"colorScale"}render(l,a){l.openNode(this.tag),a.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),a.color.forEach(c=>{this.colorXform.render(l,c)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,a){this.model[l].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,i){const s=e("../../composite-xform"),o=e("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(u,l){l.rules.some(o.isPrimitive)&&(u.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(a=>{o.isPrimitive(a)&&(a.ref=l.ref,this.map.cfRule.render(u,a))}),u.closeNode())}createNewModel(u){let{attributes:l}=u;return{ref:l.sqref,rules:[]}}onParserClose(u,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,i){const s=e("../../base-xform"),o=e("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(u,l){let a=u.reduce((c,d)=>Math.max(c,...d.rules.map(h=>h.priority||0)),1);u.forEach(c=>{c.rules.forEach(d=>{d.priority||(d.priority=a++),d.style&&(d.dxfId=l.styles.addDxfStyle(d.style))})})}render(u,l){l.forEach(a=>{this.cfXform.render(u,a)})}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(!!this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(u,l){u.forEach(a=>{a.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=l.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,i){const s=e("../../composite-xform"),o=e("../../style/color-xform"),u=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new o}}get tag(){return"dataBar"}render(l,a){l.openNode(this.tag),a.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),this.colorXform.render(l,a.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,a){switch(l){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform");class u extends s{get tag(){return"x14:id"}render(c,d){c.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class l extends o{constructor(){super(),this.map={"x14:id":this.idXform=new u}}get tag(){return"ext"}render(c,d){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,d.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,d){this.model.x14Id=d.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(a,c){a.openNode(this.tag),this.map.ext.render(a,c),a.closeNode()}createNewModel(){return{}}onParserClose(a,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform"),u=e("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new u}}get tag(){return"iconSet"}render(l,a){l.openNode(this.tag,{iconSet:s.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(a.reverse,!1),showValue:s.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),l.closeNode()}createNewModel(l){let{attributes:a}=l;return{iconSet:s.toStringValue(a.iconSet,"3TrafficLights"),reverse:s.toBoolValue(a.reverse),showValue:s.toBoolValue(a.showValue),cfvo:[]}}onParserClose(l,a){this.model[l].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,i){const s=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(u,l){const a=l.styles.addStyleModel(u.style||{});a&&(u.styleId=a)}render(u,l){u.openNode("col"),u.addAttribute("min",l.min),u.addAttribute("max",l.max),l.width&&u.addAttribute("width",l.width),l.styleId&&u.addAttribute("style",l.styleId),l.hidden&&u.addAttribute("hidden","1"),l.bestFit&&u.addAttribute("bestFit","1"),l.outlineLevel&&u.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&u.addAttribute("collapsed","1"),u.addAttribute("customWidth","1"),u.closeNode()}parseOpen(u){if(u.name==="col"){const l=this.model={min:parseInt(u.attributes.min||"0",10),max:parseInt(u.attributes.max||"0",10),width:u.attributes.width===void 0?void 0:parseFloat(u.attributes.width||"0")};return u.attributes.style&&(l.styleId=parseInt(u.attributes.style,10)),s.parseBoolean(u.attributes.hidden)&&(l.hidden=!0),s.parseBoolean(u.attributes.bestFit)&&(l.bestFit=!0),u.attributes.outlineLevel&&(l.outlineLevel=parseInt(u.attributes.outlineLevel,10)),s.parseBoolean(u.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(u,l){u.styleId&&(u.style=l.styles.getStyleModel(u.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../../utils/utils"),u=e("../../../utils/col-cache"),l=e("../base-xform"),a=e("../../../doc/range");function c(h,f,m,y){const p=f[m];p!==void 0?h[m]=p:y!==void 0&&(h[m]=y)}function d(h,f,m,y){const p=f[m];p!==void 0&&(h[m]=o.parseBoolean(p))}n.exports=class extends l{get tag(){return"dataValidations"}render(h,f){const m=function(y){const p=s.map(y,(w,k)=>({address:k,dataValidation:w,marked:!1})).sort((w,k)=>s.strcmp(w.address,k.address)),b=s.keyBy(p,"address"),g=(w,k,A)=>{for(let U=0;U<k;U++){const V=u.encodeAddress(w.row+U,A);if(!y[V]||!s.isEqual(y[w.address],y[V]))return!1}return!0};return p.map(w=>{if(!w.marked){const k=u.decodeEx(w.address);if(k.dimensions)return b[k.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let A=1,U=u.encodeAddress(k.row+A,k.col);for(;y[U]&&s.isEqual(w.dataValidation,y[U]);)A++,U=u.encodeAddress(k.row+A,k.col);let V=1;for(;g(k,A,k.col+V);)V++;for(let R=0;R<A;R++)for(let N=0;N<V;N++)U=u.encodeAddress(k.row+R,k.col+N),b[U].marked=!0;if(A>1||V>1){const R=k.row+(A-1),N=k.col+(V-1);return{...w.dataValidation,sqref:`${w.address}:${u.encodeAddress(R,N)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)}(f);m.length&&(h.openNode("dataValidations",{count:m.length}),m.forEach(y=>{h.openNode("dataValidation"),y.type!=="any"&&(h.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&h.addAttribute("operator",y.operator),y.allowBlank&&h.addAttribute("allowBlank","1")),y.showInputMessage&&h.addAttribute("showInputMessage","1"),y.promptTitle&&h.addAttribute("promptTitle",y.promptTitle),y.prompt&&h.addAttribute("prompt",y.prompt),y.showErrorMessage&&h.addAttribute("showErrorMessage","1"),y.errorStyle&&h.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&h.addAttribute("errorTitle",y.errorTitle),y.error&&h.addAttribute("error",y.error),h.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((p,b)=>{h.openNode("formula"+(b+1)),y.type==="date"?h.writeText(o.dateToExcel(new Date(p))):h.writeText(p),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const f={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&d(f,h.attributes,"allowBlank"),d(f,h.attributes,"showInputMessage"),d(f,h.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:c(f,h.attributes,"operator","between")}return c(f,h.attributes,"promptTitle"),c(f,h.attributes,"prompt"),c(f,h.attributes,"errorStyle"),c(f,h.attributes,"errorTitle"),c(f,h.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new a(f).forEachAddress(m=>{this.model[m]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=o.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(o,u){u&&o.leafNode("dimension",{ref:u})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(o,u){u&&o.leafNode(this.tag,{"r:id":u.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,i){const s=e("../composite-xform"),o=e("./cf-ext/conditional-formattings-ext-xform");class u extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,c){this.conditionalFormattings.prepare(a.conditionalFormattings,c)}render(a,c){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,c.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,c){this.model[a]=c.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new u}}get tag(){return"extLst"}prepare(l,a){this.ext.prepare(l,a)}hasContent(l){return this.ext.hasContent(l)}render(l,a){this.hasContent(a)&&(l.openNode("extLst"),this.ext.render(l,a),l.closeNode())}createNewModel(){return{}}onParserClose(l,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(o,u){if(u){o.addRollback();let l=!1;o.openNode("headerFooter"),u.differentFirst&&(o.addAttribute("differentFirst","1"),l=!0),u.differentOddEven&&(o.addAttribute("differentOddEven","1"),l=!0),u.oddHeader&&typeof u.oddHeader=="string"&&(o.leafNode("oddHeader",null,u.oddHeader),l=!0),u.oddFooter&&typeof u.oddFooter=="string"&&(o.leafNode("oddFooter",null,u.oddFooter),l=!0),u.evenHeader&&typeof u.evenHeader=="string"&&(o.leafNode("evenHeader",null,u.evenHeader),l=!0),u.evenFooter&&typeof u.evenFooter=="string"&&(o.leafNode("evenFooter",null,u.evenFooter),l=!0),u.firstHeader&&typeof u.firstHeader=="string"&&(o.leafNode("firstHeader",null,u.firstHeader),l=!0),u.firstFooter&&typeof u.firstFooter=="string"&&(o.leafNode("firstFooter",null,u.firstFooter),l=!0),l?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(o,u){this.isInternalLink(u)?o.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip,location:u.target}):o.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(o,u){o.leafNode("mergeCell",{ref:u})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../../doc/range"),u=e("../../../utils/col-cache"),l=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{const c=`${a.master}:${a.address}`;this.merges[a.master]=new o(c)}}get mergeCells(){return s.map(this.merges,a=>a.range)}reconcile(a,c){s.each(a,d=>{const h=u.decode(d);for(let f=h.top;f<=h.bottom;f++){const m=c[f-1];for(let y=h.left;y<=h.right;y++){const p=m.cells[y-1];p?p.type===l.ValueType.Merge&&(p.master=h.tl):m.cells[y]={type:l.ValueType.Null,address:u.encodeAddress(f,y)}}}})}getMasterAddress(a){const c=this.hash[a];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,i){const s=e("../base-xform"),o=u=>u!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(u,l){return!(!l||!o(l.summaryBelow)&&!o(l.summaryRight))&&(u.leafNode(this.tag,{summaryBelow:o(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:o(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(u){return u.name===this.tag&&(this.model={summaryBelow:o(u.attributes.summaryBelow)?!!Number(u.attributes.summaryBelow):void 0,summaryRight:o(u.attributes.summaryRight)?!!Number(u.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(o,u){o.leafNode("brk",u)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(u,l){if(l){const a={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};s.some(a,c=>c!==void 0)&&u.leafNode(this.tag,a)}}parseOpen(u){switch(u.name){case this.tag:return this.model={left:parseFloat(u.attributes.left||.7),right:parseFloat(u.attributes.right||.7),top:parseFloat(u.attributes.top||.75),bottom:parseFloat(u.attributes.bottom||.75),header:parseFloat(u.attributes.header||.3),footer:parseFloat(u.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(o,u){return!(!u||!u.fitToPage)&&(o.leafNode(this.tag,{fitToPage:u.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");function u(d){return d?"1":void 0}function l(d){switch(d){case"overThenDown":return d;default:return}}function a(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function c(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(d,h){if(h){const f={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:u(h.blackAndWhite),draft:u(h.draft),cellComments:a(h.cellComments),errors:c(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:u(h.firstPageNumber),usePrinterDefaults:u(h.usePrinterDefaults),copies:h.copies};s.some(f,m=>m!==void 0)&&d.leafNode(this.tag,f)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(h=d.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(o,u){u&&o.leafNode(this.tag,{"r:id":u.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");function u(l){return l?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(l,a){if(a){const c={headings:u(a.showRowColHeaders),gridLines:u(a.showGridLines),horizontalCentered:u(a.horizontalCentered),verticalCentered:u(a.verticalCentered)};s.some(c,d=>d!==void 0)&&l.leafNode(this.tag,c)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,i){const s=e("./page-breaks-xform"),o=e("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(u,l){if(l&&l.length){u.openNode(this.tag,this.$),this.count&&(u.addAttribute(this.$count,l.length),u.addAttribute("manualBreakCount",l.length));const{childXform:a}=this;l.forEach(c=>{a.render(u,c)}),u.closeNode()}else this.empty&&u.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,i){const s=e("../base-xform"),o=e("../../../utils/utils"),u=e("./cell-xform");n.exports=class extends s{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new u}}get tag(){return"row"}prepare(l,a){const c=a.styles.addStyleModel(l.style);c&&(l.styleId=c);const d=this.map.c;l.cells.forEach(h=>{d.prepare(h,a)})}render(l,a,c){l.openNode("row"),l.addAttribute("r",a.number),a.height&&(l.addAttribute("ht",a.height),l.addAttribute("customHeight","1")),a.hidden&&l.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&l.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(l.addAttribute("s",a.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&l.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&l.addAttribute("collapsed","1");const d=this.map.c;a.cells.forEach(h=>{d.render(l,h,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const a=l.attributes.spans?l.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],c=this.model={number:parseInt(l.attributes.r,10),min:a[0],max:a[1],cells:[]};return l.attributes.s&&(c.styleId=parseInt(l.attributes.s,10)),o.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),o.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.ht&&(c.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),o.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,a){l.style=l.styleId?a.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const c=this.map.c;l.cells.forEach(d=>{c.reconcile(d,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(u,l){if(l){const a={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(a.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(a.customHeight="1"),s.some(a,c=>c!==void 0)&&u.leafNode("sheetFormatPr",a)}}parseOpen(u){return u.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(u.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(u.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(u.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(u.attributes.outlineLevelCol||"0",10)},u.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(u.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,i){const s=e("../base-xform"),o=e("../style/color-xform"),u=e("./page-setup-properties-xform"),l=e("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new u,outlinePr:new l}}get tag(){return"sheetPr"}render(a,c){if(c){a.addRollback(),a.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(a,c.tabColor)||d,d=this.map.pageSetUpPr.render(a,c.pageSetup)||d,d=this.map.outlinePr.render(a,c.outlineProperties)||d,d?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");function u(a,c){return a?c:void 0}function l(a,c){return a===c||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(a,c){if(c){const d={sheet:u(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:u(c.formatCells,"0"),formatColumns:u(c.formatColumns,"0"),formatRows:u(c.formatRows,"0"),insertColumns:u(c.insertColumns,"0"),insertRows:u(c.insertRows,"0"),insertHyperlinks:u(c.insertHyperlinks,"0"),deleteColumns:u(c.deleteColumns,"0"),deleteRows:u(c.deleteRows,"0"),sort:u(c.sort,"0"),autoFilter:u(c.autoFilter,"0"),pivotTables:u(c.pivotTables,"0")};c.sheet&&(d.algorithmName=c.algorithmName,d.hashValue=c.hashValue,d.saltValue=c.saltValue,d.spinCount=c.spinCount,d.objects=u(c.objects===!1,"1"),d.scenarios=u(c.scenarios===!1,"1")),s.some(d,h=>h!==void 0)&&a.leafNode(this.tag,d)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:l(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(a.attributes.formatCells,"0"),formatColumns:l(a.attributes.formatColumns,"0"),formatRows:l(a.attributes.formatRows,"0"),insertColumns:l(a.attributes.insertColumns,"0"),insertRows:l(a.attributes.insertRows,"0"),insertHyperlinks:l(a.attributes.insertHyperlinks,"0"),deleteColumns:l(a.attributes.deleteColumns,"0"),deleteRows:l(a.attributes.deleteRows,"0"),sort:l(a.attributes.sort,"0"),autoFilter:l(a.attributes.autoFilter,"0"),pivotTables:l(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,i){const s=e("../../../utils/col-cache"),o=e("../base-xform"),u={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,a){l.openNode("sheetView",{workbookViewId:a.workbookViewId||0});const c=function(y,p,b){b&&l.addAttribute(y,p)};let d,h,f,m;switch(c("rightToLeft","1",a.rightToLeft===!0),c("tabSelected","1",a.tabSelected),c("showRuler","0",a.showRuler===!1),c("showRowColHeaders","0",a.showRowColHeaders===!1),c("showGridLines","0",a.showGridLines===!1),c("zoomScale",a.zoomScale,a.zoomScale),c("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),c("view",a.style,a.style),a.state){case"frozen":h=a.xSplit||0,f=a.ySplit||0,d=a.topLeftCell||s.getAddress(f+1,h+1).address,m=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:d,activePane:m,state:"frozen"}),l.leafNode("selection",{pane:m,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),l.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),l.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&l.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const a=l.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let a,c;switch(l){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:u[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(a.activeCell=c.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(a.activeCell=c.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(o,u){u&&o.leafNode(this.tag,{"r:id":u.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),l=e("../../rel-type"),a=e("./merges"),c=e("../base-xform"),d=e("../list-xform"),h=e("./row-xform"),f=e("./col-xform"),m=e("./dimension-xform"),y=e("./hyperlink-xform"),p=e("./merge-cell-xform"),b=e("./data-validations-xform"),g=e("./sheet-properties-xform"),w=e("./sheet-format-properties-xform"),k=e("./sheet-view-xform"),A=e("./sheet-protection-xform"),U=e("./page-margins-xform"),V=e("./page-setup-xform"),R=e("./print-options-xform"),N=e("./auto-filter-xform"),L=e("./picture-xform"),z=e("./drawing-xform"),O=e("./table-part-xform"),T=e("./row-breaks-xform"),P=e("./header-footer-xform"),E=e("./cf/conditional-formattings-xform"),v=e("./ext-lst-xform"),x=(S,C)=>{if(!C||!C.length)return S;if(!S||!S.length)return C;const j={},F={};return S.forEach(H=>{j[H.ref]=H,H.rules.forEach(W=>{const{x14Id:Y}=W;Y&&(F[Y]=W)})}),C.forEach(H=>{H.rules.forEach(W=>{const Y=F[W.x14Id];Y?((B,G)=>{Object.keys(G).forEach(D=>{const M=B[D],$=G[D];M===void 0&&$!==void 0&&(B[D]=$)})})(Y,W):j[H.ref]?j[H.ref].rules.push(W):S.push({ref:H.ref,rules:[W]})})}),S};class _ extends c{constructor(C){super();const{maxRows:j,maxCols:F,ignoreNodes:H}=C||{};this.ignoreNodes=H||[],this.map={sheetPr:new g,dimension:new m,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new k}),sheetFormatPr:new w,cols:new d({tag:"cols",count:!1,childXform:new f}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:F}),maxItems:j}),autoFilter:new N,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new T,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new U,dataValidations:new b,pageSetup:new V,headerFooter:new P,printOptions:new R,picture:new L,drawing:new z,sheetProtection:new A,tableParts:new d({tag:"tableParts",count:!0,childXform:new O}),conditionalFormatting:new E,extLst:new v}}prepare(C,j){j.merges=new a,C.hyperlinks=j.hyperlinks=[],C.comments=j.comments=[],j.formulae={},j.siFormulae=0,this.map.cols.prepare(C.cols,j),this.map.sheetData.prepare(C.rows,j),this.map.conditionalFormatting.prepare(C.conditionalFormattings,j),C.mergeCells=j.merges.mergeCells;const F=C.rels=[];function H(B){return"rId"+(B.length+1)}if(C.hyperlinks.forEach(B=>{const G=H(F);B.rId=G,F.push({Id:G,Type:l.Hyperlink,Target:B.target,TargetMode:"External"})}),C.comments.length>0){const B={Id:H(F),Type:l.Comments,Target:`../comments${C.id}.xml`};F.push(B);const G={Id:H(F),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${C.id}.vml`};F.push(G),C.comments.forEach(D=>{D.refAddress=o.decodeAddress(D.ref)}),j.commentRefs.push({commentName:"comments"+C.id,vmlDrawing:"vmlDrawing"+C.id})}const W=[];let Y;C.media.forEach(B=>{if(B.type==="background"){const G=H(F);Y=j.media[B.imageId],F.push({Id:G,Type:l.Image,Target:`../media/${Y.name}.${Y.extension}`}),C.background={rId:G},C.image=j.media[B.imageId]}else if(B.type==="image"){let{drawing:G}=C;Y=j.media[B.imageId],G||(G=C.drawing={rId:H(F),name:"drawing"+ ++j.drawingsCount,anchors:[],rels:[]},j.drawings.push(G),F.push({Id:G.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${G.name}.xml`}));let D=this.preImageId===B.imageId?W[B.imageId]:W[G.rels.length];D||(D=H(G.rels),W[G.rels.length]=D,G.rels.push({Id:D,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));const M={picture:{rId:D},range:B.range};if(B.hyperlinks&&B.hyperlinks.hyperlink){const $=H(G.rels);W[G.rels.length]=$,M.picture.hyperlinks={tooltip:B.hyperlinks.tooltip,rId:$},G.rels.push({Id:$,Type:l.Hyperlink,Target:B.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=B.imageId,G.anchors.push(M)}}),C.tables.forEach(B=>{const G=H(F);B.rId=G,F.push({Id:G,Type:l.Table,Target:"../tables/"+B.target}),B.columns.forEach(D=>{const{style:M}=D;M&&(D.dxfId=j.styles.addDxfStyle(M))})}),this.map.extLst.prepare(C,j)}render(C,j){C.openXml(u.StdDocAttributes),C.openNode("worksheet",_.WORKSHEET_ATTRIBUTES);const F=j.properties?{defaultRowHeight:j.properties.defaultRowHeight,dyDescent:j.properties.dyDescent,outlineLevelCol:j.properties.outlineLevelCol,outlineLevelRow:j.properties.outlineLevelRow}:void 0;j.properties&&j.properties.defaultColWidth&&(F.defaultColWidth=j.properties.defaultColWidth);const H={outlineProperties:j.properties&&j.properties.outlineProperties,tabColor:j.properties&&j.properties.tabColor,pageSetup:j.pageSetup&&j.pageSetup.fitToPage?{fitToPage:j.pageSetup.fitToPage}:void 0},W=j.pageSetup&&j.pageSetup.margins,Y={showRowColHeaders:j.pageSetup&&j.pageSetup.showRowColHeaders,showGridLines:j.pageSetup&&j.pageSetup.showGridLines,horizontalCentered:j.pageSetup&&j.pageSetup.horizontalCentered,verticalCentered:j.pageSetup&&j.pageSetup.verticalCentered},B=j.sheetProtection;this.map.sheetPr.render(C,H),this.map.dimension.render(C,j.dimensions),this.map.sheetViews.render(C,j.views),this.map.sheetFormatPr.render(C,F),this.map.cols.render(C,j.cols),this.map.sheetData.render(C,j.rows),this.map.sheetProtection.render(C,B),this.map.autoFilter.render(C,j.autoFilter),this.map.mergeCells.render(C,j.mergeCells),this.map.conditionalFormatting.render(C,j.conditionalFormattings),this.map.dataValidations.render(C,j.dataValidations),this.map.hyperlinks.render(C,j.hyperlinks),this.map.printOptions.render(C,Y),this.map.pageMargins.render(C,W),this.map.pageSetup.render(C,j.pageSetup),this.map.headerFooter.render(C,j.headerFooter),this.map.rowBreaks.render(C,j.rowBreaks),this.map.drawing.render(C,j.drawing),this.map.picture.render(C,j.background),this.map.tableParts.render(C,j.tables),this.map.extLst.render(C,j),j.rels&&j.rels.forEach(G=>{G.Type===l.VmlDrawing&&C.leafNode("legacyDrawing",{"r:id":G.Id})}),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name==="worksheet"?(s.each(this.map,j=>{j.reset()}),!0):(this.map[C.name]&&!this.ignoreNodes.includes(C.name)&&(this.parser=this.map[C.name],this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;switch(C){case"worksheet":{const j=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(j.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(j.outlineProperties=this.map.sheetPr.model.outlineProperties);const F={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},H=Object.assign(F,this.map.pageSetup.model,this.map.printOptions.model),W=x(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:j,views:this.map.sheetViews.model,pageSetup:H,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:W},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(C,j){const F=(C.relationships||[]).reduce((W,Y)=>{if(W[Y.Id]=Y,Y.Type===l.Comments&&(C.comments=j.comments[Y.Target].comments),Y.Type===l.VmlDrawing&&C.comments&&C.comments.length){const B=j.vmlDrawings[Y.Target].comments;C.comments.forEach((G,D)=>{G.note=Object.assign({},G.note,B[D])})}return W},{});if(j.commentsMap=(C.comments||[]).reduce((W,Y)=>(Y.ref&&(W[Y.ref]=Y),W),{}),j.hyperlinkMap=(C.hyperlinks||[]).reduce((W,Y)=>(Y.rId&&(W[Y.address]=F[Y.rId].Target),W),{}),j.formulae={},C.rows=C.rows&&C.rows.filter(Boolean)||[],C.rows.forEach(W=>{W.cells=W.cells&&W.cells.filter(Boolean)||[]}),this.map.cols.reconcile(C.cols,j),this.map.sheetData.reconcile(C.rows,j),this.map.conditionalFormatting.reconcile(C.conditionalFormattings,j),C.media=[],C.drawing){const W=F[C.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(W){const Y=W[1];j.drawings[Y].anchors.forEach(B=>{if(B.medium){const G={type:"image",imageId:B.medium.index,range:B.range,hyperlinks:B.picture.hyperlinks};C.media.push(G)}})}}const H=C.background&&F[C.background.rId];if(H){const W=H.Target.split("/media/")[1],Y=j.mediaIndex&&j.mediaIndex[W];Y!==void 0&&C.media.push({type:"background",imageId:Y})}C.tables=(C.tables||[]).map(W=>{const Y=F[W.rId];return j.tables[Y.Target]}),delete C.relationships,delete C.hyperlinks,delete C.comments}}_.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=_},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,u){u&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(u){try{return Number.isNaN(u.getTime())?"":u.toISOString()}catch{return""}},this._parse=o.parse||function(u){return new Date(u)}}render(o,u){u&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(u)):o.writeText(this._format(u)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,u){(u||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,u):o.writeText(u),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,u){u!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,u):o.writeText(u),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,i){const s=e("./base-xform"),o=e("../../utils/xml-stream");n.exports=class extends s{constructor(u){super(),this._model=u}render(u){if(!this._xml){const l=new o;(function a(c,d){c.openNode(d.tag,d.$),d.c&&d.c.forEach(h=>{a(c,h)}),d.t&&c.writeText(d.t),c.closeNode()})(l,this._model),this._xml=l.xml}u.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(u){switch(u){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,i){const s=e("./text-xform"),o=e("./rich-text-xform"),u=e("../base-xform");n.exports=class extends u{constructor(){super(),this.map={r:new o,t:new s}}get tag(){return"rPh"}render(l,a){if(l.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){const{r:c}=this.map;a.richText.forEach(d=>{c.render(l,d)})}else a&&this.map.t.render(l,a.text);l.closeNode()}parseOpen(l){const{name:a}=l;return this.parser?(this.parser.parseOpen(l),!0):a===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,i){const s=e("./text-xform"),o=e("../style/font-xform"),u=e("../base-xform");class l extends u{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new o(l.FONT_OPTIONS))}render(c,d){d=d||this.model,c.openNode("r"),d.font&&this.fontXform.render(c,d.font),this.textXform.render(c,d.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,i){const s=e("./text-xform"),o=e("./rich-text-xform"),u=e("./phonetic-text-xform"),l=e("../base-xform");n.exports=class extends l{constructor(a){super(),this.model=a,this.map={r:new o,t:new s,rPh:new u}}get tag(){return"si"}render(a,c){a.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(d=>{this.map.r.render(a,d)}):this.map.t.render(a,""):c!=null&&this.map.t.render(a,c),a.closeNode()}parseOpen(a){const{name:c}=a;return this.parser?(this.parser.parseOpen(a),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("./shared-string-xform");n.exports=class extends o{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new u)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let a=this.hash[l];return a===void 0&&(a=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,a}addRichText(l){const a=this.sharedStringXform.toXml(l);let c=this.rich[a];return c===void 0&&(c=this.rich[a]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}render(l,a){a=a||this._values,l.openXml(s.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});const c=this.sharedStringXform;a.values.forEach(d=>{c.render(l,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"t"}render(o,u){o.openNode("t"),/^\s|\n|\s$/.test(u)&&o.addAttribute("xml:space","preserve"),o.writeText(u),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,u)=>String.fromCharCode(parseInt(u,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,i){const s=e("../../../doc/enums"),o=e("../../../utils/utils"),u=e("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,d)=>(c[d]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,d)=>(c[d]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=o.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=o.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},a={toXml(c){if(c=l.textRotation(c)){if(c==="vertical")return 255;const d=Math.round(c);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(c){const d=o.validInt(c);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};n.exports=class extends u{get tag(){return"alignment"}render(c,d){c.addRollback(),c.openNode("alignment");let h=!1;function f(m,y){y&&(c.addAttribute(m,y),h=!0)}f("horizontal",l.horizontal(d.horizontal)),f("vertical",l.vertical(d.vertical)),f("wrapText",!!l.wrapText(d.wrapText)&&"1"),f("shrinkToFit",!!l.shrinkToFit(d.shrinkToFit)&&"1"),f("indent",l.indent(d.indent)),f("textRotation",a.toXml(d.textRotation)),f("readingOrder",l.readingOrder(d.readingOrder)),c.closeNode(),h?c.commit():c.rollback()}parseOpen(c){const d={};let h=!1;function f(m,y,p){m&&(d[y]=p,h=!0)}f(c.attributes.horizontal,"horizontal",c.attributes.horizontal),f(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),f(c.attributes.wrapText,"wrapText",o.parseBoolean(c.attributes.wrapText)),f(c.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(c.attributes.shrinkToFit)),f(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),f(c.attributes.textRotation,"textRotation",a.toModel(c.attributes.textRotation)),f(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,i){const s=e("../base-xform"),o=e("../../../utils/utils"),u=e("./color-xform");class l extends s{constructor(c){super(),this.name=c,this.map={color:new u}}get tag(){return this.name}render(c,d,h){const f=d&&d.color||h||this.defaultColor;c.openNode(this.name),d&&d.style&&(c.addAttribute("style",d.style),f&&this.map.color.render(c,f)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:d}=c.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return l.validStyleValues[c]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,c)=>(a[c]=!0,a),{}),n.exports=class extends s{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(a,c){const{color:d}=c;function h(f,m){f&&!f.color&&c.color&&(f={...f,color:c.color}),m.render(a,f,d)}a.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&a.addAttribute("diagonalUp","1"),c.diagonal.down&&a.addAttribute("diagonalDown","1")),h(c.left,this.map.left),h(c.right,this.map.right),h(c.top,this.map.top),h(c.bottom,this.map.bottom),h(c.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){const c=this.model={},d=function(h,f,m){f&&(m&&Object.assign(f,m),c[h]=f)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,u){return!!u&&(o.openNode(this.name),u.argb?o.addAttribute("rgb",u.argb):u.theme!==void 0?(o.addAttribute("theme",u.theme),u.tint!==void 0&&o.addAttribute("tint",u.tint)):u.indexed!==void 0?o.addAttribute("indexed",u.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,i){const s=e("../base-xform"),o=e("./alignment-xform"),u=e("./border-xform"),l=e("./fill-xform"),a=e("./font-xform"),c=e("./numfmt-xform"),d=e("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new o,border:new u,fill:new l,font:new a,numFmt:new c,protection:new d}}get tag(){return"dxf"}render(h,f){if(h.openNode(this.tag),f.font&&this.map.font.render(h,f.font),f.numFmt&&f.numFmtId){const m={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(h,m)}f.fill&&this.map.fill.render(h,f.fill),f.alignment&&this.map.alignment.render(h,f.alignment),f.border&&this.map.border.render(h,f.border),f.protection&&this.map.protection.render(h,f.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,i){const s=e("../base-xform"),o=e("./color-xform");class u extends s{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(h,f){h.openNode("stop"),h.addAttribute("position",f.position),this.map.color.render(h,f.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends s{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,f){h.openNode("patternFill"),h.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(h,f.fgColor),f.bgColor&&this.map.bgColor.render(h,f.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class a extends s{constructor(){super(),this.map={stop:new u}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,f){switch(h.openNode("gradientFill"),f.gradient){case"angle":h.addAttribute("degree",f.degree);break;case"path":h.addAttribute("type","path"),f.center.left&&(h.addAttribute("left",f.center.left),f.center.right===void 0&&h.addAttribute("right",f.center.left)),f.center.right&&h.addAttribute("right",f.center.right),f.center.top&&(h.addAttribute("top",f.center.top),f.center.bottom===void 0&&h.addAttribute("bottom",f.center.top)),f.center.bottom&&h.addAttribute("bottom",f.center.bottom)}const m=this.map.stop;f.stops.forEach(y=>{m.render(h,y)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const f=this.model={stops:[]};return h.attributes.degree?(f.gradient="angle",f.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(f.gradient="path",f.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(f.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(f.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends s{constructor(){super(),this.map={patternFill:new l,gradientFill:new a}}get tag(){return"fill"}render(h,f){switch(h.addRollback(),h.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(h,f);break;case"gradient":this.map.gradientFill.render(h,f);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return c.validPatternValues[h]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,h)=>(d[h]=!0,d),{}),c.StopXform=u,c.PatternFillXform=l,c.GradientFillXform=a,n.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,i){const s=e("./color-xform"),o=e("../simple/boolean-xform"),u=e("../simple/integer-xform"),l=e("../simple/string-xform"),a=e("./underline-xform"),c=e("../../../utils/under-dash"),d=e("../base-xform");class h extends d{constructor(m){super(),this.options=m||h.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new u({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new u({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new u({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(m,y){const{map:p}=this;m.openNode(this.options.tagName),c.each(this.map,(b,g)=>{p[g].xform.render(m,y[b.prop])}),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;if(this.map[m.name])return this.parser=this.map[m.name].xform,this.parser.parseOpen(m);switch(m.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser&&!this.parser.parseClose(m)){const y=this.map[m];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(m){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../defaultnumformats"),u=e("../base-xform"),l=function(){const c={};return s.each(o,(d,h)=>{d.f&&(c[d.f]=parseInt(h,10))}),c}();class a extends u{constructor(d,h){super(),this.id=d,this.formatCode=h}get tag(){return"numFmt"}render(d,h){d.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(c){return l[c]},a.getDefaultFmtCode=function(c){return o[c]&&o[c].f},n.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,i){const s=e("../base-xform"),o={boolean:(u,l)=>u===void 0?l:u};n.exports=class extends s{get tag(){return"protection"}render(u,l){u.addRollback(),u.openNode("protection");let a=!1;function c(d,h){h!==void 0&&(u.addAttribute(d,h),a=!0)}c("locked",o.boolean(l.locked,!0)?void 0:"0"),c("hidden",o.boolean(l.hidden,!1)?"1":void 0),u.closeNode(),a?u.commit():u.rollback()}parseOpen(u){const l={locked:u.attributes.locked!=="0",hidden:u.attributes.hidden==="1"},a=!l.locked||l.hidden;this.model=a?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,i){const s=e("../base-xform"),o=e("./alignment-xform"),u=e("./protection-xform");n.exports=class extends s{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new o,protection:new u}}get tag(){return"xf"}render(l,a){l.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&l.addAttribute("xfId",a.xfId||0),a.numFmtId&&l.addAttribute("applyNumberFormat","1"),a.fontId&&l.addAttribute("applyFont","1"),a.fillId&&l.addAttribute("applyFill","1"),a.borderId&&l.addAttribute("applyBorder","1"),a.alignment&&l.addAttribute("applyAlignment","1"),a.protection&&l.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(l,a.alignment),a.protection&&this.map.protection.render(l,a.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,i){const s=e("../../../doc/enums"),o=e("../../../utils/xml-stream"),u=e("../base-xform"),l=e("../static-xform"),a=e("../list-xform"),c=e("./font-xform"),d=e("./fill-xform"),h=e("./border-xform"),f=e("./numfmt-xform"),m=e("./style-xform"),y=e("./dxf-xform");class p extends u{constructor(g){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new f}),fonts:new a({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new d}),borders:new a({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new m}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new m({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new f,font:new c,fill:new d,border:new h,style:new m({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},g&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(g,w){w=w||this.model,g.openXml(o.StdDocAttributes),g.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(g.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(k=>{g.writeXml(k)}),g.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),g.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(k=>{g.writeXml(k)}),g.closeNode(),g.openNode("fills",{count:w.fills.length}),w.fills.forEach(k=>{g.writeXml(k)}),g.closeNode(),g.openNode("borders",{count:w.borders.length}),w.borders.forEach(k=>{g.writeXml(k)}),g.closeNode(),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),g.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(k=>{g.writeXml(k)}),g.closeNode()):(this.map.numFmts.render(g,w.numFmts),this.map.fonts.render(g,w.fonts),this.map.fills.render(g,w.fills),this.map.borders.render(g,w.borders),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(g,w.styles)),p.STATIC_XFORMS.cellStyles.render(g),this.map.dxfs.render(g,w.dxfs),p.STATIC_XFORMS.tableStyles.render(g),p.STATIC_XFORMS.extLst.render(g),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"styleSheet":{this.model={};const w=(k,A)=>{A.model&&A.model.length&&(this.model[k]=A.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const k=this.index.numFmt;this.model.numFmts.forEach(A=>{k[A.id]=A.formatCode})}return!1}default:return!0}}addStyleModel(g,w){if(!g)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(g))return this.weakMap.get(g);const k={};if(w=w||s.ValueType.Number,g.numFmt)k.numFmtId=this._addNumFmtStr(g.numFmt);else switch(w){case s.ValueType.Number:k.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:k.numFmtId=this._addNumFmtStr("mm-dd-yy")}g.font&&(k.fontId=this._addFont(g.font)),g.border&&(k.borderId=this._addBorder(g.border)),g.fill&&(k.fillId=this._addFill(g.fill)),g.alignment&&(k.alignment=g.alignment),g.protection&&(k.protection=g.protection);const A=this._addStyle(k);return this.weakMap&&this.weakMap.set(g,A),A}getStyleModel(g){const w=this.model.styles[g];if(!w)return null;let k=this.index.model[g];if(k)return k;if(k=this.index.model[g]={},w.numFmtId){const U=this.index.numFmt[w.numFmtId]||f.getDefaultFmtCode(w.numFmtId);U&&(k.numFmt=U)}function A(U,V,R){if(R||R===0){const N=V[R];N&&(k[U]=N)}}return A("font",this.model.fonts,w.fontId),A("border",this.model.borders,w.borderId),A("fill",this.model.fills,w.fillId),w.alignment&&(k.alignment=w.alignment),w.protection&&(k.protection=w.protection),k}addDxfStyle(g){return g.numFmt&&(g.numFmtId=this._addNumFmtStr(g.numFmt)),this.model.dxfs.push(g),this.model.dxfs.length-1}getDxfStyle(g){return this.model.dxfs[g]}_addStyle(g){const w=this.map.style.toXml(g);let k=this.index.style[w];return k===void 0&&(k=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),k}_addNumFmtStr(g){let w=f.getDefaultFmtId(g);if(w!==void 0||(w=this.index.numFmt[g],w!==void 0))return w;w=this.index.numFmt[g]=164+this.model.numFmts.length;const k=this.map.numFmt.toXml({id:w,formatCode:g});return this.model.numFmts.push(k),w}_addFont(g){const w=this.map.font.toXml(g);let k=this.index.font[w];return k===void 0&&(k=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),k}_addBorder(g){const w=this.map.border.toXml(g);let k=this.index.border[w];return k===void 0&&(k=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),k}_addFill(g){const w=this.map.fill.toXml(g);let k=this.index.fill[w];return k===void 0&&(k=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),k}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(b){return b.autodrain(),Promise.resolve()}addStyleModel(b,g){switch(g){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const b={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(b)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,i){const s=e("../base-xform");class o extends s{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,a){if((a=a||this.model)===!0)l.leafNode("u");else{const c=o.Attributes[a];c&&l.leafNode("u",c)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(e,n,i){const s=e("../base-xform"),o=e("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(u){u.columns.forEach((l,a)=>{this.map.filterColumn.prepare(l,{index:a})})}render(u,l){return u.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(a=>{this.map.filterColumn.render(u,a)}),u.closeNode(),!0}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.model={autoFilterRef:u.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(o,u){o.leafNode(this.tag,{val:u.val,operator:u.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,i){const s=e("../base-xform"),o=e("../list-xform"),u=e("./custom-filter-xform"),l=e("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new u}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(a,c){a.colId=c.index.toString()}render(a,c){return c.customFilters?(a.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(a,c.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;const{attributes:c}=a;switch(a.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(o,u){o.leafNode(this.tag,{val:u.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(o,u){o.id=u.index+1}render(o,u){return o.leafNode(this.tag,{id:u.id.toString(),name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:u}=o;return this.model={name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(o,u){return o.leafNode(this.tag,{name:u.theme?u.theme:void 0,showFirstColumn:u.showFirstColumn?"1":"0",showLastColumn:u.showLastColumn?"1":"0",showRowStripes:u.showRowStripes?"1":"0",showColumnStripes:u.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:u}=o;return this.model={theme:u.name?u.name:null,showFirstColumn:u.showFirstColumn==="1",showLastColumn:u.showLastColumn==="1",showRowStripes:u.showRowStripes==="1",showColumnStripes:u.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("../list-xform"),l=e("./auto-filter-xform"),a=e("./table-column-xform"),c=e("./table-style-info-xform");class d extends o{constructor(){super(),this.map={autoFilter:new l,tableColumns:new u({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new c}}prepare(f,m){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,m)}get tag(){return"table"}render(f,m){f.openXml(s.StdDocAttributes),f.openNode(this.tag,{...d.TABLE_ATTRIBUTES,id:m.id,name:m.name,displayName:m.displayName||m.name,ref:m.tableRef,totalsRowCount:m.totalsRow?"1":void 0,totalsRowShown:m.totalsRow?void 0:"1",headerRowCount:m.headerRow?"1":"0"}),this.map.autoFilter.render(f,m),this.map.tableColumns.render(f,m.columns),this.map.tableStyleInfo.render(f,m.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:m,attributes:y}=f;switch(m){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((m,y)=>{this.model.columns[y].filterButton=m.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,m){f.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=m.styles.getDxfStyle(y.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,i){(function(s,o){(function(){const u=e("fs"),l=e("jszip"),{PassThrough:a}=e("readable-stream"),c=e("../utils/zip-stream"),d=e("../utils/stream-buf"),h=e("../utils/utils"),f=e("../utils/xml-stream"),{bufferToString:m}=e("../utils/browser-buffer-decode"),y=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),b=e("./xform/strings/shared-strings-xform"),g=e("./xform/core/relationships-xform"),w=e("./xform/core/content-types-xform"),k=e("./xform/core/app-xform"),A=e("./xform/book/workbook-xform"),U=e("./xform/sheet/worksheet-xform"),V=e("./xform/drawing/drawing-xform"),R=e("./xform/table/table-xform"),N=e("./xform/comment/comments-xform"),L=e("./xform/comment/vml-notes-xform"),z=e("./xml/theme1");class O{constructor(P){this.workbook=P}async readFile(P,E){if(!await h.fs.exists(P))throw new Error("File not found: "+P);const v=u.createReadStream(P);try{const x=await this.read(v,E);return v.close(),x}catch(x){throw v.close(),x}}parseRels(P){return new g().parseStream(P)}parseWorkbook(P){return new A().parseStream(P)}parseSharedStrings(P){return new b().parseStream(P)}reconcile(P,E){const v=new A,x=new U(E),_=new V,S=new R;v.reconcile(P);const C={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(H=>{const W=P.drawings[H],Y=P.drawingRels[H];Y&&(C.rels=Y.reduce((B,G)=>(B[G.Id]=G,B),{}),(W.anchors||[]).forEach(B=>{const G=B.picture&&B.picture.hyperlinks;G&&C.rels[G.rId]&&(G.hyperlink=C.rels[G.rId].Target,delete G.rId)}),_.reconcile(W,C))});const j={styles:P.styles};Object.values(P.tables).forEach(H=>{S.reconcile(H,j)});const F={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(H=>{H.relationships=P.worksheetRels[H.sheetNo],x.reconcile(H,F)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,E,v,x,_){const S=new U(x),C=await S.parseStream(P);C.sheetNo=v,E.worksheetHash[_]=C,E.worksheets.push(C)}async _processCommentEntry(P,E,v){const x=new N,_=await x.parseStream(P);E.comments[`../${v}.xml`]=_}async _processTableEntry(P,E,v){const x=new R,_=await x.parseStream(P);E.tables[`../tables/${v}.xml`]=_}async _processWorksheetRelsEntry(P,E,v){const x=new g,_=await x.parseStream(P);E.worksheetRels[v]=_}async _processMediaEntry(P,E,v){const x=v.lastIndexOf(".");if(x>=1){const _=v.substr(x+1),S=v.substr(0,x);await new Promise((C,j)=>{const F=new d;F.on("finish",()=>{E.mediaIndex[v]=E.media.length,E.mediaIndex[S]=E.media.length;const H={type:"image",name:S,extension:_,buffer:F.toBuffer()};E.media.push(H),C()}),P.on("error",H=>{j(H)}),P.pipe(F)})}}async _processDrawingEntry(P,E,v){const x=new V,_=await x.parseStream(P);E.drawings[v]=_}async _processDrawingRelsEntry(P,E,v){const x=new g,_=await x.parseStream(P);E.drawingRels[v]=_}async _processVmlDrawingEntry(P,E,v){const x=new L,_=await x.parseStream(P);E.vmlDrawings[`../drawings/${v}.vml`]=_}async _processThemeEntry(P,E,v){await new Promise((x,_)=>{const S=new d;P.on("error",_),S.on("error",_),S.on("finish",()=>{E.themes[v]=S.read().toString(),x()}),P.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,E){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new a));const v=[];for await(const x of P)v.push(x);return this.load(o.concat(v),E)}async load(P,E){let v;v=E&&E.base64?o.from(P.toString(),"base64"):P;const x={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},_=await l.loadAsync(v);for(const S of Object.values(_.files))if(!S.dir){let C,j=S.name;if(j[0]==="/"&&(j=j.substr(1)),j.match(/xl\/media\//)||j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))C=new a,C.write(await S.async("nodebuffer"));else{let F;C=new a({writableObjectMode:!0,readableObjectMode:!0}),F=s.browser?m(await S.async("nodebuffer")):await S.async("string");const H=16384;for(let W=0;W<F.length;W+=H)C.write(F.substring(W,W+H))}switch(C.end(),j){case"_rels/.rels":x.globalRels=await this.parseRels(C);break;case"xl/workbook.xml":{const F=await this.parseWorkbook(C);x.sheets=F.sheets,x.definedNames=F.definedNames,x.views=F.views,x.properties=F.properties,x.calcProperties=F.calcProperties;break}case"xl/_rels/workbook.xml.rels":x.workbookRels=await this.parseRels(C);break;case"xl/sharedStrings.xml":x.sharedStrings=new b,await x.sharedStrings.parseStream(C);break;case"xl/styles.xml":x.styles=new y,await x.styles.parseStream(C);break;case"docProps/app.xml":{const F=new k,H=await F.parseStream(C);x.company=H.company,x.manager=H.manager;break}case"docProps/core.xml":{const F=new p,H=await F.parseStream(C);Object.assign(x,H);break}default:{let F=j.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(F){await this._processWorksheetEntry(C,x,F[1],E,j);break}if(F=j.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),F){await this._processWorksheetRelsEntry(C,x,F[1]);break}if(F=j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),F){await this._processThemeEntry(C,x,F[1]);break}if(F=j.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),F){await this._processMediaEntry(C,x,F[1]);break}if(F=j.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),F){await this._processDrawingEntry(C,x,F[1]);break}if(F=j.match(/xl\/(comments\d+)[.]xml/),F){await this._processCommentEntry(C,x,F[1]);break}if(F=j.match(/xl\/tables\/(table\d+)[.]xml/),F){await this._processTableEntry(C,x,F[1]);break}if(F=j.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),F){await this._processDrawingRelsEntry(C,x,F[1]);break}if(F=j.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),F){await this._processVmlDrawingEntry(C,x,F[1]);break}}}}return this.reconcile(x,E),this.workbook.model=x,this.workbook}async addMedia(P,E){await Promise.all(E.media.map(async v=>{if(v.type==="image"){const x=`xl/media/${v.name}.${v.extension}`;if(v.filename){const _=await function(S,C){return new Promise((j,F)=>{u.readFile(S,C,(H,W)=>{H?F(H):j(W)})})}(v.filename);return P.append(_,{name:x})}if(v.buffer)return P.append(v.buffer,{name:x});if(v.base64){const _=v.base64,S=_.substring(_.indexOf(",")+1);return P.append(S,{name:x,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,E){const v=new V,x=new g;E.worksheets.forEach(_=>{const{drawing:S}=_;if(S){v.prepare(S,{});let C=v.toXml(S);P.append(C,{name:`xl/drawings/${S.name}.xml`}),C=x.toXml(S.rels),P.append(C,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(P,E){const v=new R;E.worksheets.forEach(x=>{const{tables:_}=x;_.forEach(S=>{v.prepare(S,{});const C=v.toXml(S);P.append(C,{name:"xl/tables/"+S.target})})})}async addContentTypes(P,E){const v=new w().toXml(E);P.append(v,{name:"[Content_Types].xml"})}async addApp(P,E){const v=new k().toXml(E);P.append(v,{name:"docProps/app.xml"})}async addCore(P,E){const v=new p;P.append(v.toXml(E),{name:"docProps/core.xml"})}async addThemes(P,E){const v=E.themes||{theme1:z};Object.keys(v).forEach(x=>{const _=v[x],S=`xl/theme/${x}.xml`;P.append(_,{name:S})})}async addOfficeRels(P){const E=new g().toXml([{Id:"rId1",Type:O.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:O.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:O.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(E,{name:"_rels/.rels"})}async addWorkbookRels(P,E){let v=1;const x=[{Id:"rId"+v++,Type:O.RelType.Styles,Target:"styles.xml"},{Id:"rId"+v++,Type:O.RelType.Theme,Target:"theme/theme1.xml"}];E.sharedStrings.count&&x.push({Id:"rId"+v++,Type:O.RelType.SharedStrings,Target:"sharedStrings.xml"}),E.worksheets.forEach(S=>{S.rId="rId"+v++,x.push({Id:S.rId,Type:O.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const _=new g().toXml(x);P.append(_,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,E){E.sharedStrings&&E.sharedStrings.count&&P.append(E.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,E){const{xml:v}=E.styles;v&&P.append(v,{name:"xl/styles.xml"})}async addWorkbook(P,E){const v=new A;P.append(v.toXml(E),{name:"xl/workbook.xml"})}async addWorksheets(P,E){const v=new U,x=new g,_=new N,S=new L;E.worksheets.forEach(C=>{let j=new f;v.render(j,C),P.append(j.xml,{name:`xl/worksheets/sheet${C.id}.xml`}),C.rels&&C.rels.length&&(j=new f,x.render(j,C.rels),P.append(j.xml,{name:`xl/worksheets/_rels/sheet${C.id}.xml.rels`})),C.comments.length>0&&(j=new f,_.render(j,C),P.append(j.xml,{name:`xl/comments${C.id}.xml`}),j=new f,S.render(j,C),P.append(j.xml,{name:`xl/drawings/vmlDrawing${C.id}.vml`}))})}_finalize(P){return new Promise((E,v)=>{P.on("finish",()=>{E(this)}),P.on("error",v),P.finalize()})}prepareModel(P,E){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=E.useSharedStrings===void 0||E.useSharedStrings,P.useStyles=E.useStyles===void 0||E.useStyles,P.sharedStrings=new b,P.styles=P.useStyles?new y(!0):new y.Mock;const v=new A,x=new U;v.prepare(P);const _={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};_.drawings=P.drawings=[],_.commentRefs=P.commentRefs=[];let S=0;P.tables=[],P.worksheets.forEach(C=>{C.tables.forEach(j=>{S++,j.target=`table${S}.xml`,j.id=S,P.tables.push(j)}),x.prepare(C,_)})}async write(P,E){E=E||{};const{model:v}=this.workbook,x=new c.ZipWriter(E.zip);return x.pipe(P),this.prepareModel(v,E),await this.addContentTypes(x,v),await this.addOfficeRels(x,v),await this.addWorkbookRels(x,v),await this.addWorksheets(x,v),await this.addSharedStrings(x,v),await this.addDrawings(x,v),await this.addTables(x,v),await Promise.all([this.addThemes(x,v),this.addStyles(x,v)]),await this.addMedia(x,v),await Promise.all([this.addApp(x,v),this.addCore(x,v)]),await this.addWorkbook(x,v),this._finalize(x)}writeFile(P,E){const v=u.createWriteStream(P);return new Promise((x,_)=>{v.on("finish",()=>{x()}),v.on("error",S=>{_(S)}),this.write(v,E).then(()=>{v.end()}).catch(S=>{_(S)})})}async writeBuffer(P){const E=new d;return await this.write(E,P),E.read()}}O.RelType=e("./rel-type"),n.exports=O}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const o=e("stream"),u=e("./formatter");class l extends o.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new u.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,d,h){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(m,y)=>m?(f=!0,h(m)):(y&&y.forEach(p=>{this.push(s.from(p,"utf8"))}),f=!0,h()))}catch(m){if(f)throw m;h(m)}}_flush(c){this.rowFormatter.finish((d,h)=>d?c(d):(h&&h.forEach(f=>{this.push(s.from(f,"utf8"))}),c()))}}i.CsvFormatterStream=l}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),(s==null?void 0:s.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(s==null?void 0:s.quote)===!0?this.quote='"':(s==null?void 0:s.quote)===!1&&(this.quote=""),typeof(s==null?void 0:s.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=s.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,i){var s=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const o=s(e("lodash.isboolean")),u=s(e("lodash.isnil")),l=s(e("lodash.escaperegexp"));i.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");const c=`[${a.delimiter}${l.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(a){this._headers=a}shouldQuote(a,c){const d=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(d)?d:Array.isArray(d)?d[a]:this._headers!==null&&d[this._headers[a]]}format(a,c,d){const h=(""+(u.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&h.indexOf(f.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,f.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,d)?this.quoteField(h):h}quoteField(a){const{quote:c}=this.formatterOptions;return`${c}${a}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,i){var s=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const o=s(e("lodash.isfunction")),u=s(e("lodash.isequal")),l=e("./FieldFormatter"),a=e("../types");class c{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return c.isRowHashArray(h)?h.map(f=>f[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return a.isSyncTransform(h)?(f,m)=>{let y=null;try{y=h(f)}catch(p){return m(p)}return m(null,y)}:(f,m)=>{h(f,m)}}set rowTransform(h){if(!o.default(h))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(h)}format(h,f){this.callTransformer(h,(m,y)=>{if(m)return f(m);if(!h)return f(null);const p=[];if(y){const{shouldFormatColumns:b,headers:g}=this.checkHeaders(y);if(this.shouldWriteHeaders&&g&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(g,!0)),this.hasWrittenHeaders=!0),b){const w=this.gatherColumns(y);p.push(this.formatColumns(w,!1))}}return f(null,p)})}finish(h){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),h(null,f)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=c.gatherHeaders(h);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!u.default(f,h),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?c.isRowHashArray(h)?this.headers.map((f,m)=>{const y=h[m];return y?y[1]:""}):c.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((f,m)=>h[m]):this.headers.map(f=>h[f])}callTransformer(h,f){return this._rowTransform?this._rowTransform(h,f):f(null,h)}formatColumns(h,f){const m=h.map((p,b)=>this.fieldFormatter.format(p,b,f)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,m].join(""):m}}i.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=e("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var o=e("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,i){(function(s){(function(){var o=Object.create?function(b,g,w,k){k===void 0&&(k=w),Object.defineProperty(b,k,{enumerable:!0,get:function(){return g[w]}})}:function(b,g,w,k){k===void 0&&(k=w),b[k]=g[w]},u=Object.create?function(b,g){Object.defineProperty(b,"default",{enumerable:!0,value:g})}:function(b,g){b.default=g},l=function(b){if(b&&b.__esModule)return b;var g={};if(b!=null)for(var w in b)w!=="default"&&Object.prototype.hasOwnProperty.call(b,w)&&o(g,b,w);return u(g,b),g},a=function(b,g){for(var w in b)w==="default"||Object.prototype.hasOwnProperty.call(g,w)||o(g,b,w)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const c=e("util"),d=e("stream"),h=l(e("fs")),f=e("./FormatterOptions"),m=e("./CsvFormatterStream");a(e("./types"),i);var y=e("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),i.format=b=>new m.CsvFormatterStream(new f.FormatterOptions(b)),i.write=(b,g)=>{const w=i.format(g),k=c.promisify((A,U)=>{w.write(A,void 0,U)});return b.reduce((A,U)=>A.then(()=>k(U)),Promise.resolve()).then(()=>w.end()).catch(A=>{w.emit("error",A)}),w},i.writeToStream=(b,g,w)=>i.write(g,w).pipe(b),i.writeToBuffer=function(b){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],k=new d.Writable({write(A,U,V){w.push(A),V()}});return new Promise((A,U)=>{k.on("error",U).on("finish",()=>A(s.concat(w))),i.write(b,g).pipe(k)})},i.writeToString=(b,g)=>i.writeToBuffer(b,g).then(w=>w.toString()),i.writeToPath=(b,g,w)=>{const k=h.createWriteStream(b,{encoding:"utf8"});return i.write(g,w).pipe(k)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const o=e("string_decoder"),u=e("stream"),l=e("./transforms"),a=e("./parser");class c extends u.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new a.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new o.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,m=new Array(f>1?f-1:0),y=1;y<f;y++)m[y-1]=arguments[y];return super.emit(h,...m)}_transform(h,f,m){if(this.hasHitRowLimit)return m();const y=c.wrapDoneCallback(m);try{const{lines:p}=this,b=p+this.decoder.write(h),g=this.parse(b,!0);return this.processRows(g,y)}catch(p){return y(p)}}_flush(h){const f=c.wrapDoneCallback(h);if(this.hasHitRowLimit)return f();try{const m=this.lines+this.decoder.end(),y=this.parse(m,!1);return this.processRows(y,f)}catch(m){return f(m)}}parse(h,f){if(!h)return[];const{line:m,rows:y}=this.parser.parse(h,f);return this.lines=m,y}processRows(h,f){const m=h.length,y=p=>{const b=k=>k?f(k):p%100!=0?y(p+1):void s(()=>y(p+1));if(this.checkAndEmitHeaders(),p>=m||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return b();const g=h[p];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(g,(k,A)=>{if(k)return this.rowCount-=1,b(k);if(!A)return b(new Error("expected transform result"));if(A.isValid){if(A.row)return this.pushRow(A.row,b)}else this.emit("data-invalid",A.row,w,A.reason);return b()})};y(0)}transformRow(h,f){try{this.headerTransformer.transform(h,(m,y)=>m?f(m):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:h}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(m){f(m)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,f){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),f()}catch(m){f(m)}}static wrapDoneCallback(h){let f=!1;return function(m){if(m){if(f)throw m;return f=!0,void h(m)}for(var y=arguments.length,p=new Array(y>1?y-1:0),b=1;b<y;b++)p[b-1]=arguments[b];h(...p)}}}i.CsvParserStream=c}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const o=s(e("lodash.escaperegexp")),u=s(e("lodash.isnil"));i.ParserOptions=class{constructor(l){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!u.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,i){var s=Object.create?function(y,p,b,g){g===void 0&&(g=b),Object.defineProperty(y,g,{enumerable:!0,get:function(){return p[b]}})}:function(y,p,b,g){g===void 0&&(g=b),y[g]=p[b]},o=Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p},u=function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&s(p,y,b);return o(p,y),p},l=function(y,p){for(var b in y)b==="default"||Object.prototype.hasOwnProperty.call(p,b)||s(p,y,b)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const a=u(e("fs")),c=e("stream"),d=e("./ParserOptions"),h=e("./CsvParserStream");l(e("./types"),i);var f=e("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var m=e("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return m.ParserOptions}}),i.parse=y=>new h.CsvParserStream(new d.ParserOptions(y)),i.parseStream=(y,p)=>y.pipe(new h.CsvParserStream(new d.ParserOptions(p))),i.parseFile=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(y).pipe(new h.CsvParserStream(new d.ParserOptions(p)))},i.parseString=(y,p)=>{const b=new c.Readable;return b.push(y),b.push(null),b.pipe(new h.CsvParserStream(new d.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=e("./Scanner"),o=e("./RowParser"),u=e("./Token");class l{constructor(c){this.parserOptions=c,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,d){const h=new s.Scanner({line:l.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(c){const d=[];let h=!0;for(;h;)h=this.parseRow(c,d);return{line:c.line,rows:d}}parseWithComments(c){const{parserOptions:d}=this,h=[];for(let f=c.nextCharacterToken;f!==null;f=c.nextCharacterToken)if(u.Token.isTokenComment(f,d)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:h};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:h};c.truncateToCursor()}else if(!this.parseRow(c,h))break;return{line:c.line,rows:h}}parseRow(c,d){if(!c.nextNonSpaceToken)return!1;const h=this.rowParser.parse(c);return h!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(h)||d.push(h),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=e("./column"),o=e("./Token");i.RowParser=class{constructor(u){this.parserOptions=u,this.columnParser=new s.ColumnParser(u)}static isEmptyRow(u){return u.join("").replace(/\s+/g,"")===""}parse(u){const{parserOptions:l}=this,{hasMoreData:a}=u,c=u,d=[];let h=this.getStartToken(c,d);for(;h;){if(o.Token.isTokenRowDelimiter(h))return c.advancePastToken(h),!c.hasMoreCharacters&&o.Token.isTokenCarriageReturn(h,l)&&a?null:(c.truncateToCursor(),d);if(!this.shouldSkipColumnParse(c,h,d)){const f=this.columnParser.parse(c);if(f===null)return null;d.push(f)}h=c.nextNonSpaceToken}return a?null:(c.truncateToCursor(),d)}getStartToken(u,l){const a=u.nextNonSpaceToken;return a!==null&&o.Token.isTokenDelimiter(a,this.parserOptions)?(l.push(""),u.nextNonSpaceToken):a}shouldSkipColumnParse(u,l,a){const{parserOptions:c}=this;if(o.Token.isTokenDelimiter(l,c)){u.advancePastToken(l);const d=u.nextCharacterToken;if(!u.hasMoreCharacters||d!==null&&o.Token.isTokenRowDelimiter(d)||d!==null&&o.Token.isTokenDelimiter(d,c))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=e("./Token"),o=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(u){this.cursor=0,this.line=u.line,this.lineLength=this.line.length,this.parserOptions=u.parserOptions,this.hasMoreData=u.hasMoreData,this.cursor=u.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:u}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(u.search(l)===-1)return null;const a=l.exec(u);if(a==null)return null;const c=a[1],d=this.cursor+(a.index||0);return new s.Token({token:c,startCursor:d,endCursor:d+c.length-1})}get nextCharacterToken(){const{cursor:u,lineLength:l}=this;return l<=u?null:new s.Token({token:this.line[u],startCursor:u,endCursor:u})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const u=o.exec(this.lineFromCursor);return u?(this.cursor+=(u.index||0)+u[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(u){return this.cursor=u,this}advanceToToken(u){return this.cursor=u.startCursor,this}advancePastToken(u){return this.cursor=u.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const o=s.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(s,o){return s.token===o.carriageReturn}static isTokenComment(s,o){return o.supportsComments&&!!s&&s.token===o.comment}static isTokenEscapeCharacter(s,o){return s.token===o.escapeChar}static isTokenQuote(s,o){return s.token===o.quote}static isTokenDelimiter(s,o){return s.token===o.delimiter}}},{}],160:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=o=>o.trim():s.ltrim?this.format=o=>o.trimLeft():s.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=e("./NonQuotedColumnParser"),o=e("./QuotedColumnParser"),u=e("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new o.QuotedColumnParser(l),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:a}=l;return a!==null&&u.Token.isTokenQuote(a,this.parserOptions)?(l.advanceToToken(a),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=e("./ColumnFormatter"),o=e("../Token");i.NonQuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new s.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const{parserOptions:l}=this,a=[];let c=u.nextCharacterToken;for(;c&&!o.Token.isTokenDelimiter(c,l)&&!o.Token.isTokenRowDelimiter(c);c=u.nextCharacterToken)a.push(c.token),u.advancePastToken(c);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=e("./ColumnFormatter"),o=e("../Token");i.QuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new s.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const l=u.cursor,{foundClosingQuote:a,col:c}=this.gatherDataBetweenQuotes(u);if(!a){if(u.advanceTo(l),!u.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${u.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(u),c}gatherDataBetweenQuotes(u){const{parserOptions:l}=this;let a=!1,c=!1;const d=[];let h=u.nextCharacterToken;for(;!c&&h!==null;h=u.nextCharacterToken){const f=o.Token.isTokenQuote(h,l);if(!a&&f)a=!0;else if(a)if(o.Token.isTokenEscapeCharacter(h,l)){u.advancePastToken(h);const m=u.nextCharacterToken;m!==null&&(o.Token.isTokenQuote(m,l)||o.Token.isTokenEscapeCharacter(m,l))?(d.push(m.token),h=m):f?c=!0:d.push(h.token)}else f?c=!0:d.push(h.token);u.advancePastToken(h)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:c}}checkForMalformedColumn(u){const{parserOptions:l}=this,{nextNonSpaceToken:a}=u;if(a){const c=o.Token.isTokenDelimiter(a,l),d=o.Token.isTokenRowDelimiter(a);if(!c&&!d){const h=u.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${a.token}'. at '${h}`)}u.advanceToToken(a)}else u.hasMoreData||u.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=e("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var o=e("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var u=e("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}});var l=e("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=e("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=e("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var u=e("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return u.Scanner}});var l=e("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var a=e("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const o=s(e("lodash.isundefined")),u=s(e("lodash.isfunction")),l=s(e("lodash.uniq")),a=s(e("lodash.groupby"));i.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):u.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,d){return this.shouldMapRow(c)?d(null,this.processRow(c)):d(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:d}=this;if(!d.discardUnmappedColumns&&c.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return d.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const d={},{headers:h,headersLength:f}=this;for(let m=0;m<f;m+=1){const y=h[m];if(!o.default(y)){const p=c[m];o.default(p)?d[y]="":d[y]=p}}return d}setHeaders(c){var d;const h=c.filter(f=>!!f);if(l.default(h).length!==h.length){const f=a.default(h),m=Object.keys(f).filter(y=>f[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(m))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,i){var s=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const o=s(e("lodash.isfunction")),u=e("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return u.isSyncTransform(c)?(d,h)=>{let f=null;try{f=c(d)}catch(m){return h(m)}return h(null,f)}:c}static createValidator(c){return u.isSyncValidate(c)?(d,h)=>{h(null,{row:d,isValid:c(d)})}:(d,h)=>{c(d,(f,m,y)=>f?h(f):h(null,m?{row:d,isValid:m,reason:y}:{row:d,isValid:!1,reason:y}))}}set rowTransform(c){if(!o.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}set rowValidator(c){if(!o.default(c))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(c)}transformAndValidate(c,d){return this.callTransformer(c,(h,f)=>h?d(h):f?this.callValidator(f,(m,y)=>m?d(m):y&&!y.isValid?d(null,{row:f,isValid:!1,reason:y.reason}):d(null,{row:f,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(c,d){return this._rowTransform?this._rowTransform(c,d):d(null,c)}callValidator(c,d){return this._rowValidator?this._rowValidator(c,d):d(null,{row:c,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=e("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var o=e("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(e,n,i){const s=i;s.bignum=e("bn.js"),s.define=e("./asn1/api").define,s.base=e("./asn1/base"),s.constants=e("./asn1/constants"),s.decoders=e("./asn1/decoders"),s.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,i){const s=e("./encoders"),o=e("./decoders"),u=e("inherits");function l(a,c){this.name=a,this.body=c,this.decoders={},this.encoders={}}i.define=function(a,c){return new l(a,c)},l.prototype._createNamed=function(a){const c=this.name;function d(h){this._initNamed(h,c)}return u(d,a),d.prototype._initNamed=function(h,f){a.call(this,h,f)},new d(this)},l.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(o[a])),this.decoders[a]},l.prototype.decode=function(a,c,d){return this._getDecoder(c).decode(a,d)},l.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(s[a])),this.encoders[a]},l.prototype.encode=function(a,c,d){return this._getEncoder(c).encode(a,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,i){const s=e("inherits"),o=e("../base/reporter").Reporter,u=e("safer-buffer").Buffer;function l(c,d){o.call(this,d),u.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function a(c,d){if(Array.isArray(c))this.length=0,this.value=c.map(function(h){return a.isEncoderBuffer(h)||(h=new a(h,d)),this.length+=h.length,h},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return d.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=u.byteLength(c);else{if(!u.isBuffer(c))return d.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}s(l,o),i.DecoderBuffer=l,l.isDecoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&u.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},l.prototype.restore=function(c){const d=new l(this.base);return d.offset=c.offset,d.length=this.offset,this.offset=c.offset,o.prototype.restore.call(this,c.reporter),d},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},l.prototype.skip=function(c,d){if(!(this.offset+c<=this.length))return this.error(d||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+c,this.offset+=c,h},l.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},i.EncoderBuffer=a,a.isEncoderBuffer=function(c){return c instanceof a?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},a.prototype.join=function(c,d){return c||(c=u.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(c,d),d+=h.length}):(typeof this.value=="number"?c[d]=this.value:typeof this.value=="string"?c.write(this.value,d):u.isBuffer(this.value)&&this.value.copy(c,d),d+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,i){const s=i;s.Reporter=e("./reporter").Reporter,s.DecoderBuffer=e("./buffer").DecoderBuffer,s.EncoderBuffer=e("./buffer").EncoderBuffer,s.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,i){const s=e("../base/reporter").Reporter,o=e("../base/buffer").EncoderBuffer,u=e("../base/buffer").DecoderBuffer,l=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function d(f,m,y){const p={};this._baseState=p,p.name=y,p.enc=f,p.parent=m||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=d;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){const f=this._baseState,m={};h.forEach(function(p){m[p]=f[p]});const y=new this.constructor(m.parent);return y._baseState=m,y},d.prototype._wrap=function(){const f=this._baseState;c.forEach(function(m){this[m]=function(){const y=new this.constructor(this);return f.children.push(y),y[m].apply(y,arguments)}},this)},d.prototype._init=function(f){const m=this._baseState;l(m.parent===null),f.call(this),m.children=m.children.filter(function(y){return y._baseState.parent===this},this),l.equal(m.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(f){const m=this._baseState,y=f.filter(function(p){return p instanceof this.constructor},this);f=f.filter(function(p){return!(p instanceof this.constructor)},this),y.length!==0&&(l(m.children===null),m.children=y,y.forEach(function(p){p._baseState.parent=this},this)),f.length!==0&&(l(m.args===null),m.args=f,m.reverseArgs=f.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const b={};return Object.keys(p).forEach(function(g){g==(0|g)&&(g|=0);const w=p[g];b[w]=g}),b}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){d.prototype[f]=function(){const m=this._baseState;throw new Error(f+" not implemented for encoding: "+m.enc)}}),a.forEach(function(f){d.prototype[f]=function(){const m=this._baseState,y=Array.prototype.slice.call(arguments);return l(m.tag===null),m.tag=f,this._useArgs(y),this}}),d.prototype.use=function(f){l(f);const m=this._baseState;return l(m.use===null),m.use=f,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(f){const m=this._baseState;return l(m.default===null),m.default=f,m.optional=!0,this},d.prototype.explicit=function(f){const m=this._baseState;return l(m.explicit===null&&m.implicit===null),m.explicit=f,this},d.prototype.implicit=function(f){const m=this._baseState;return l(m.explicit===null&&m.implicit===null),m.implicit=f,this},d.prototype.obj=function(){const f=this._baseState,m=Array.prototype.slice.call(arguments);return f.obj=!0,m.length!==0&&this._useArgs(m),this},d.prototype.key=function(f){const m=this._baseState;return l(m.key===null),m.key=f,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(f){const m=this._baseState;return l(m.choice===null),m.choice=f,this._useArgs(Object.keys(f).map(function(y){return f[y]})),this},d.prototype.contains=function(f){const m=this._baseState;return l(m.use===null),m.contains=f,this},d.prototype._decode=function(f,m){const y=this._baseState;if(y.parent===null)return f.wrapResult(y.children[0]._decode(f,m));let p,b=y.default,g=!0,w=null;if(y.key!==null&&(w=f.enterKey(y.key)),y.optional){let k=null;if(y.explicit!==null?k=y.explicit:y.implicit!==null?k=y.implicit:y.tag!==null&&(k=y.tag),k!==null||y.any){if(g=this._peekTag(f,k,y.any),f.isError(g))return g}else{const A=f.save();try{y.choice===null?this._decodeGeneric(y.tag,f,m):this._decodeChoice(f,m),g=!0}catch{g=!1}f.restore(A)}}if(y.obj&&g&&(p=f.enterObject()),g){if(y.explicit!==null){const A=this._decodeTag(f,y.explicit);if(f.isError(A))return A;f=A}const k=f.offset;if(y.use===null&&y.choice===null){let A;y.any&&(A=f.save());const U=this._decodeTag(f,y.implicit!==null?y.implicit:y.tag,y.any);if(f.isError(U))return U;y.any?b=f.raw(A):f=U}if(m&&m.track&&y.tag!==null&&m.track(f.path(),k,f.length,"tagged"),m&&m.track&&y.tag!==null&&m.track(f.path(),f.offset,f.length,"content"),y.any||(b=y.choice===null?this._decodeGeneric(y.tag,f,m):this._decodeChoice(f,m)),f.isError(b))return b;if(y.any||y.choice!==null||y.children===null||y.children.forEach(function(A){A._decode(f,m)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const A=new u(b);b=this._getUse(y.contains,f._reporterState.obj)._decode(A,m)}}return y.obj&&g&&(b=f.leaveObject(p)),y.key===null||b===null&&g!==!0?w!==null&&f.exitKey(w):f.leaveKey(w,y.key,b),b},d.prototype._decodeGeneric=function(f,m,y){const p=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(m,f,p.args[0],y):/str$/.test(f)?this._decodeStr(m,f,y):f==="objid"&&p.args?this._decodeObjid(m,p.args[0],p.args[1],y):f==="objid"?this._decodeObjid(m,null,null,y):f==="gentime"||f==="utctime"?this._decodeTime(m,f,y):f==="null_"?this._decodeNull(m,y):f==="bool"?this._decodeBool(m,y):f==="objDesc"?this._decodeStr(m,f,y):f==="int"||f==="enum"?this._decodeInt(m,p.args&&p.args[0],y):p.use!==null?this._getUse(p.use,m._reporterState.obj)._decode(m,y):m.error("unknown tag: "+f)},d.prototype._getUse=function(f,m){const y=this._baseState;return y.useDecoder=this._use(f,m),l(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},d.prototype._decodeChoice=function(f,m){const y=this._baseState;let p=null,b=!1;return Object.keys(y.choice).some(function(g){const w=f.save(),k=y.choice[g];try{const A=k._decode(f,m);if(f.isError(A))return!1;p={type:g,value:A},b=!0}catch{return f.restore(w),!1}return!0},this),b?p:f.error("Choice not matched")},d.prototype._createEncoderBuffer=function(f){return new o(f,this.reporter)},d.prototype._encode=function(f,m,y){const p=this._baseState;if(p.default!==null&&p.default===f)return;const b=this._encodeValue(f,m,y);return b===void 0||this._skipDefault(b,m,y)?void 0:b},d.prototype._encodeValue=function(f,m,y){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(f,m||new s);let b=null;if(this.reporter=m,p.optional&&f===void 0){if(p.default===null)return;f=p.default}let g=null,w=!1;if(p.any)b=this._createEncoderBuffer(f);else if(p.choice)b=this._encodeChoice(f,m);else if(p.contains)g=this._getUse(p.contains,y)._encode(f,m),w=!0;else if(p.children)g=p.children.map(function(k){if(k._baseState.tag==="null_")return k._encode(null,m,f);if(k._baseState.key===null)return m.error("Child should have a key");const A=m.enterKey(k._baseState.key);if(typeof f!="object")return m.error("Child expected, but input is not object");const U=k._encode(f[k._baseState.key],m,f);return m.leaveKey(A),U},this).filter(function(k){return k}),g=this._createEncoderBuffer(g);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return m.error("Too many args for : "+p.tag);if(!Array.isArray(f))return m.error("seqof/setof, but data is not Array");const k=this.clone();k._baseState.implicit=null,g=this._createEncoderBuffer(f.map(function(A){const U=this._baseState;return this._getUse(U.args[0],f)._encode(A,m)},k))}else p.use!==null?b=this._getUse(p.use,y)._encode(f,m):(g=this._encodePrimitive(p.tag,f),w=!0);if(!p.any&&p.choice===null){const k=p.implicit!==null?p.implicit:p.tag,A=p.implicit===null?"universal":"context";k===null?p.use===null&&m.error("Tag could be omitted only for .use()"):p.use===null&&(b=this._encodeComposite(k,w,A,g))}return p.explicit!==null&&(b=this._encodeComposite(p.explicit,!1,"context",b)),b},d.prototype._encodeChoice=function(f,m){const y=this._baseState,p=y.choice[f.type];return p||l(!1,f.type+" not found in "+JSON.stringify(Object.keys(y.choice))),p._encode(f.value,m)},d.prototype._encodePrimitive=function(f,m){const y=this._baseState;if(/str$/.test(f))return this._encodeStr(m,f);if(f==="objid"&&y.args)return this._encodeObjid(m,y.reverseArgs[0],y.args[1]);if(f==="objid")return this._encodeObjid(m,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(m,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(m,y.args&&y.reverseArgs[0]);if(f==="bool")return this._encodeBool(m);if(f==="objDesc")return this._encodeStr(m,f);throw new Error("Unsupported tag: "+f)},d.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},d.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,i){const s=e("inherits");function o(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function u(l,a){this.path=l,this.rethrow(a)}i.Reporter=o,o.prototype.isError=function(l){return l instanceof u},o.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},o.prototype.restore=function(l){const a=this._reporterState;a.obj=l.obj,a.path=a.path.slice(0,l.pathLen)},o.prototype.enterKey=function(l){return this._reporterState.path.push(l)},o.prototype.exitKey=function(l){const a=this._reporterState;a.path=a.path.slice(0,l-1)},o.prototype.leaveKey=function(l,a,c){const d=this._reporterState;this.exitKey(l),d.obj!==null&&(d.obj[a]=c)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const l=this._reporterState,a=l.obj;return l.obj={},a},o.prototype.leaveObject=function(l){const a=this._reporterState,c=a.obj;return a.obj=l,c},o.prototype.error=function(l){let a;const c=this._reporterState,d=l instanceof u;if(a=d?l:new u(c.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!c.options.partial)throw a;return d||c.errors.push(a),a},o.prototype.wrapResult=function(l){const a=this._reporterState;return a.options.partial?{result:this.isError(l)?null:l,errors:a.errors}:l},s(u,Error),u.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,u),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(e,n,i){function s(o){const u={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const a=o[l];u[a]=l}),u}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(e,n,i){const s=i;s._reverse=function(o){const u={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const a=o[l];u[a]=l}),u},s.der=e("./der")},{"./der":176}],178:[function(e,n,i){const s=e("inherits"),o=e("bn.js"),u=e("../base/buffer").DecoderBuffer,l=e("../base/node"),a=e("../constants/der");function c(m){this.enc="der",this.name=m.name,this.entity=m,this.tree=new d,this.tree._init(m.body)}function d(m){l.call(this,"der",m)}function h(m,y){let p=m.readUInt8(y);if(m.isError(p))return p;const b=a.tagClass[p>>6],g=(32&p)==0;if((31&p)==31){let w=p;for(p=0;(128&w)==128;){if(w=m.readUInt8(y),m.isError(w))return w;p<<=7,p|=127&w}}else p&=31;return{cls:b,primitive:g,tag:p,tagStr:a.tag[p]}}function f(m,y,p){let b=m.readUInt8(p);if(m.isError(b))return b;if(!y&&b===128)return null;if(!(128&b))return b;const g=127&b;if(g>4)return m.error("length octect is too long");b=0;for(let w=0;w<g;w++){b<<=8;const k=m.readUInt8(p);if(m.isError(k))return k;b|=k}return b}n.exports=c,c.prototype.decode=function(m,y){return u.isDecoderBuffer(m)||(m=new u(m,y)),this.tree._decode(m,y)},s(d,l),d.prototype._peekTag=function(m,y,p){if(m.isEmpty())return!1;const b=m.save(),g=h(m,'Failed to peek tag: "'+y+'"');return m.isError(g)?g:(m.restore(b),g.tag===y||g.tagStr===y||g.tagStr+"of"===y||p)},d.prototype._decodeTag=function(m,y,p){const b=h(m,'Failed to decode tag of "'+y+'"');if(m.isError(b))return b;let g=f(m,b.primitive,'Failed to get length of "'+y+'"');if(m.isError(g))return g;if(!p&&b.tag!==y&&b.tagStr!==y&&b.tagStr+"of"!==y)return m.error('Failed to match tag: "'+y+'"');if(b.primitive||g!==null)return m.skip(g,'Failed to match body of: "'+y+'"');const w=m.save(),k=this._skipUntilEnd(m,'Failed to skip indefinite length body: "'+this.tag+'"');return m.isError(k)?k:(g=m.offset-w.offset,m.restore(w),m.skip(g,'Failed to match body of: "'+y+'"'))},d.prototype._skipUntilEnd=function(m,y){for(;;){const p=h(m,y);if(m.isError(p))return p;const b=f(m,p.primitive,y);if(m.isError(b))return b;let g;if(g=p.primitive||b!==null?m.skip(b):this._skipUntilEnd(m,y),m.isError(g))return g;if(p.tagStr==="end")break}},d.prototype._decodeList=function(m,y,p,b){const g=[];for(;!m.isEmpty();){const w=this._peekTag(m,"end");if(m.isError(w))return w;const k=p.decode(m,"der",b);if(m.isError(k)&&w)break;g.push(k)}return g},d.prototype._decodeStr=function(m,y){if(y==="bitstr"){const p=m.readUInt8();return m.isError(p)?p:{unused:p,data:m.raw()}}if(y==="bmpstr"){const p=m.raw();if(p.length%2==1)return m.error("Decoding of string type: bmpstr length mismatch");let b="";for(let g=0;g<p.length/2;g++)b+=String.fromCharCode(p.readUInt16BE(2*g));return b}if(y==="numstr"){const p=m.raw().toString("ascii");return this._isNumstr(p)?p:m.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return m.raw();if(y==="printstr"){const p=m.raw().toString("ascii");return this._isPrintstr(p)?p:m.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?m.raw().toString():m.error("Decoding of string type: "+y+" unsupported")},d.prototype._decodeObjid=function(m,y,p){let b;const g=[];let w=0,k=0;for(;!m.isEmpty();)k=m.readUInt8(),w<<=7,w|=127&k,!(128&k)&&(g.push(w),w=0);128&k&&g.push(w);const A=g[0]/40|0,U=g[0]%40;if(b=p?g:[A,U].concat(g.slice(1)),y){let V=y[b.join(" ")];V===void 0&&(V=y[b.join(".")]),V!==void 0&&(b=V)}return b},d.prototype._decodeTime=function(m,y){const p=m.raw().toString();let b,g,w,k,A,U;if(y==="gentime")b=0|p.slice(0,4),g=0|p.slice(4,6),w=0|p.slice(6,8),k=0|p.slice(8,10),A=0|p.slice(10,12),U=0|p.slice(12,14);else{if(y!=="utctime")return m.error("Decoding "+y+" time is not supported yet");b=0|p.slice(0,2),g=0|p.slice(2,4),w=0|p.slice(4,6),k=0|p.slice(6,8),A=0|p.slice(8,10),U=0|p.slice(10,12),b=b<70?2e3+b:1900+b}return Date.UTC(b,g-1,w,k,A,U,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(m){const y=m.readUInt8();return m.isError(y)?y:y!==0},d.prototype._decodeInt=function(m,y){const p=m.raw();let b=new o(p);return y&&(b=y[b.toString(10)]||b),b},d.prototype._use=function(m,y){return typeof m=="function"&&(m=m(y)),m._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,i){const s=e("inherits"),o=e("safer-buffer").Buffer,u=e("./der");function l(a){u.call(this,a),this.enc="pem"}s(l,u),n.exports=l,l.prototype.decode=function(a,c){const d=a.toString().split(/[\r\n]+/g),h=c.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let m=-1,y=-1;for(let g=0;g<d.length;g++){const w=d[g].match(f);if(w!==null&&w[2]===h){if(m!==-1){if(w[1]!=="END")break;y=g;break}if(w[1]!=="BEGIN")break;m=g}}if(m===-1||y===-1)throw new Error("PEM section not found for: "+h);const p=d.slice(m+1,y).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const b=o.from(p,"base64");return u.prototype.decode.call(this,b,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,i){const s=e("inherits"),o=e("safer-buffer").Buffer,u=e("../base/node"),l=e("../constants/der");function a(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new c,this.tree._init(h.body)}function c(h){u.call(this,"der",h)}function d(h){return h<10?"0"+h:h}n.exports=a,a.prototype.encode=function(h,f){return this.tree._encode(h,f).join()},s(c,u),c.prototype._encodeComposite=function(h,f,m,y){const p=function(w,k,A,U){let V;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),l.tagByName.hasOwnProperty(w))V=l.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return U.error("Unknown tag: "+w);V=w}return V>=31?U.error("Multi-octet tag encoding unsupported"):(k||(V|=32),V|=l.tagClassByName[A||"universal"]<<6,V)}(h,f,m,this.reporter);if(y.length<128){const w=o.alloc(2);return w[0]=p,w[1]=y.length,this._createEncoderBuffer([w,y])}let b=1;for(let w=y.length;w>=256;w>>=8)b++;const g=o.alloc(2+b);g[0]=p,g[1]=128|b;for(let w=1+b,k=y.length;k>0;w--,k>>=8)g[w]=255&k;return this._createEncoderBuffer([g,y])},c.prototype._encodeStr=function(h,f){if(f==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(f==="bmpstr"){const m=o.alloc(2*h.length);for(let y=0;y<h.length;y++)m.writeUInt16BE(h.charCodeAt(y),2*y);return this._createEncoderBuffer(m)}return f==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+f+" unsupported")},c.prototype._encodeObjid=function(h,f,m){if(typeof h=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=f[h].split(/[\s.]+/g);for(let g=0;g<h.length;g++)h[g]|=0}else if(Array.isArray(h)){h=h.slice();for(let g=0;g<h.length;g++)h[g]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!m){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let y=0;for(let g=0;g<h.length;g++){let w=h[g];for(y++;w>=128;w>>=7)y++}const p=o.alloc(y);let b=p.length-1;for(let g=h.length-1;g>=0;g--){let w=h[g];for(p[b--]=127&w;(w>>=7)>0;)p[b--]=128|127&w}return this._createEncoderBuffer(p)},c.prototype._encodeTime=function(h,f){let m;const y=new Date(h);return f==="gentime"?m=[d(y.getUTCFullYear()),d(y.getUTCMonth()+1),d(y.getUTCDate()),d(y.getUTCHours()),d(y.getUTCMinutes()),d(y.getUTCSeconds()),"Z"].join(""):f==="utctime"?m=[d(y.getUTCFullYear()%100),d(y.getUTCMonth()+1),d(y.getUTCDate()),d(y.getUTCHours()),d(y.getUTCMinutes()),d(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(m,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(h,f){if(typeof h=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=f[h]}if(typeof h!="number"&&!o.isBuffer(h)){const p=h.toArray();!h.sign&&128&p[0]&&p.unshift(0),h=o.from(p)}if(o.isBuffer(h)){let p=h.length;h.length===0&&p++;const b=o.alloc(p);return h.copy(b),h.length===0&&(b[0]=0),this._createEncoderBuffer(b)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let m=1;for(let p=h;p>=256;p>>=8)m++;const y=new Array(m);for(let p=y.length-1;p>=0;p--)y[p]=255&h,h>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(o.from(y))},c.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},c.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getEncoder("der").tree},c.prototype._skipDefault=function(h,f,m){const y=this._baseState;let p;if(y.default===null)return!1;const b=h.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,f,m).join()),b.length!==y.defaultBuffer.length)return!1;for(p=0;p<b.length;p++)if(b[p]!==y.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,i){const s=e("inherits"),o=e("./der");function u(l){o.call(this,l),this.enc="pem"}s(u,o),n.exports=u,u.prototype.encode=function(l,a){const c=o.prototype.encode.call(this,l).toString("base64"),d=["-----BEGIN "+a.label+"-----"];for(let h=0;h<c.length;h+=64)d.push(c.slice(h,h+64));return d.push("-----END "+a.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,i){(function(s,o){function u(T,P){if(!T)throw new Error(P||"Assertion failed")}function l(T,P){T.super_=P;var E=function(){};E.prototype=P.prototype,T.prototype=new E,T.prototype.constructor=T}function a(T,P,E){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(P!=="le"&&P!=="be"||(E=P,P=10),this._init(T||0,P||10,E||"be"))}var c;typeof s=="object"?s.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(T,P){var E=T.charCodeAt(P);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function h(T,P,E){var v=d(T,E);return E-1>=P&&(v|=d(T,E-1)<<4),v}function f(T,P,E,v){for(var x=0,_=Math.min(T.length,E),S=P;S<_;S++){var C=T.charCodeAt(S)-48;x*=v,x+=C>=49?C-49+10:C>=17?C-17+10:C}return x}a.isBN=function(T){return T instanceof a||T!==null&&typeof T=="object"&&T.constructor.wordSize===a.wordSize&&Array.isArray(T.words)},a.max=function(T,P){return T.cmp(P)>0?T:P},a.min=function(T,P){return T.cmp(P)<0?T:P},a.prototype._init=function(T,P,E){if(typeof T=="number")return this._initNumber(T,P,E);if(typeof T=="object")return this._initArray(T,P,E);P==="hex"&&(P=16),u(P===(0|P)&&P>=2&&P<=36);var v=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<T.length&&(P===16?this._parseHex(T,v,E):(this._parseBase(T,P,v),E==="le"&&this._initArray(this.toArray(),P,E)))},a.prototype._initNumber=function(T,P,E){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(u(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),P,E)},a.prototype._initArray=function(T,P,E){if(u(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var x,_,S=0;if(E==="be")for(v=T.length-1,x=0;v>=0;v-=3)_=T[v]|T[v-1]<<8|T[v-2]<<16,this.words[x]|=_<<S&67108863,this.words[x+1]=_>>>26-S&67108863,(S+=24)>=26&&(S-=26,x++);else if(E==="le")for(v=0,x=0;v<T.length;v+=3)_=T[v]|T[v+1]<<8|T[v+2]<<16,this.words[x]|=_<<S&67108863,this.words[x+1]=_>>>26-S&67108863,(S+=24)>=26&&(S-=26,x++);return this.strip()},a.prototype._parseHex=function(T,P,E){this.length=Math.ceil((T.length-P)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var x,_=0,S=0;if(E==="be")for(v=T.length-1;v>=P;v-=2)x=h(T,P,v)<<_,this.words[S]|=67108863&x,_>=18?(_-=18,S+=1,this.words[S]|=x>>>26):_+=8;else for(v=(T.length-P)%2==0?P+1:P;v<T.length;v+=2)x=h(T,P,v)<<_,this.words[S]|=67108863&x,_>=18?(_-=18,S+=1,this.words[S]|=x>>>26):_+=8;this.strip()},a.prototype._parseBase=function(T,P,E){this.words=[0],this.length=1;for(var v=0,x=1;x<=67108863;x*=P)v++;v--,x=x/P|0;for(var _=T.length-E,S=_%v,C=Math.min(_,_-S)+E,j=0,F=E;F<C;F+=v)j=f(T,F,F+v,P),this.imuln(x),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(S!==0){var H=1;for(j=f(T,F,T.length,P),F=0;F<S;F++)H*=P;this.imuln(H),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},a.prototype.copy=function(T){T.words=new Array(this.length);for(var P=0;P<this.length;P++)T.words[P]=this.words[P];T.length=this.length,T.negative=this.negative,T.red=this.red},a.prototype.clone=function(){var T=new a(null);return this.copy(T),T},a.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(T,P,E){E.negative=P.negative^T.negative;var v=T.length+P.length|0;E.length=v,v=v-1|0;var x=0|T.words[0],_=0|P.words[0],S=x*_,C=67108863&S,j=S/67108864|0;E.words[0]=C;for(var F=1;F<v;F++){for(var H=j>>>26,W=67108863&j,Y=Math.min(F,P.length-1),B=Math.max(0,F-T.length+1);B<=Y;B++){var G=F-B|0;H+=(S=(x=0|T.words[G])*(_=0|P.words[B])+W)/67108864|0,W=67108863&S}E.words[F]=0|W,j=0|H}return j!==0?E.words[F]=0|j:E.length--,E.strip()}a.prototype.toString=function(T,P){var E;if(P=0|P||1,(T=T||10)===16||T==="hex"){E="";for(var v=0,x=0,_=0;_<this.length;_++){var S=this.words[_],C=(16777215&(S<<v|x)).toString(16);E=(x=S>>>24-v&16777215)!==0||_!==this.length-1?m[6-C.length]+C+E:C+E,(v+=2)>=26&&(v-=26,_--)}for(x!==0&&(E=x.toString(16)+E);E.length%P!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(T===(0|T)&&T>=2&&T<=36){var j=y[T],F=p[T];E="";var H=this.clone();for(H.negative=0;!H.isZero();){var W=H.modn(F).toString(T);E=(H=H.idivn(F)).isZero()?W+E:m[j-W.length]+W+E}for(this.isZero()&&(E="0"+E);E.length%P!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}u(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(T,P){return u(c!==void 0),this.toArrayLike(c,T,P)},a.prototype.toArray=function(T,P){return this.toArrayLike(Array,T,P)},a.prototype.toArrayLike=function(T,P,E){var v=this.byteLength(),x=E||Math.max(1,v);u(v<=x,"byte array longer than desired length"),u(x>0,"Requested array length <= 0"),this.strip();var _,S,C=P==="le",j=new T(x),F=this.clone();if(C){for(S=0;!F.isZero();S++)_=F.andln(255),F.iushrn(8),j[S]=_;for(;S<x;S++)j[S]=0}else{for(S=0;S<x-v;S++)j[S]=0;for(S=0;!F.isZero();S++)_=F.andln(255),F.iushrn(8),j[x-S-1]=_}return j},Math.clz32?a.prototype._countBits=function(T){return 32-Math.clz32(T)}:a.prototype._countBits=function(T){var P=T,E=0;return P>=4096&&(E+=13,P>>>=13),P>=64&&(E+=7,P>>>=7),P>=8&&(E+=4,P>>>=4),P>=2&&(E+=2,P>>>=2),E+P},a.prototype._zeroBits=function(T){if(T===0)return 26;var P=T,E=0;return!(8191&P)&&(E+=13,P>>>=13),!(127&P)&&(E+=7,P>>>=7),!(15&P)&&(E+=4,P>>>=4),!(3&P)&&(E+=2,P>>>=2),!(1&P)&&E++,E},a.prototype.bitLength=function(){var T=this.words[this.length-1],P=this._countBits(T);return 26*(this.length-1)+P},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,P=0;P<this.length;P++){var E=this._zeroBits(this.words[P]);if(T+=E,E!==26)break}return T},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},a.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var P=0;P<T.length;P++)this.words[P]=this.words[P]|T.words[P];return this.strip()},a.prototype.ior=function(T){return u((this.negative|T.negative)==0),this.iuor(T)},a.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},a.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},a.prototype.iuand=function(T){var P;P=this.length>T.length?T:this;for(var E=0;E<P.length;E++)this.words[E]=this.words[E]&T.words[E];return this.length=P.length,this.strip()},a.prototype.iand=function(T){return u((this.negative|T.negative)==0),this.iuand(T)},a.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},a.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},a.prototype.iuxor=function(T){var P,E;this.length>T.length?(P=this,E=T):(P=T,E=this);for(var v=0;v<E.length;v++)this.words[v]=P.words[v]^E.words[v];if(this!==P)for(;v<P.length;v++)this.words[v]=P.words[v];return this.length=P.length,this.strip()},a.prototype.ixor=function(T){return u((this.negative|T.negative)==0),this.iuxor(T)},a.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},a.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},a.prototype.inotn=function(T){u(typeof T=="number"&&T>=0);var P=0|Math.ceil(T/26),E=T%26;this._expand(P),E>0&&P--;for(var v=0;v<P;v++)this.words[v]=67108863&~this.words[v];return E>0&&(this.words[v]=~this.words[v]&67108863>>26-E),this.strip()},a.prototype.notn=function(T){return this.clone().inotn(T)},a.prototype.setn=function(T,P){u(typeof T=="number"&&T>=0);var E=T/26|0,v=T%26;return this._expand(E+1),this.words[E]=P?this.words[E]|1<<v:this.words[E]&~(1<<v),this.strip()},a.prototype.iadd=function(T){var P,E,v;if(this.negative!==0&&T.negative===0)return this.negative=0,P=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,P=this.isub(T),T.negative=1,P._normSign();this.length>T.length?(E=this,v=T):(E=T,v=this);for(var x=0,_=0;_<v.length;_++)P=(0|E.words[_])+(0|v.words[_])+x,this.words[_]=67108863&P,x=P>>>26;for(;x!==0&&_<E.length;_++)P=(0|E.words[_])+x,this.words[_]=67108863&P,x=P>>>26;if(this.length=E.length,x!==0)this.words[this.length]=x,this.length++;else if(E!==this)for(;_<E.length;_++)this.words[_]=E.words[_];return this},a.prototype.add=function(T){var P;return T.negative!==0&&this.negative===0?(T.negative=0,P=this.sub(T),T.negative^=1,P):T.negative===0&&this.negative!==0?(this.negative=0,P=T.sub(this),this.negative=1,P):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},a.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var P=this.iadd(T);return T.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var E,v,x=this.cmp(T);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(E=this,v=T):(E=T,v=this);for(var _=0,S=0;S<v.length;S++)_=(P=(0|E.words[S])-(0|v.words[S])+_)>>26,this.words[S]=67108863&P;for(;_!==0&&S<E.length;S++)_=(P=(0|E.words[S])+_)>>26,this.words[S]=67108863&P;if(_===0&&S<E.length&&E!==this)for(;S<E.length;S++)this.words[S]=E.words[S];return this.length=Math.max(this.length,S),E!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(T){return this.clone().isub(T)};var g=function(T,P,E){var v,x,_,S=T.words,C=P.words,j=E.words,F=0,H=0|S[0],W=8191&H,Y=H>>>13,B=0|S[1],G=8191&B,D=B>>>13,M=0|S[2],$=8191&M,X=M>>>13,te=0|S[3],Q=8191&te,ee=te>>>13,le=0|S[4],oe=8191&le,J=le>>>13,ie=0|S[5],ne=8191&ie,ce=ie>>>13,ue=0|S[6],fe=8191&ue,me=ue>>>13,ye=0|S[7],xe=8191&ye,Te=ye>>>13,ke=0|S[8],Pe=8191&ke,We=ke>>>13,He=0|S[9],Ge=8191&He,ze=He>>>13,De=0|C[0],Re=8191&De,je=De>>>13,$e=0|C[1],Fe=8191&$e,mt=$e>>>13,Rt=0|C[2],Ke=8191&Rt,gt=Rt>>>13,pt=0|C[3],nt=8191&pt,_t=pt>>>13,xt=0|C[4],Xe=8191&xt,bt=xt>>>13,Ct=0|C[5],rt=8191&Ct,at=Ct>>>13,Dt=0|C[6],it=8191&Dt,se=Dt>>>13,he=0|C[7],be=8191&he,Ae=he>>>13,Ze=0|C[8],Ne=8191&Ze,tt=Ze>>>13,Qe=0|C[9],qe=8191&Qe,st=Qe>>>13;E.negative=T.negative^P.negative,E.length=19;var Ye=(F+(v=Math.imul(W,Re))|0)+((8191&(x=(x=Math.imul(W,je))+Math.imul(Y,Re)|0))<<13)|0;F=((_=Math.imul(Y,je))+(x>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,v=Math.imul(G,Re),x=(x=Math.imul(G,je))+Math.imul(D,Re)|0,_=Math.imul(D,je);var ft=(F+(v=v+Math.imul(W,Fe)|0)|0)+((8191&(x=(x=x+Math.imul(W,mt)|0)+Math.imul(Y,Fe)|0))<<13)|0;F=((_=_+Math.imul(Y,mt)|0)+(x>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul($,Re),x=(x=Math.imul($,je))+Math.imul(X,Re)|0,_=Math.imul(X,je),v=v+Math.imul(G,Fe)|0,x=(x=x+Math.imul(G,mt)|0)+Math.imul(D,Fe)|0,_=_+Math.imul(D,mt)|0;var qt=(F+(v=v+Math.imul(W,Ke)|0)|0)+((8191&(x=(x=x+Math.imul(W,gt)|0)+Math.imul(Y,Ke)|0))<<13)|0;F=((_=_+Math.imul(Y,gt)|0)+(x>>>13)|0)+(qt>>>26)|0,qt&=67108863,v=Math.imul(Q,Re),x=(x=Math.imul(Q,je))+Math.imul(ee,Re)|0,_=Math.imul(ee,je),v=v+Math.imul($,Fe)|0,x=(x=x+Math.imul($,mt)|0)+Math.imul(X,Fe)|0,_=_+Math.imul(X,mt)|0,v=v+Math.imul(G,Ke)|0,x=(x=x+Math.imul(G,gt)|0)+Math.imul(D,Ke)|0,_=_+Math.imul(D,gt)|0;var Ft=(F+(v=v+Math.imul(W,nt)|0)|0)+((8191&(x=(x=x+Math.imul(W,_t)|0)+Math.imul(Y,nt)|0))<<13)|0;F=((_=_+Math.imul(Y,_t)|0)+(x>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,v=Math.imul(oe,Re),x=(x=Math.imul(oe,je))+Math.imul(J,Re)|0,_=Math.imul(J,je),v=v+Math.imul(Q,Fe)|0,x=(x=x+Math.imul(Q,mt)|0)+Math.imul(ee,Fe)|0,_=_+Math.imul(ee,mt)|0,v=v+Math.imul($,Ke)|0,x=(x=x+Math.imul($,gt)|0)+Math.imul(X,Ke)|0,_=_+Math.imul(X,gt)|0,v=v+Math.imul(G,nt)|0,x=(x=x+Math.imul(G,_t)|0)+Math.imul(D,nt)|0,_=_+Math.imul(D,_t)|0;var Yt=(F+(v=v+Math.imul(W,Xe)|0)|0)+((8191&(x=(x=x+Math.imul(W,bt)|0)+Math.imul(Y,Xe)|0))<<13)|0;F=((_=_+Math.imul(Y,bt)|0)+(x>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(ne,Re),x=(x=Math.imul(ne,je))+Math.imul(ce,Re)|0,_=Math.imul(ce,je),v=v+Math.imul(oe,Fe)|0,x=(x=x+Math.imul(oe,mt)|0)+Math.imul(J,Fe)|0,_=_+Math.imul(J,mt)|0,v=v+Math.imul(Q,Ke)|0,x=(x=x+Math.imul(Q,gt)|0)+Math.imul(ee,Ke)|0,_=_+Math.imul(ee,gt)|0,v=v+Math.imul($,nt)|0,x=(x=x+Math.imul($,_t)|0)+Math.imul(X,nt)|0,_=_+Math.imul(X,_t)|0,v=v+Math.imul(G,Xe)|0,x=(x=x+Math.imul(G,bt)|0)+Math.imul(D,Xe)|0,_=_+Math.imul(D,bt)|0;var tr=(F+(v=v+Math.imul(W,rt)|0)|0)+((8191&(x=(x=x+Math.imul(W,at)|0)+Math.imul(Y,rt)|0))<<13)|0;F=((_=_+Math.imul(Y,at)|0)+(x>>>13)|0)+(tr>>>26)|0,tr&=67108863,v=Math.imul(fe,Re),x=(x=Math.imul(fe,je))+Math.imul(me,Re)|0,_=Math.imul(me,je),v=v+Math.imul(ne,Fe)|0,x=(x=x+Math.imul(ne,mt)|0)+Math.imul(ce,Fe)|0,_=_+Math.imul(ce,mt)|0,v=v+Math.imul(oe,Ke)|0,x=(x=x+Math.imul(oe,gt)|0)+Math.imul(J,Ke)|0,_=_+Math.imul(J,gt)|0,v=v+Math.imul(Q,nt)|0,x=(x=x+Math.imul(Q,_t)|0)+Math.imul(ee,nt)|0,_=_+Math.imul(ee,_t)|0,v=v+Math.imul($,Xe)|0,x=(x=x+Math.imul($,bt)|0)+Math.imul(X,Xe)|0,_=_+Math.imul(X,bt)|0,v=v+Math.imul(G,rt)|0,x=(x=x+Math.imul(G,at)|0)+Math.imul(D,rt)|0,_=_+Math.imul(D,at)|0;var Sr=(F+(v=v+Math.imul(W,it)|0)|0)+((8191&(x=(x=x+Math.imul(W,se)|0)+Math.imul(Y,it)|0))<<13)|0;F=((_=_+Math.imul(Y,se)|0)+(x>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,v=Math.imul(xe,Re),x=(x=Math.imul(xe,je))+Math.imul(Te,Re)|0,_=Math.imul(Te,je),v=v+Math.imul(fe,Fe)|0,x=(x=x+Math.imul(fe,mt)|0)+Math.imul(me,Fe)|0,_=_+Math.imul(me,mt)|0,v=v+Math.imul(ne,Ke)|0,x=(x=x+Math.imul(ne,gt)|0)+Math.imul(ce,Ke)|0,_=_+Math.imul(ce,gt)|0,v=v+Math.imul(oe,nt)|0,x=(x=x+Math.imul(oe,_t)|0)+Math.imul(J,nt)|0,_=_+Math.imul(J,_t)|0,v=v+Math.imul(Q,Xe)|0,x=(x=x+Math.imul(Q,bt)|0)+Math.imul(ee,Xe)|0,_=_+Math.imul(ee,bt)|0,v=v+Math.imul($,rt)|0,x=(x=x+Math.imul($,at)|0)+Math.imul(X,rt)|0,_=_+Math.imul(X,at)|0,v=v+Math.imul(G,it)|0,x=(x=x+Math.imul(G,se)|0)+Math.imul(D,it)|0,_=_+Math.imul(D,se)|0;var re=(F+(v=v+Math.imul(W,be)|0)|0)+((8191&(x=(x=x+Math.imul(W,Ae)|0)+Math.imul(Y,be)|0))<<13)|0;F=((_=_+Math.imul(Y,Ae)|0)+(x>>>13)|0)+(re>>>26)|0,re&=67108863,v=Math.imul(Pe,Re),x=(x=Math.imul(Pe,je))+Math.imul(We,Re)|0,_=Math.imul(We,je),v=v+Math.imul(xe,Fe)|0,x=(x=x+Math.imul(xe,mt)|0)+Math.imul(Te,Fe)|0,_=_+Math.imul(Te,mt)|0,v=v+Math.imul(fe,Ke)|0,x=(x=x+Math.imul(fe,gt)|0)+Math.imul(me,Ke)|0,_=_+Math.imul(me,gt)|0,v=v+Math.imul(ne,nt)|0,x=(x=x+Math.imul(ne,_t)|0)+Math.imul(ce,nt)|0,_=_+Math.imul(ce,_t)|0,v=v+Math.imul(oe,Xe)|0,x=(x=x+Math.imul(oe,bt)|0)+Math.imul(J,Xe)|0,_=_+Math.imul(J,bt)|0,v=v+Math.imul(Q,rt)|0,x=(x=x+Math.imul(Q,at)|0)+Math.imul(ee,rt)|0,_=_+Math.imul(ee,at)|0,v=v+Math.imul($,it)|0,x=(x=x+Math.imul($,se)|0)+Math.imul(X,it)|0,_=_+Math.imul(X,se)|0,v=v+Math.imul(G,be)|0,x=(x=x+Math.imul(G,Ae)|0)+Math.imul(D,be)|0,_=_+Math.imul(D,Ae)|0;var de=(F+(v=v+Math.imul(W,Ne)|0)|0)+((8191&(x=(x=x+Math.imul(W,tt)|0)+Math.imul(Y,Ne)|0))<<13)|0;F=((_=_+Math.imul(Y,tt)|0)+(x>>>13)|0)+(de>>>26)|0,de&=67108863,v=Math.imul(Ge,Re),x=(x=Math.imul(Ge,je))+Math.imul(ze,Re)|0,_=Math.imul(ze,je),v=v+Math.imul(Pe,Fe)|0,x=(x=x+Math.imul(Pe,mt)|0)+Math.imul(We,Fe)|0,_=_+Math.imul(We,mt)|0,v=v+Math.imul(xe,Ke)|0,x=(x=x+Math.imul(xe,gt)|0)+Math.imul(Te,Ke)|0,_=_+Math.imul(Te,gt)|0,v=v+Math.imul(fe,nt)|0,x=(x=x+Math.imul(fe,_t)|0)+Math.imul(me,nt)|0,_=_+Math.imul(me,_t)|0,v=v+Math.imul(ne,Xe)|0,x=(x=x+Math.imul(ne,bt)|0)+Math.imul(ce,Xe)|0,_=_+Math.imul(ce,bt)|0,v=v+Math.imul(oe,rt)|0,x=(x=x+Math.imul(oe,at)|0)+Math.imul(J,rt)|0,_=_+Math.imul(J,at)|0,v=v+Math.imul(Q,it)|0,x=(x=x+Math.imul(Q,se)|0)+Math.imul(ee,it)|0,_=_+Math.imul(ee,se)|0,v=v+Math.imul($,be)|0,x=(x=x+Math.imul($,Ae)|0)+Math.imul(X,be)|0,_=_+Math.imul(X,Ae)|0,v=v+Math.imul(G,Ne)|0,x=(x=x+Math.imul(G,tt)|0)+Math.imul(D,Ne)|0,_=_+Math.imul(D,tt)|0;var ve=(F+(v=v+Math.imul(W,qe)|0)|0)+((8191&(x=(x=x+Math.imul(W,st)|0)+Math.imul(Y,qe)|0))<<13)|0;F=((_=_+Math.imul(Y,st)|0)+(x>>>13)|0)+(ve>>>26)|0,ve&=67108863,v=Math.imul(Ge,Fe),x=(x=Math.imul(Ge,mt))+Math.imul(ze,Fe)|0,_=Math.imul(ze,mt),v=v+Math.imul(Pe,Ke)|0,x=(x=x+Math.imul(Pe,gt)|0)+Math.imul(We,Ke)|0,_=_+Math.imul(We,gt)|0,v=v+Math.imul(xe,nt)|0,x=(x=x+Math.imul(xe,_t)|0)+Math.imul(Te,nt)|0,_=_+Math.imul(Te,_t)|0,v=v+Math.imul(fe,Xe)|0,x=(x=x+Math.imul(fe,bt)|0)+Math.imul(me,Xe)|0,_=_+Math.imul(me,bt)|0,v=v+Math.imul(ne,rt)|0,x=(x=x+Math.imul(ne,at)|0)+Math.imul(ce,rt)|0,_=_+Math.imul(ce,at)|0,v=v+Math.imul(oe,it)|0,x=(x=x+Math.imul(oe,se)|0)+Math.imul(J,it)|0,_=_+Math.imul(J,se)|0,v=v+Math.imul(Q,be)|0,x=(x=x+Math.imul(Q,Ae)|0)+Math.imul(ee,be)|0,_=_+Math.imul(ee,Ae)|0,v=v+Math.imul($,Ne)|0,x=(x=x+Math.imul($,tt)|0)+Math.imul(X,Ne)|0,_=_+Math.imul(X,tt)|0;var Se=(F+(v=v+Math.imul(G,qe)|0)|0)+((8191&(x=(x=x+Math.imul(G,st)|0)+Math.imul(D,qe)|0))<<13)|0;F=((_=_+Math.imul(D,st)|0)+(x>>>13)|0)+(Se>>>26)|0,Se&=67108863,v=Math.imul(Ge,Ke),x=(x=Math.imul(Ge,gt))+Math.imul(ze,Ke)|0,_=Math.imul(ze,gt),v=v+Math.imul(Pe,nt)|0,x=(x=x+Math.imul(Pe,_t)|0)+Math.imul(We,nt)|0,_=_+Math.imul(We,_t)|0,v=v+Math.imul(xe,Xe)|0,x=(x=x+Math.imul(xe,bt)|0)+Math.imul(Te,Xe)|0,_=_+Math.imul(Te,bt)|0,v=v+Math.imul(fe,rt)|0,x=(x=x+Math.imul(fe,at)|0)+Math.imul(me,rt)|0,_=_+Math.imul(me,at)|0,v=v+Math.imul(ne,it)|0,x=(x=x+Math.imul(ne,se)|0)+Math.imul(ce,it)|0,_=_+Math.imul(ce,se)|0,v=v+Math.imul(oe,be)|0,x=(x=x+Math.imul(oe,Ae)|0)+Math.imul(J,be)|0,_=_+Math.imul(J,Ae)|0,v=v+Math.imul(Q,Ne)|0,x=(x=x+Math.imul(Q,tt)|0)+Math.imul(ee,Ne)|0,_=_+Math.imul(ee,tt)|0;var Be=(F+(v=v+Math.imul($,qe)|0)|0)+((8191&(x=(x=x+Math.imul($,st)|0)+Math.imul(X,qe)|0))<<13)|0;F=((_=_+Math.imul(X,st)|0)+(x>>>13)|0)+(Be>>>26)|0,Be&=67108863,v=Math.imul(Ge,nt),x=(x=Math.imul(Ge,_t))+Math.imul(ze,nt)|0,_=Math.imul(ze,_t),v=v+Math.imul(Pe,Xe)|0,x=(x=x+Math.imul(Pe,bt)|0)+Math.imul(We,Xe)|0,_=_+Math.imul(We,bt)|0,v=v+Math.imul(xe,rt)|0,x=(x=x+Math.imul(xe,at)|0)+Math.imul(Te,rt)|0,_=_+Math.imul(Te,at)|0,v=v+Math.imul(fe,it)|0,x=(x=x+Math.imul(fe,se)|0)+Math.imul(me,it)|0,_=_+Math.imul(me,se)|0,v=v+Math.imul(ne,be)|0,x=(x=x+Math.imul(ne,Ae)|0)+Math.imul(ce,be)|0,_=_+Math.imul(ce,Ae)|0,v=v+Math.imul(oe,Ne)|0,x=(x=x+Math.imul(oe,tt)|0)+Math.imul(J,Ne)|0,_=_+Math.imul(J,tt)|0;var Ce=(F+(v=v+Math.imul(Q,qe)|0)|0)+((8191&(x=(x=x+Math.imul(Q,st)|0)+Math.imul(ee,qe)|0))<<13)|0;F=((_=_+Math.imul(ee,st)|0)+(x>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,v=Math.imul(Ge,Xe),x=(x=Math.imul(Ge,bt))+Math.imul(ze,Xe)|0,_=Math.imul(ze,bt),v=v+Math.imul(Pe,rt)|0,x=(x=x+Math.imul(Pe,at)|0)+Math.imul(We,rt)|0,_=_+Math.imul(We,at)|0,v=v+Math.imul(xe,it)|0,x=(x=x+Math.imul(xe,se)|0)+Math.imul(Te,it)|0,_=_+Math.imul(Te,se)|0,v=v+Math.imul(fe,be)|0,x=(x=x+Math.imul(fe,Ae)|0)+Math.imul(me,be)|0,_=_+Math.imul(me,Ae)|0,v=v+Math.imul(ne,Ne)|0,x=(x=x+Math.imul(ne,tt)|0)+Math.imul(ce,Ne)|0,_=_+Math.imul(ce,tt)|0;var Me=(F+(v=v+Math.imul(oe,qe)|0)|0)+((8191&(x=(x=x+Math.imul(oe,st)|0)+Math.imul(J,qe)|0))<<13)|0;F=((_=_+Math.imul(J,st)|0)+(x>>>13)|0)+(Me>>>26)|0,Me&=67108863,v=Math.imul(Ge,rt),x=(x=Math.imul(Ge,at))+Math.imul(ze,rt)|0,_=Math.imul(ze,at),v=v+Math.imul(Pe,it)|0,x=(x=x+Math.imul(Pe,se)|0)+Math.imul(We,it)|0,_=_+Math.imul(We,se)|0,v=v+Math.imul(xe,be)|0,x=(x=x+Math.imul(xe,Ae)|0)+Math.imul(Te,be)|0,_=_+Math.imul(Te,Ae)|0,v=v+Math.imul(fe,Ne)|0,x=(x=x+Math.imul(fe,tt)|0)+Math.imul(me,Ne)|0,_=_+Math.imul(me,tt)|0;var vt=(F+(v=v+Math.imul(ne,qe)|0)|0)+((8191&(x=(x=x+Math.imul(ne,st)|0)+Math.imul(ce,qe)|0))<<13)|0;F=((_=_+Math.imul(ce,st)|0)+(x>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ge,it),x=(x=Math.imul(Ge,se))+Math.imul(ze,it)|0,_=Math.imul(ze,se),v=v+Math.imul(Pe,be)|0,x=(x=x+Math.imul(Pe,Ae)|0)+Math.imul(We,be)|0,_=_+Math.imul(We,Ae)|0,v=v+Math.imul(xe,Ne)|0,x=(x=x+Math.imul(xe,tt)|0)+Math.imul(Te,Ne)|0,_=_+Math.imul(Te,tt)|0;var ut=(F+(v=v+Math.imul(fe,qe)|0)|0)+((8191&(x=(x=x+Math.imul(fe,st)|0)+Math.imul(me,qe)|0))<<13)|0;F=((_=_+Math.imul(me,st)|0)+(x>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(Ge,be),x=(x=Math.imul(Ge,Ae))+Math.imul(ze,be)|0,_=Math.imul(ze,Ae),v=v+Math.imul(Pe,Ne)|0,x=(x=x+Math.imul(Pe,tt)|0)+Math.imul(We,Ne)|0,_=_+Math.imul(We,tt)|0;var dt=(F+(v=v+Math.imul(xe,qe)|0)|0)+((8191&(x=(x=x+Math.imul(xe,st)|0)+Math.imul(Te,qe)|0))<<13)|0;F=((_=_+Math.imul(Te,st)|0)+(x>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(Ge,Ne),x=(x=Math.imul(Ge,tt))+Math.imul(ze,Ne)|0,_=Math.imul(ze,tt);var Je=(F+(v=v+Math.imul(Pe,qe)|0)|0)+((8191&(x=(x=x+Math.imul(Pe,st)|0)+Math.imul(We,qe)|0))<<13)|0;F=((_=_+Math.imul(We,st)|0)+(x>>>13)|0)+(Je>>>26)|0,Je&=67108863;var At=(F+(v=Math.imul(Ge,qe))|0)+((8191&(x=(x=Math.imul(Ge,st))+Math.imul(ze,qe)|0))<<13)|0;return F=((_=Math.imul(ze,st))+(x>>>13)|0)+(At>>>26)|0,At&=67108863,j[0]=Ye,j[1]=ft,j[2]=qt,j[3]=Ft,j[4]=Yt,j[5]=tr,j[6]=Sr,j[7]=re,j[8]=de,j[9]=ve,j[10]=Se,j[11]=Be,j[12]=Ce,j[13]=Me,j[14]=vt,j[15]=ut,j[16]=dt,j[17]=Je,j[18]=At,F!==0&&(j[19]=F,E.length++),E};function w(T,P,E){return new k().mulp(T,P,E)}function k(T,P){this.x=T,this.y=P}Math.imul||(g=b),a.prototype.mulTo=function(T,P){var E=this.length+T.length;return this.length===10&&T.length===10?g(this,T,P):E<63?b(this,T,P):E<1024?function(v,x,_){_.negative=x.negative^v.negative,_.length=v.length+x.length;for(var S=0,C=0,j=0;j<_.length-1;j++){var F=C;C=0;for(var H=67108863&S,W=Math.min(j,x.length-1),Y=Math.max(0,j-v.length+1);Y<=W;Y++){var B=j-Y,G=(0|v.words[B])*(0|x.words[Y]),D=67108863&G;H=67108863&(D=D+H|0),C+=(F=(F=F+(G/67108864|0)|0)+(D>>>26)|0)>>>26,F&=67108863}_.words[j]=H,S=F,F=C}return S!==0?_.words[j]=S:_.length--,_.strip()}(this,T,P):w(this,T,P)},k.prototype.makeRBT=function(T){for(var P=new Array(T),E=a.prototype._countBits(T)-1,v=0;v<T;v++)P[v]=this.revBin(v,E,T);return P},k.prototype.revBin=function(T,P,E){if(T===0||T===E-1)return T;for(var v=0,x=0;x<P;x++)v|=(1&T)<<P-x-1,T>>=1;return v},k.prototype.permute=function(T,P,E,v,x,_){for(var S=0;S<_;S++)v[S]=P[T[S]],x[S]=E[T[S]]},k.prototype.transform=function(T,P,E,v,x,_){this.permute(_,T,P,E,v,x);for(var S=1;S<x;S<<=1)for(var C=S<<1,j=Math.cos(2*Math.PI/C),F=Math.sin(2*Math.PI/C),H=0;H<x;H+=C)for(var W=j,Y=F,B=0;B<S;B++){var G=E[H+B],D=v[H+B],M=E[H+B+S],$=v[H+B+S],X=W*M-Y*$;$=W*$+Y*M,M=X,E[H+B]=G+M,v[H+B]=D+$,E[H+B+S]=G-M,v[H+B+S]=D-$,B!==C&&(X=j*W-F*Y,Y=j*Y+F*W,W=X)}},k.prototype.guessLen13b=function(T,P){var E=1|Math.max(P,T),v=1&E,x=0;for(E=E/2|0;E;E>>>=1)x++;return 1<<x+1+v},k.prototype.conjugate=function(T,P,E){if(!(E<=1))for(var v=0;v<E/2;v++){var x=T[v];T[v]=T[E-v-1],T[E-v-1]=x,x=P[v],P[v]=-P[E-v-1],P[E-v-1]=-x}},k.prototype.normalize13b=function(T,P){for(var E=0,v=0;v<P/2;v++){var x=8192*Math.round(T[2*v+1]/P)+Math.round(T[2*v]/P)+E;T[v]=67108863&x,E=x<67108864?0:x/67108864|0}return T},k.prototype.convert13b=function(T,P,E,v){for(var x=0,_=0;_<P;_++)x+=0|T[_],E[2*_]=8191&x,x>>>=13,E[2*_+1]=8191&x,x>>>=13;for(_=2*P;_<v;++_)E[_]=0;u(x===0),u((-8192&x)==0)},k.prototype.stub=function(T){for(var P=new Array(T),E=0;E<T;E++)P[E]=0;return P},k.prototype.mulp=function(T,P,E){var v=2*this.guessLen13b(T.length,P.length),x=this.makeRBT(v),_=this.stub(v),S=new Array(v),C=new Array(v),j=new Array(v),F=new Array(v),H=new Array(v),W=new Array(v),Y=E.words;Y.length=v,this.convert13b(T.words,T.length,S,v),this.convert13b(P.words,P.length,F,v),this.transform(S,_,C,j,v,x),this.transform(F,_,H,W,v,x);for(var B=0;B<v;B++){var G=C[B]*H[B]-j[B]*W[B];j[B]=C[B]*W[B]+j[B]*H[B],C[B]=G}return this.conjugate(C,j,v),this.transform(C,j,Y,_,v,x),this.conjugate(Y,_,v),this.normalize13b(Y,v),E.negative=T.negative^P.negative,E.length=T.length+P.length,E.strip()},a.prototype.mul=function(T){var P=new a(null);return P.words=new Array(this.length+T.length),this.mulTo(T,P)},a.prototype.mulf=function(T){var P=new a(null);return P.words=new Array(this.length+T.length),w(this,T,P)},a.prototype.imul=function(T){return this.clone().mulTo(T,this)},a.prototype.imuln=function(T){u(typeof T=="number"),u(T<67108864);for(var P=0,E=0;E<this.length;E++){var v=(0|this.words[E])*T,x=(67108863&v)+(67108863&P);P>>=26,P+=v/67108864|0,P+=x>>>26,this.words[E]=67108863&x}return P!==0&&(this.words[E]=P,this.length++),this},a.prototype.muln=function(T){return this.clone().imuln(T)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(T){var P=function(_){for(var S=new Array(_.bitLength()),C=0;C<S.length;C++){var j=C/26|0,F=C%26;S[C]=(_.words[j]&1<<F)>>>F}return S}(T);if(P.length===0)return new a(1);for(var E=this,v=0;v<P.length&&P[v]===0;v++,E=E.sqr());if(++v<P.length)for(var x=E.sqr();v<P.length;v++,x=x.sqr())P[v]!==0&&(E=E.mul(x));return E},a.prototype.iushln=function(T){u(typeof T=="number"&&T>=0);var P,E=T%26,v=(T-E)/26,x=67108863>>>26-E<<26-E;if(E!==0){var _=0;for(P=0;P<this.length;P++){var S=this.words[P]&x,C=(0|this.words[P])-S<<E;this.words[P]=C|_,_=S>>>26-E}_&&(this.words[P]=_,this.length++)}if(v!==0){for(P=this.length-1;P>=0;P--)this.words[P+v]=this.words[P];for(P=0;P<v;P++)this.words[P]=0;this.length+=v}return this.strip()},a.prototype.ishln=function(T){return u(this.negative===0),this.iushln(T)},a.prototype.iushrn=function(T,P,E){var v;u(typeof T=="number"&&T>=0),v=P?(P-P%26)/26:0;var x=T%26,_=Math.min((T-x)/26,this.length),S=67108863^67108863>>>x<<x,C=E;if(v-=_,v=Math.max(0,v),C){for(var j=0;j<_;j++)C.words[j]=this.words[j];C.length=_}if(_!==0)if(this.length>_)for(this.length-=_,j=0;j<this.length;j++)this.words[j]=this.words[j+_];else this.words[0]=0,this.length=1;var F=0;for(j=this.length-1;j>=0&&(F!==0||j>=v);j--){var H=0|this.words[j];this.words[j]=F<<26-x|H>>>x,F=H&S}return C&&F!==0&&(C.words[C.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(T,P,E){return u(this.negative===0),this.iushrn(T,P,E)},a.prototype.shln=function(T){return this.clone().ishln(T)},a.prototype.ushln=function(T){return this.clone().iushln(T)},a.prototype.shrn=function(T){return this.clone().ishrn(T)},a.prototype.ushrn=function(T){return this.clone().iushrn(T)},a.prototype.testn=function(T){u(typeof T=="number"&&T>=0);var P=T%26,E=(T-P)/26,v=1<<P;return!(this.length<=E)&&!!(this.words[E]&v)},a.prototype.imaskn=function(T){u(typeof T=="number"&&T>=0);var P=T%26,E=(T-P)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(P!==0&&E++,this.length=Math.min(E,this.length),P!==0){var v=67108863^67108863>>>P<<P;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(T){return this.clone().imaskn(T)},a.prototype.iaddn=function(T){return u(typeof T=="number"),u(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},a.prototype._iaddn=function(T){this.words[0]+=T;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},a.prototype.isubn=function(T){if(u(typeof T=="number"),u(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},a.prototype.addn=function(T){return this.clone().iaddn(T)},a.prototype.subn=function(T){return this.clone().isubn(T)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(T,P,E){var v,x,_=T.length+E;this._expand(_);var S=0;for(v=0;v<T.length;v++){x=(0|this.words[v+E])+S;var C=(0|T.words[v])*P;S=((x-=67108863&C)>>26)-(C/67108864|0),this.words[v+E]=67108863&x}for(;v<this.length-E;v++)S=(x=(0|this.words[v+E])+S)>>26,this.words[v+E]=67108863&x;if(S===0)return this.strip();for(u(S===-1),S=0,v=0;v<this.length;v++)S=(x=-(0|this.words[v])+S)>>26,this.words[v]=67108863&x;return this.negative=1,this.strip()},a.prototype._wordDiv=function(T,P){var E=(this.length,T.length),v=this.clone(),x=T,_=0|x.words[x.length-1];(E=26-this._countBits(_))!==0&&(x=x.ushln(E),v.iushln(E),_=0|x.words[x.length-1]);var S,C=v.length-x.length;if(P!=="mod"){(S=new a(null)).length=C+1,S.words=new Array(S.length);for(var j=0;j<S.length;j++)S.words[j]=0}var F=v.clone()._ishlnsubmul(x,1,C);F.negative===0&&(v=F,S&&(S.words[C]=1));for(var H=C-1;H>=0;H--){var W=67108864*(0|v.words[x.length+H])+(0|v.words[x.length+H-1]);for(W=Math.min(W/_|0,67108863),v._ishlnsubmul(x,W,H);v.negative!==0;)W--,v.negative=0,v._ishlnsubmul(x,1,H),v.isZero()||(v.negative^=1);S&&(S.words[H]=W)}return S&&S.strip(),v.strip(),P!=="div"&&E!==0&&v.iushrn(E),{div:S||null,mod:v}},a.prototype.divmod=function(T,P,E){return u(!T.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&T.negative===0?(_=this.neg().divmod(T,P),P!=="mod"&&(v=_.div.neg()),P!=="div"&&(x=_.mod.neg(),E&&x.negative!==0&&x.iadd(T)),{div:v,mod:x}):this.negative===0&&T.negative!==0?(_=this.divmod(T.neg(),P),P!=="mod"&&(v=_.div.neg()),{div:v,mod:_.mod}):this.negative&T.negative?(_=this.neg().divmod(T.neg(),P),P!=="div"&&(x=_.mod.neg(),E&&x.negative!==0&&x.isub(T)),{div:_.div,mod:x}):T.length>this.length||this.cmp(T)<0?{div:new a(0),mod:this}:T.length===1?P==="div"?{div:this.divn(T.words[0]),mod:null}:P==="mod"?{div:null,mod:new a(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new a(this.modn(T.words[0]))}:this._wordDiv(T,P);var v,x,_},a.prototype.div=function(T){return this.divmod(T,"div",!1).div},a.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},a.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},a.prototype.divRound=function(T){var P=this.divmod(T);if(P.mod.isZero())return P.div;var E=P.div.negative!==0?P.mod.isub(T):P.mod,v=T.ushrn(1),x=T.andln(1),_=E.cmp(v);return _<0||x===1&&_===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},a.prototype.modn=function(T){u(T<=67108863);for(var P=(1<<26)%T,E=0,v=this.length-1;v>=0;v--)E=(P*E+(0|this.words[v]))%T;return E},a.prototype.idivn=function(T){u(T<=67108863);for(var P=0,E=this.length-1;E>=0;E--){var v=(0|this.words[E])+67108864*P;this.words[E]=v/T|0,P=v%T}return this.strip()},a.prototype.divn=function(T){return this.clone().idivn(T)},a.prototype.egcd=function(T){u(T.negative===0),u(!T.isZero());var P=this,E=T.clone();P=P.negative!==0?P.umod(T):P.clone();for(var v=new a(1),x=new a(0),_=new a(0),S=new a(1),C=0;P.isEven()&&E.isEven();)P.iushrn(1),E.iushrn(1),++C;for(var j=E.clone(),F=P.clone();!P.isZero();){for(var H=0,W=1;!(P.words[0]&W)&&H<26;++H,W<<=1);if(H>0)for(P.iushrn(H);H-- >0;)(v.isOdd()||x.isOdd())&&(v.iadd(j),x.isub(F)),v.iushrn(1),x.iushrn(1);for(var Y=0,B=1;!(E.words[0]&B)&&Y<26;++Y,B<<=1);if(Y>0)for(E.iushrn(Y);Y-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(j),S.isub(F)),_.iushrn(1),S.iushrn(1);P.cmp(E)>=0?(P.isub(E),v.isub(_),x.isub(S)):(E.isub(P),_.isub(v),S.isub(x))}return{a:_,b:S,gcd:E.iushln(C)}},a.prototype._invmp=function(T){u(T.negative===0),u(!T.isZero());var P=this,E=T.clone();P=P.negative!==0?P.umod(T):P.clone();for(var v,x=new a(1),_=new a(0),S=E.clone();P.cmpn(1)>0&&E.cmpn(1)>0;){for(var C=0,j=1;!(P.words[0]&j)&&C<26;++C,j<<=1);if(C>0)for(P.iushrn(C);C-- >0;)x.isOdd()&&x.iadd(S),x.iushrn(1);for(var F=0,H=1;!(E.words[0]&H)&&F<26;++F,H<<=1);if(F>0)for(E.iushrn(F);F-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);P.cmp(E)>=0?(P.isub(E),x.isub(_)):(E.isub(P),_.isub(x))}return(v=P.cmpn(1)===0?x:_).cmpn(0)<0&&v.iadd(T),v},a.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var P=this.clone(),E=T.clone();P.negative=0,E.negative=0;for(var v=0;P.isEven()&&E.isEven();v++)P.iushrn(1),E.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;E.isEven();)E.iushrn(1);var x=P.cmp(E);if(x<0){var _=P;P=E,E=_}else if(x===0||E.cmpn(1)===0)break;P.isub(E)}return E.iushln(v)},a.prototype.invm=function(T){return this.egcd(T).a.umod(T)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(T){return this.words[0]&T},a.prototype.bincn=function(T){u(typeof T=="number");var P=T%26,E=(T-P)/26,v=1<<P;if(this.length<=E)return this._expand(E+1),this.words[E]|=v,this;for(var x=v,_=E;x!==0&&_<this.length;_++){var S=0|this.words[_];x=(S+=x)>>>26,S&=67108863,this.words[_]=S}return x!==0&&(this.words[_]=x,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(T){var P,E=T<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this.strip(),this.length>1)P=1;else{E&&(T=-T),u(T<=67108863,"Number is too big");var v=0|this.words[0];P=v===T?0:v<T?-1:1}return this.negative!==0?0|-P:P},a.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var P=this.ucmp(T);return this.negative!==0?0|-P:P},a.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var P=0,E=this.length-1;E>=0;E--){var v=0|this.words[E],x=0|T.words[E];if(v!==x){v<x?P=-1:v>x&&(P=1);break}}return P},a.prototype.gtn=function(T){return this.cmpn(T)===1},a.prototype.gt=function(T){return this.cmp(T)===1},a.prototype.gten=function(T){return this.cmpn(T)>=0},a.prototype.gte=function(T){return this.cmp(T)>=0},a.prototype.ltn=function(T){return this.cmpn(T)===-1},a.prototype.lt=function(T){return this.cmp(T)===-1},a.prototype.lten=function(T){return this.cmpn(T)<=0},a.prototype.lte=function(T){return this.cmp(T)<=0},a.prototype.eqn=function(T){return this.cmpn(T)===0},a.prototype.eq=function(T){return this.cmp(T)===0},a.red=function(T){return new z(T)},a.prototype.toRed=function(T){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},a.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(T){return this.red=T,this},a.prototype.forceRed=function(T){return u(!this.red,"Already a number in reduction context"),this._forceRed(T)},a.prototype.redAdd=function(T){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},a.prototype.redIAdd=function(T){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},a.prototype.redSub=function(T){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},a.prototype.redISub=function(T){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},a.prototype.redShl=function(T){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},a.prototype.redMul=function(T){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},a.prototype.redIMul=function(T){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},a.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(T){return u(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var A={k256:null,p224:null,p192:null,p25519:null};function U(T,P){this.name=T,this.p=new a(P,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function N(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(T){if(typeof T=="string"){var P=a._prime(T);this.m=P.p,this.prime=P}else u(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function O(T){z.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}U.prototype._tmp=function(){var T=new a(null);return T.words=new Array(Math.ceil(this.n/13)),T},U.prototype.ireduce=function(T){var P,E=T;do this.split(E,this.tmp),P=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(P>this.n);var v=P<this.n?-1:E.ucmp(this.p);return v===0?(E.words[0]=0,E.length=1):v>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},U.prototype.split=function(T,P){T.iushrn(this.n,0,P)},U.prototype.imulK=function(T){return T.imul(this.k)},l(V,U),V.prototype.split=function(T,P){for(var E=Math.min(T.length,9),v=0;v<E;v++)P.words[v]=T.words[v];if(P.length=E,T.length<=9)return T.words[0]=0,void(T.length=1);var x=T.words[9];for(P.words[P.length++]=4194303&x,v=10;v<T.length;v++){var _=0|T.words[v];T.words[v-10]=(4194303&_)<<4|x>>>22,x=_}x>>>=22,T.words[v-10]=x,x===0&&T.length>10?T.length-=10:T.length-=9},V.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var P=0,E=0;E<T.length;E++){var v=0|T.words[E];P+=977*v,T.words[E]=67108863&P,P=64*v+(P/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},l(R,U),l(N,U),l(L,U),L.prototype.imulK=function(T){for(var P=0,E=0;E<T.length;E++){var v=19*(0|T.words[E])+P,x=67108863&v;v>>>=26,T.words[E]=x,P=v}return P!==0&&(T.words[T.length++]=P),T},a._prime=function(T){if(A[T])return A[T];var P;if(T==="k256")P=new V;else if(T==="p224")P=new R;else if(T==="p192")P=new N;else{if(T!=="p25519")throw new Error("Unknown prime "+T);P=new L}return A[T]=P,P},z.prototype._verify1=function(T){u(T.negative===0,"red works only with positives"),u(T.red,"red works only with red numbers")},z.prototype._verify2=function(T,P){u((T.negative|P.negative)==0,"red works only with positives"),u(T.red&&T.red===P.red,"red works only with red numbers")},z.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},z.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},z.prototype.add=function(T,P){this._verify2(T,P);var E=T.add(P);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},z.prototype.iadd=function(T,P){this._verify2(T,P);var E=T.iadd(P);return E.cmp(this.m)>=0&&E.isub(this.m),E},z.prototype.sub=function(T,P){this._verify2(T,P);var E=T.sub(P);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},z.prototype.isub=function(T,P){this._verify2(T,P);var E=T.isub(P);return E.cmpn(0)<0&&E.iadd(this.m),E},z.prototype.shl=function(T,P){return this._verify1(T),this.imod(T.ushln(P))},z.prototype.imul=function(T,P){return this._verify2(T,P),this.imod(T.imul(P))},z.prototype.mul=function(T,P){return this._verify2(T,P),this.imod(T.mul(P))},z.prototype.isqr=function(T){return this.imul(T,T.clone())},z.prototype.sqr=function(T){return this.mul(T,T)},z.prototype.sqrt=function(T){if(T.isZero())return T.clone();var P=this.m.andln(3);if(u(P%2==1),P===3){var E=this.m.add(new a(1)).iushrn(2);return this.pow(T,E)}for(var v=this.m.subn(1),x=0;!v.isZero()&&v.andln(1)===0;)x++,v.iushrn(1);u(!v.isZero());var _=new a(1).toRed(this),S=_.redNeg(),C=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new a(2*j*j).toRed(this);this.pow(j,C).cmp(S)!==0;)j.redIAdd(S);for(var F=this.pow(j,v),H=this.pow(T,v.addn(1).iushrn(1)),W=this.pow(T,v),Y=x;W.cmp(_)!==0;){for(var B=W,G=0;B.cmp(_)!==0;G++)B=B.redSqr();u(G<Y);var D=this.pow(F,new a(1).iushln(Y-G-1));H=H.redMul(D),F=D.redSqr(),W=W.redMul(F),Y=G}return H},z.prototype.invm=function(T){var P=T._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},z.prototype.pow=function(T,P){if(P.isZero())return new a(1).toRed(this);if(P.cmpn(1)===0)return T.clone();var E=new Array(16);E[0]=new a(1).toRed(this),E[1]=T;for(var v=2;v<E.length;v++)E[v]=this.mul(E[v-1],T);var x=E[0],_=0,S=0,C=P.bitLength()%26;for(C===0&&(C=26),v=P.length-1;v>=0;v--){for(var j=P.words[v],F=C-1;F>=0;F--){var H=j>>F&1;x!==E[0]&&(x=this.sqr(x)),H!==0||_!==0?(_<<=1,_|=H,(++S===4||v===0&&F===0)&&(x=this.mul(x,E[_]),S=0,_=0)):S=0}C=26}return x},z.prototype.convertTo=function(T){var P=T.umod(this.m);return P===T?P.clone():P},z.prototype.convertFrom=function(T){var P=T.clone();return P.red=null,P},a.mont=function(T){return new O(T)},l(O,z),O.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},O.prototype.convertFrom=function(T){var P=this.imod(T.mul(this.rinv));return P.red=null,P},O.prototype.imul=function(T,P){if(T.isZero()||P.isZero())return T.words[0]=0,T.length=1,T;var E=T.imul(P),v=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=E.isub(v).iushrn(this.shift),_=x;return x.cmp(this.m)>=0?_=x.isub(this.m):x.cmpn(0)<0&&(_=x.iadd(this.m)),_._forceRed(this)},O.prototype.mul=function(T,P){if(T.isZero()||P.isZero())return new a(0)._forceRed(this);var E=T.mul(P),v=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=E.isub(v).iushrn(this.shift),_=x;return x.cmp(this.m)>=0?_=x.isub(this.m):x.cmpn(0)<0&&(_=x.iadd(this.m)),_._forceRed(this)},O.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,i){i.byteLength=function(f){var m=d(f),y=m[0],p=m[1];return 3*(y+p)/4-p},i.toByteArray=function(f){var m,y,p=d(f),b=p[0],g=p[1],w=new u(function(U,V,R){return 3*(V+R)/4-R}(0,b,g)),k=0,A=g>0?b-4:b;for(y=0;y<A;y+=4)m=o[f.charCodeAt(y)]<<18|o[f.charCodeAt(y+1)]<<12|o[f.charCodeAt(y+2)]<<6|o[f.charCodeAt(y+3)],w[k++]=m>>16&255,w[k++]=m>>8&255,w[k++]=255&m;return g===2&&(m=o[f.charCodeAt(y)]<<2|o[f.charCodeAt(y+1)]>>4,w[k++]=255&m),g===1&&(m=o[f.charCodeAt(y)]<<10|o[f.charCodeAt(y+1)]<<4|o[f.charCodeAt(y+2)]>>2,w[k++]=m>>8&255,w[k++]=255&m),w},i.fromByteArray=function(f){for(var m,y=f.length,p=y%3,b=[],g=0,w=y-p;g<w;g+=16383)b.push(h(f,g,g+16383>w?w:g+16383));return p===1?(m=f[y-1],b.push(s[m>>2]+s[m<<4&63]+"==")):p===2&&(m=(f[y-2]<<8)+f[y-1],b.push(s[m>>10]+s[m>>4&63]+s[m<<2&63]+"=")),b.join("")};for(var s=[],o=[],u=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=l.length;a<c;++a)s[a]=l[a],o[l.charCodeAt(a)]=a;function d(f){var m=f.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");return y===-1&&(y=m),[y,y===m?0:4-y%4]}function h(f,m,y){for(var p,b,g=[],w=m;w<y;w+=3)p=(f[w]<<16&16711680)+(f[w+1]<<8&65280)+(255&f[w+2]),g.push(s[(b=p)>>18&63]+s[b>>12&63]+s[b>>6&63]+s[63&b]);return g.join("")}o[45]=62,o[95]=63},{}],186:[function(e,n,i){(function(s,o){function u(E,v){if(!E)throw new Error(v||"Assertion failed")}function l(E,v){E.super_=v;var x=function(){};x.prototype=v.prototype,E.prototype=new x,E.prototype.constructor=E}function a(E,v,x){if(a.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(v!=="le"&&v!=="be"||(x=v,v=10),this._init(E||0,v||10,x||"be"))}var c;typeof s=="object"?s.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(E,v){var x=E.charCodeAt(v);return x>=48&&x<=57?x-48:x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:void u(!1,"Invalid character in "+E)}function h(E,v,x){var _=d(E,x);return x-1>=v&&(_|=d(E,x-1)<<4),_}function f(E,v,x,_){for(var S=0,C=0,j=Math.min(E.length,x),F=v;F<j;F++){var H=E.charCodeAt(F)-48;S*=_,C=H>=49?H-49+10:H>=17?H-17+10:H,u(H>=0&&C<_,"Invalid character"),S+=C}return S}function m(E,v){E.words=v.words,E.length=v.length,E.negative=v.negative,E.red=v.red}if(a.isBN=function(E){return E instanceof a||E!==null&&typeof E=="object"&&E.constructor.wordSize===a.wordSize&&Array.isArray(E.words)},a.max=function(E,v){return E.cmp(v)>0?E:v},a.min=function(E,v){return E.cmp(v)<0?E:v},a.prototype._init=function(E,v,x){if(typeof E=="number")return this._initNumber(E,v,x);if(typeof E=="object")return this._initArray(E,v,x);v==="hex"&&(v=16),u(v===(0|v)&&v>=2&&v<=36);var _=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<E.length&&(v===16?this._parseHex(E,_,x):(this._parseBase(E,v,_),x==="le"&&this._initArray(this.toArray(),v,x)))},a.prototype._initNumber=function(E,v,x){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(u(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),v,x)},a.prototype._initArray=function(E,v,x){if(u(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,C,j=0;if(x==="be")for(_=E.length-1,S=0;_>=0;_-=3)C=E[_]|E[_-1]<<8|E[_-2]<<16,this.words[S]|=C<<j&67108863,this.words[S+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,S++);else if(x==="le")for(_=0,S=0;_<E.length;_+=3)C=E[_]|E[_+1]<<8|E[_+2]<<16,this.words[S]|=C<<j&67108863,this.words[S+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,S++);return this._strip()},a.prototype._parseHex=function(E,v,x){this.length=Math.ceil((E.length-v)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,C=0,j=0;if(x==="be")for(_=E.length-1;_>=v;_-=2)S=h(E,v,_)<<C,this.words[j]|=67108863&S,C>=18?(C-=18,j+=1,this.words[j]|=S>>>26):C+=8;else for(_=(E.length-v)%2==0?v+1:v;_<E.length;_+=2)S=h(E,v,_)<<C,this.words[j]|=67108863&S,C>=18?(C-=18,j+=1,this.words[j]|=S>>>26):C+=8;this._strip()},a.prototype._parseBase=function(E,v,x){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=v)_++;_--,S=S/v|0;for(var C=E.length-x,j=C%_,F=Math.min(C,C-j)+x,H=0,W=x;W<F;W+=_)H=f(E,W,W+_,v),this.imuln(S),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H);if(j!==0){var Y=1;for(H=f(E,W,E.length,v),W=0;W<j;W++)Y*=v;this.imuln(Y),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H)}this._strip()},a.prototype.copy=function(E){E.words=new Array(this.length);for(var v=0;v<this.length;v++)E.words[v]=this.words[v];E.length=this.length,E.negative=this.negative,E.red=this.red},a.prototype._move=function(E){m(E,this)},a.prototype.clone=function(){var E=new a(null);return this.copy(E),E},a.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{a.prototype.inspect=y}else a.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(E,v){var x;if(v=0|v||1,(E=E||10)===16||E==="hex"){x="";for(var _=0,S=0,C=0;C<this.length;C++){var j=this.words[C],F=(16777215&(j<<_|S)).toString(16);S=j>>>24-_&16777215,(_+=2)>=26&&(_-=26,C--),x=S!==0||C!==this.length-1?p[6-F.length]+F+x:F+x}for(S!==0&&(x=S.toString(16)+x);x.length%v!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(E===(0|E)&&E>=2&&E<=36){var H=b[E],W=g[E];x="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var B=Y.modrn(W).toString(E);x=(Y=Y.idivn(W)).isZero()?B+x:p[H-B.length]+B+x}for(this.isZero()&&(x="0"+x);x.length%v!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}u(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},a.prototype.toJSON=function(){return this.toString(16,2)},c&&(a.prototype.toBuffer=function(E,v){return this.toArrayLike(c,E,v)}),a.prototype.toArray=function(E,v){return this.toArrayLike(Array,E,v)};function w(E,v,x){x.negative=v.negative^E.negative;var _=E.length+v.length|0;x.length=_,_=_-1|0;var S=0|E.words[0],C=0|v.words[0],j=S*C,F=67108863&j,H=j/67108864|0;x.words[0]=F;for(var W=1;W<_;W++){for(var Y=H>>>26,B=67108863&H,G=Math.min(W,v.length-1),D=Math.max(0,W-E.length+1);D<=G;D++){var M=W-D|0;Y+=(j=(S=0|E.words[M])*(C=0|v.words[D])+B)/67108864|0,B=67108863&j}x.words[W]=0|B,H=0|Y}return H!==0?x.words[W]=0|H:x.length--,x._strip()}a.prototype.toArrayLike=function(E,v,x){this._strip();var _=this.byteLength(),S=x||Math.max(1,_);u(_<=S,"byte array longer than desired length"),u(S>0,"Requested array length <= 0");var C=function(j,F){return j.allocUnsafe?j.allocUnsafe(F):new j(F)}(E,S);return this["_toArrayLike"+(v==="le"?"LE":"BE")](C,_),C},a.prototype._toArrayLikeLE=function(E,v){for(var x=0,_=0,S=0,C=0;S<this.length;S++){var j=this.words[S]<<C|_;E[x++]=255&j,x<E.length&&(E[x++]=j>>8&255),x<E.length&&(E[x++]=j>>16&255),C===6?(x<E.length&&(E[x++]=j>>24&255),_=0,C=0):(_=j>>>24,C+=2)}if(x<E.length)for(E[x++]=_;x<E.length;)E[x++]=0},a.prototype._toArrayLikeBE=function(E,v){for(var x=E.length-1,_=0,S=0,C=0;S<this.length;S++){var j=this.words[S]<<C|_;E[x--]=255&j,x>=0&&(E[x--]=j>>8&255),x>=0&&(E[x--]=j>>16&255),C===6?(x>=0&&(E[x--]=j>>24&255),_=0,C=0):(_=j>>>24,C+=2)}if(x>=0)for(E[x--]=_;x>=0;)E[x--]=0},Math.clz32?a.prototype._countBits=function(E){return 32-Math.clz32(E)}:a.prototype._countBits=function(E){var v=E,x=0;return v>=4096&&(x+=13,v>>>=13),v>=64&&(x+=7,v>>>=7),v>=8&&(x+=4,v>>>=4),v>=2&&(x+=2,v>>>=2),x+v},a.prototype._zeroBits=function(E){if(E===0)return 26;var v=E,x=0;return!(8191&v)&&(x+=13,v>>>=13),!(127&v)&&(x+=7,v>>>=7),!(15&v)&&(x+=4,v>>>=4),!(3&v)&&(x+=2,v>>>=2),!(1&v)&&x++,x},a.prototype.bitLength=function(){var E=this.words[this.length-1],v=this._countBits(E);return 26*(this.length-1)+v},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,v=0;v<this.length;v++){var x=this._zeroBits(this.words[v]);if(E+=x,x!==26)break}return E},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},a.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var v=0;v<E.length;v++)this.words[v]=this.words[v]|E.words[v];return this._strip()},a.prototype.ior=function(E){return u((this.negative|E.negative)==0),this.iuor(E)},a.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},a.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},a.prototype.iuand=function(E){var v;v=this.length>E.length?E:this;for(var x=0;x<v.length;x++)this.words[x]=this.words[x]&E.words[x];return this.length=v.length,this._strip()},a.prototype.iand=function(E){return u((this.negative|E.negative)==0),this.iuand(E)},a.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},a.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},a.prototype.iuxor=function(E){var v,x;this.length>E.length?(v=this,x=E):(v=E,x=this);for(var _=0;_<x.length;_++)this.words[_]=v.words[_]^x.words[_];if(this!==v)for(;_<v.length;_++)this.words[_]=v.words[_];return this.length=v.length,this._strip()},a.prototype.ixor=function(E){return u((this.negative|E.negative)==0),this.iuxor(E)},a.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},a.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},a.prototype.inotn=function(E){u(typeof E=="number"&&E>=0);var v=0|Math.ceil(E/26),x=E%26;this._expand(v),x>0&&v--;for(var _=0;_<v;_++)this.words[_]=67108863&~this.words[_];return x>0&&(this.words[_]=~this.words[_]&67108863>>26-x),this._strip()},a.prototype.notn=function(E){return this.clone().inotn(E)},a.prototype.setn=function(E,v){u(typeof E=="number"&&E>=0);var x=E/26|0,_=E%26;return this._expand(x+1),this.words[x]=v?this.words[x]|1<<_:this.words[x]&~(1<<_),this._strip()},a.prototype.iadd=function(E){var v,x,_;if(this.negative!==0&&E.negative===0)return this.negative=0,v=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,v=this.isub(E),E.negative=1,v._normSign();this.length>E.length?(x=this,_=E):(x=E,_=this);for(var S=0,C=0;C<_.length;C++)v=(0|x.words[C])+(0|_.words[C])+S,this.words[C]=67108863&v,S=v>>>26;for(;S!==0&&C<x.length;C++)v=(0|x.words[C])+S,this.words[C]=67108863&v,S=v>>>26;if(this.length=x.length,S!==0)this.words[this.length]=S,this.length++;else if(x!==this)for(;C<x.length;C++)this.words[C]=x.words[C];return this},a.prototype.add=function(E){var v;return E.negative!==0&&this.negative===0?(E.negative=0,v=this.sub(E),E.negative^=1,v):E.negative===0&&this.negative!==0?(this.negative=0,v=E.sub(this),this.negative=1,v):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},a.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var v=this.iadd(E);return E.negative=1,v._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var x,_,S=this.cmp(E);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(x=this,_=E):(x=E,_=this);for(var C=0,j=0;j<_.length;j++)C=(v=(0|x.words[j])-(0|_.words[j])+C)>>26,this.words[j]=67108863&v;for(;C!==0&&j<x.length;j++)C=(v=(0|x.words[j])+C)>>26,this.words[j]=67108863&v;if(C===0&&j<x.length&&x!==this)for(;j<x.length;j++)this.words[j]=x.words[j];return this.length=Math.max(this.length,j),x!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(E){return this.clone().isub(E)};var k=function(E,v,x){var _,S,C,j=E.words,F=v.words,H=x.words,W=0,Y=0|j[0],B=8191&Y,G=Y>>>13,D=0|j[1],M=8191&D,$=D>>>13,X=0|j[2],te=8191&X,Q=X>>>13,ee=0|j[3],le=8191&ee,oe=ee>>>13,J=0|j[4],ie=8191&J,ne=J>>>13,ce=0|j[5],ue=8191&ce,fe=ce>>>13,me=0|j[6],ye=8191&me,xe=me>>>13,Te=0|j[7],ke=8191&Te,Pe=Te>>>13,We=0|j[8],He=8191&We,Ge=We>>>13,ze=0|j[9],De=8191&ze,Re=ze>>>13,je=0|F[0],$e=8191&je,Fe=je>>>13,mt=0|F[1],Rt=8191&mt,Ke=mt>>>13,gt=0|F[2],pt=8191&gt,nt=gt>>>13,_t=0|F[3],xt=8191&_t,Xe=_t>>>13,bt=0|F[4],Ct=8191&bt,rt=bt>>>13,at=0|F[5],Dt=8191&at,it=at>>>13,se=0|F[6],he=8191&se,be=se>>>13,Ae=0|F[7],Ze=8191&Ae,Ne=Ae>>>13,tt=0|F[8],Qe=8191&tt,qe=tt>>>13,st=0|F[9],Ye=8191&st,ft=st>>>13;x.negative=E.negative^v.negative,x.length=19;var qt=(W+(_=Math.imul(B,$e))|0)+((8191&(S=(S=Math.imul(B,Fe))+Math.imul(G,$e)|0))<<13)|0;W=((C=Math.imul(G,Fe))+(S>>>13)|0)+(qt>>>26)|0,qt&=67108863,_=Math.imul(M,$e),S=(S=Math.imul(M,Fe))+Math.imul($,$e)|0,C=Math.imul($,Fe);var Ft=(W+(_=_+Math.imul(B,Rt)|0)|0)+((8191&(S=(S=S+Math.imul(B,Ke)|0)+Math.imul(G,Rt)|0))<<13)|0;W=((C=C+Math.imul(G,Ke)|0)+(S>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(te,$e),S=(S=Math.imul(te,Fe))+Math.imul(Q,$e)|0,C=Math.imul(Q,Fe),_=_+Math.imul(M,Rt)|0,S=(S=S+Math.imul(M,Ke)|0)+Math.imul($,Rt)|0,C=C+Math.imul($,Ke)|0;var Yt=(W+(_=_+Math.imul(B,pt)|0)|0)+((8191&(S=(S=S+Math.imul(B,nt)|0)+Math.imul(G,pt)|0))<<13)|0;W=((C=C+Math.imul(G,nt)|0)+(S>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,_=Math.imul(le,$e),S=(S=Math.imul(le,Fe))+Math.imul(oe,$e)|0,C=Math.imul(oe,Fe),_=_+Math.imul(te,Rt)|0,S=(S=S+Math.imul(te,Ke)|0)+Math.imul(Q,Rt)|0,C=C+Math.imul(Q,Ke)|0,_=_+Math.imul(M,pt)|0,S=(S=S+Math.imul(M,nt)|0)+Math.imul($,pt)|0,C=C+Math.imul($,nt)|0;var tr=(W+(_=_+Math.imul(B,xt)|0)|0)+((8191&(S=(S=S+Math.imul(B,Xe)|0)+Math.imul(G,xt)|0))<<13)|0;W=((C=C+Math.imul(G,Xe)|0)+(S>>>13)|0)+(tr>>>26)|0,tr&=67108863,_=Math.imul(ie,$e),S=(S=Math.imul(ie,Fe))+Math.imul(ne,$e)|0,C=Math.imul(ne,Fe),_=_+Math.imul(le,Rt)|0,S=(S=S+Math.imul(le,Ke)|0)+Math.imul(oe,Rt)|0,C=C+Math.imul(oe,Ke)|0,_=_+Math.imul(te,pt)|0,S=(S=S+Math.imul(te,nt)|0)+Math.imul(Q,pt)|0,C=C+Math.imul(Q,nt)|0,_=_+Math.imul(M,xt)|0,S=(S=S+Math.imul(M,Xe)|0)+Math.imul($,xt)|0,C=C+Math.imul($,Xe)|0;var Sr=(W+(_=_+Math.imul(B,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(B,rt)|0)+Math.imul(G,Ct)|0))<<13)|0;W=((C=C+Math.imul(G,rt)|0)+(S>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,_=Math.imul(ue,$e),S=(S=Math.imul(ue,Fe))+Math.imul(fe,$e)|0,C=Math.imul(fe,Fe),_=_+Math.imul(ie,Rt)|0,S=(S=S+Math.imul(ie,Ke)|0)+Math.imul(ne,Rt)|0,C=C+Math.imul(ne,Ke)|0,_=_+Math.imul(le,pt)|0,S=(S=S+Math.imul(le,nt)|0)+Math.imul(oe,pt)|0,C=C+Math.imul(oe,nt)|0,_=_+Math.imul(te,xt)|0,S=(S=S+Math.imul(te,Xe)|0)+Math.imul(Q,xt)|0,C=C+Math.imul(Q,Xe)|0,_=_+Math.imul(M,Ct)|0,S=(S=S+Math.imul(M,rt)|0)+Math.imul($,Ct)|0,C=C+Math.imul($,rt)|0;var re=(W+(_=_+Math.imul(B,Dt)|0)|0)+((8191&(S=(S=S+Math.imul(B,it)|0)+Math.imul(G,Dt)|0))<<13)|0;W=((C=C+Math.imul(G,it)|0)+(S>>>13)|0)+(re>>>26)|0,re&=67108863,_=Math.imul(ye,$e),S=(S=Math.imul(ye,Fe))+Math.imul(xe,$e)|0,C=Math.imul(xe,Fe),_=_+Math.imul(ue,Rt)|0,S=(S=S+Math.imul(ue,Ke)|0)+Math.imul(fe,Rt)|0,C=C+Math.imul(fe,Ke)|0,_=_+Math.imul(ie,pt)|0,S=(S=S+Math.imul(ie,nt)|0)+Math.imul(ne,pt)|0,C=C+Math.imul(ne,nt)|0,_=_+Math.imul(le,xt)|0,S=(S=S+Math.imul(le,Xe)|0)+Math.imul(oe,xt)|0,C=C+Math.imul(oe,Xe)|0,_=_+Math.imul(te,Ct)|0,S=(S=S+Math.imul(te,rt)|0)+Math.imul(Q,Ct)|0,C=C+Math.imul(Q,rt)|0,_=_+Math.imul(M,Dt)|0,S=(S=S+Math.imul(M,it)|0)+Math.imul($,Dt)|0,C=C+Math.imul($,it)|0;var de=(W+(_=_+Math.imul(B,he)|0)|0)+((8191&(S=(S=S+Math.imul(B,be)|0)+Math.imul(G,he)|0))<<13)|0;W=((C=C+Math.imul(G,be)|0)+(S>>>13)|0)+(de>>>26)|0,de&=67108863,_=Math.imul(ke,$e),S=(S=Math.imul(ke,Fe))+Math.imul(Pe,$e)|0,C=Math.imul(Pe,Fe),_=_+Math.imul(ye,Rt)|0,S=(S=S+Math.imul(ye,Ke)|0)+Math.imul(xe,Rt)|0,C=C+Math.imul(xe,Ke)|0,_=_+Math.imul(ue,pt)|0,S=(S=S+Math.imul(ue,nt)|0)+Math.imul(fe,pt)|0,C=C+Math.imul(fe,nt)|0,_=_+Math.imul(ie,xt)|0,S=(S=S+Math.imul(ie,Xe)|0)+Math.imul(ne,xt)|0,C=C+Math.imul(ne,Xe)|0,_=_+Math.imul(le,Ct)|0,S=(S=S+Math.imul(le,rt)|0)+Math.imul(oe,Ct)|0,C=C+Math.imul(oe,rt)|0,_=_+Math.imul(te,Dt)|0,S=(S=S+Math.imul(te,it)|0)+Math.imul(Q,Dt)|0,C=C+Math.imul(Q,it)|0,_=_+Math.imul(M,he)|0,S=(S=S+Math.imul(M,be)|0)+Math.imul($,he)|0,C=C+Math.imul($,be)|0;var ve=(W+(_=_+Math.imul(B,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(B,Ne)|0)+Math.imul(G,Ze)|0))<<13)|0;W=((C=C+Math.imul(G,Ne)|0)+(S>>>13)|0)+(ve>>>26)|0,ve&=67108863,_=Math.imul(He,$e),S=(S=Math.imul(He,Fe))+Math.imul(Ge,$e)|0,C=Math.imul(Ge,Fe),_=_+Math.imul(ke,Rt)|0,S=(S=S+Math.imul(ke,Ke)|0)+Math.imul(Pe,Rt)|0,C=C+Math.imul(Pe,Ke)|0,_=_+Math.imul(ye,pt)|0,S=(S=S+Math.imul(ye,nt)|0)+Math.imul(xe,pt)|0,C=C+Math.imul(xe,nt)|0,_=_+Math.imul(ue,xt)|0,S=(S=S+Math.imul(ue,Xe)|0)+Math.imul(fe,xt)|0,C=C+Math.imul(fe,Xe)|0,_=_+Math.imul(ie,Ct)|0,S=(S=S+Math.imul(ie,rt)|0)+Math.imul(ne,Ct)|0,C=C+Math.imul(ne,rt)|0,_=_+Math.imul(le,Dt)|0,S=(S=S+Math.imul(le,it)|0)+Math.imul(oe,Dt)|0,C=C+Math.imul(oe,it)|0,_=_+Math.imul(te,he)|0,S=(S=S+Math.imul(te,be)|0)+Math.imul(Q,he)|0,C=C+Math.imul(Q,be)|0,_=_+Math.imul(M,Ze)|0,S=(S=S+Math.imul(M,Ne)|0)+Math.imul($,Ze)|0,C=C+Math.imul($,Ne)|0;var Se=(W+(_=_+Math.imul(B,Qe)|0)|0)+((8191&(S=(S=S+Math.imul(B,qe)|0)+Math.imul(G,Qe)|0))<<13)|0;W=((C=C+Math.imul(G,qe)|0)+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,_=Math.imul(De,$e),S=(S=Math.imul(De,Fe))+Math.imul(Re,$e)|0,C=Math.imul(Re,Fe),_=_+Math.imul(He,Rt)|0,S=(S=S+Math.imul(He,Ke)|0)+Math.imul(Ge,Rt)|0,C=C+Math.imul(Ge,Ke)|0,_=_+Math.imul(ke,pt)|0,S=(S=S+Math.imul(ke,nt)|0)+Math.imul(Pe,pt)|0,C=C+Math.imul(Pe,nt)|0,_=_+Math.imul(ye,xt)|0,S=(S=S+Math.imul(ye,Xe)|0)+Math.imul(xe,xt)|0,C=C+Math.imul(xe,Xe)|0,_=_+Math.imul(ue,Ct)|0,S=(S=S+Math.imul(ue,rt)|0)+Math.imul(fe,Ct)|0,C=C+Math.imul(fe,rt)|0,_=_+Math.imul(ie,Dt)|0,S=(S=S+Math.imul(ie,it)|0)+Math.imul(ne,Dt)|0,C=C+Math.imul(ne,it)|0,_=_+Math.imul(le,he)|0,S=(S=S+Math.imul(le,be)|0)+Math.imul(oe,he)|0,C=C+Math.imul(oe,be)|0,_=_+Math.imul(te,Ze)|0,S=(S=S+Math.imul(te,Ne)|0)+Math.imul(Q,Ze)|0,C=C+Math.imul(Q,Ne)|0,_=_+Math.imul(M,Qe)|0,S=(S=S+Math.imul(M,qe)|0)+Math.imul($,Qe)|0,C=C+Math.imul($,qe)|0;var Be=(W+(_=_+Math.imul(B,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(B,ft)|0)+Math.imul(G,Ye)|0))<<13)|0;W=((C=C+Math.imul(G,ft)|0)+(S>>>13)|0)+(Be>>>26)|0,Be&=67108863,_=Math.imul(De,Rt),S=(S=Math.imul(De,Ke))+Math.imul(Re,Rt)|0,C=Math.imul(Re,Ke),_=_+Math.imul(He,pt)|0,S=(S=S+Math.imul(He,nt)|0)+Math.imul(Ge,pt)|0,C=C+Math.imul(Ge,nt)|0,_=_+Math.imul(ke,xt)|0,S=(S=S+Math.imul(ke,Xe)|0)+Math.imul(Pe,xt)|0,C=C+Math.imul(Pe,Xe)|0,_=_+Math.imul(ye,Ct)|0,S=(S=S+Math.imul(ye,rt)|0)+Math.imul(xe,Ct)|0,C=C+Math.imul(xe,rt)|0,_=_+Math.imul(ue,Dt)|0,S=(S=S+Math.imul(ue,it)|0)+Math.imul(fe,Dt)|0,C=C+Math.imul(fe,it)|0,_=_+Math.imul(ie,he)|0,S=(S=S+Math.imul(ie,be)|0)+Math.imul(ne,he)|0,C=C+Math.imul(ne,be)|0,_=_+Math.imul(le,Ze)|0,S=(S=S+Math.imul(le,Ne)|0)+Math.imul(oe,Ze)|0,C=C+Math.imul(oe,Ne)|0,_=_+Math.imul(te,Qe)|0,S=(S=S+Math.imul(te,qe)|0)+Math.imul(Q,Qe)|0,C=C+Math.imul(Q,qe)|0;var Ce=(W+(_=_+Math.imul(M,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(M,ft)|0)+Math.imul($,Ye)|0))<<13)|0;W=((C=C+Math.imul($,ft)|0)+(S>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,_=Math.imul(De,pt),S=(S=Math.imul(De,nt))+Math.imul(Re,pt)|0,C=Math.imul(Re,nt),_=_+Math.imul(He,xt)|0,S=(S=S+Math.imul(He,Xe)|0)+Math.imul(Ge,xt)|0,C=C+Math.imul(Ge,Xe)|0,_=_+Math.imul(ke,Ct)|0,S=(S=S+Math.imul(ke,rt)|0)+Math.imul(Pe,Ct)|0,C=C+Math.imul(Pe,rt)|0,_=_+Math.imul(ye,Dt)|0,S=(S=S+Math.imul(ye,it)|0)+Math.imul(xe,Dt)|0,C=C+Math.imul(xe,it)|0,_=_+Math.imul(ue,he)|0,S=(S=S+Math.imul(ue,be)|0)+Math.imul(fe,he)|0,C=C+Math.imul(fe,be)|0,_=_+Math.imul(ie,Ze)|0,S=(S=S+Math.imul(ie,Ne)|0)+Math.imul(ne,Ze)|0,C=C+Math.imul(ne,Ne)|0,_=_+Math.imul(le,Qe)|0,S=(S=S+Math.imul(le,qe)|0)+Math.imul(oe,Qe)|0,C=C+Math.imul(oe,qe)|0;var Me=(W+(_=_+Math.imul(te,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(te,ft)|0)+Math.imul(Q,Ye)|0))<<13)|0;W=((C=C+Math.imul(Q,ft)|0)+(S>>>13)|0)+(Me>>>26)|0,Me&=67108863,_=Math.imul(De,xt),S=(S=Math.imul(De,Xe))+Math.imul(Re,xt)|0,C=Math.imul(Re,Xe),_=_+Math.imul(He,Ct)|0,S=(S=S+Math.imul(He,rt)|0)+Math.imul(Ge,Ct)|0,C=C+Math.imul(Ge,rt)|0,_=_+Math.imul(ke,Dt)|0,S=(S=S+Math.imul(ke,it)|0)+Math.imul(Pe,Dt)|0,C=C+Math.imul(Pe,it)|0,_=_+Math.imul(ye,he)|0,S=(S=S+Math.imul(ye,be)|0)+Math.imul(xe,he)|0,C=C+Math.imul(xe,be)|0,_=_+Math.imul(ue,Ze)|0,S=(S=S+Math.imul(ue,Ne)|0)+Math.imul(fe,Ze)|0,C=C+Math.imul(fe,Ne)|0,_=_+Math.imul(ie,Qe)|0,S=(S=S+Math.imul(ie,qe)|0)+Math.imul(ne,Qe)|0,C=C+Math.imul(ne,qe)|0;var vt=(W+(_=_+Math.imul(le,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(le,ft)|0)+Math.imul(oe,Ye)|0))<<13)|0;W=((C=C+Math.imul(oe,ft)|0)+(S>>>13)|0)+(vt>>>26)|0,vt&=67108863,_=Math.imul(De,Ct),S=(S=Math.imul(De,rt))+Math.imul(Re,Ct)|0,C=Math.imul(Re,rt),_=_+Math.imul(He,Dt)|0,S=(S=S+Math.imul(He,it)|0)+Math.imul(Ge,Dt)|0,C=C+Math.imul(Ge,it)|0,_=_+Math.imul(ke,he)|0,S=(S=S+Math.imul(ke,be)|0)+Math.imul(Pe,he)|0,C=C+Math.imul(Pe,be)|0,_=_+Math.imul(ye,Ze)|0,S=(S=S+Math.imul(ye,Ne)|0)+Math.imul(xe,Ze)|0,C=C+Math.imul(xe,Ne)|0,_=_+Math.imul(ue,Qe)|0,S=(S=S+Math.imul(ue,qe)|0)+Math.imul(fe,Qe)|0,C=C+Math.imul(fe,qe)|0;var ut=(W+(_=_+Math.imul(ie,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(ie,ft)|0)+Math.imul(ne,Ye)|0))<<13)|0;W=((C=C+Math.imul(ne,ft)|0)+(S>>>13)|0)+(ut>>>26)|0,ut&=67108863,_=Math.imul(De,Dt),S=(S=Math.imul(De,it))+Math.imul(Re,Dt)|0,C=Math.imul(Re,it),_=_+Math.imul(He,he)|0,S=(S=S+Math.imul(He,be)|0)+Math.imul(Ge,he)|0,C=C+Math.imul(Ge,be)|0,_=_+Math.imul(ke,Ze)|0,S=(S=S+Math.imul(ke,Ne)|0)+Math.imul(Pe,Ze)|0,C=C+Math.imul(Pe,Ne)|0,_=_+Math.imul(ye,Qe)|0,S=(S=S+Math.imul(ye,qe)|0)+Math.imul(xe,Qe)|0,C=C+Math.imul(xe,qe)|0;var dt=(W+(_=_+Math.imul(ue,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(ue,ft)|0)+Math.imul(fe,Ye)|0))<<13)|0;W=((C=C+Math.imul(fe,ft)|0)+(S>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(De,he),S=(S=Math.imul(De,be))+Math.imul(Re,he)|0,C=Math.imul(Re,be),_=_+Math.imul(He,Ze)|0,S=(S=S+Math.imul(He,Ne)|0)+Math.imul(Ge,Ze)|0,C=C+Math.imul(Ge,Ne)|0,_=_+Math.imul(ke,Qe)|0,S=(S=S+Math.imul(ke,qe)|0)+Math.imul(Pe,Qe)|0,C=C+Math.imul(Pe,qe)|0;var Je=(W+(_=_+Math.imul(ye,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(ye,ft)|0)+Math.imul(xe,Ye)|0))<<13)|0;W=((C=C+Math.imul(xe,ft)|0)+(S>>>13)|0)+(Je>>>26)|0,Je&=67108863,_=Math.imul(De,Ze),S=(S=Math.imul(De,Ne))+Math.imul(Re,Ze)|0,C=Math.imul(Re,Ne),_=_+Math.imul(He,Qe)|0,S=(S=S+Math.imul(He,qe)|0)+Math.imul(Ge,Qe)|0,C=C+Math.imul(Ge,qe)|0;var At=(W+(_=_+Math.imul(ke,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(ke,ft)|0)+Math.imul(Pe,Ye)|0))<<13)|0;W=((C=C+Math.imul(Pe,ft)|0)+(S>>>13)|0)+(At>>>26)|0,At&=67108863,_=Math.imul(De,Qe),S=(S=Math.imul(De,qe))+Math.imul(Re,Qe)|0,C=Math.imul(Re,qe);var Pt=(W+(_=_+Math.imul(He,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(He,ft)|0)+Math.imul(Ge,Ye)|0))<<13)|0;W=((C=C+Math.imul(Ge,ft)|0)+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var jt=(W+(_=Math.imul(De,Ye))|0)+((8191&(S=(S=Math.imul(De,ft))+Math.imul(Re,Ye)|0))<<13)|0;return W=((C=Math.imul(Re,ft))+(S>>>13)|0)+(jt>>>26)|0,jt&=67108863,H[0]=qt,H[1]=Ft,H[2]=Yt,H[3]=tr,H[4]=Sr,H[5]=re,H[6]=de,H[7]=ve,H[8]=Se,H[9]=Be,H[10]=Ce,H[11]=Me,H[12]=vt,H[13]=ut,H[14]=dt,H[15]=Je,H[16]=At,H[17]=Pt,H[18]=jt,W!==0&&(H[19]=W,x.length++),x};function A(E,v,x){x.negative=v.negative^E.negative,x.length=E.length+v.length;for(var _=0,S=0,C=0;C<x.length-1;C++){var j=S;S=0;for(var F=67108863&_,H=Math.min(C,v.length-1),W=Math.max(0,C-E.length+1);W<=H;W++){var Y=C-W,B=(0|E.words[Y])*(0|v.words[W]),G=67108863&B;F=67108863&(G=G+F|0),S+=(j=(j=j+(B/67108864|0)|0)+(G>>>26)|0)>>>26,j&=67108863}x.words[C]=F,_=j,j=S}return _!==0?x.words[C]=_:x.length--,x._strip()}function U(E,v,x){return A(E,v,x)}Math.imul||(k=w),a.prototype.mulTo=function(E,v){var x=this.length+E.length;return this.length===10&&E.length===10?k(this,E,v):x<63?w(this,E,v):x<1024?A(this,E,v):U(this,E,v)},a.prototype.mul=function(E){var v=new a(null);return v.words=new Array(this.length+E.length),this.mulTo(E,v)},a.prototype.mulf=function(E){var v=new a(null);return v.words=new Array(this.length+E.length),U(this,E,v)},a.prototype.imul=function(E){return this.clone().mulTo(E,this)},a.prototype.imuln=function(E){var v=E<0;v&&(E=-E),u(typeof E=="number"),u(E<67108864);for(var x=0,_=0;_<this.length;_++){var S=(0|this.words[_])*E,C=(67108863&S)+(67108863&x);x>>=26,x+=S/67108864|0,x+=C>>>26,this.words[_]=67108863&C}return x!==0&&(this.words[_]=x,this.length++),v?this.ineg():this},a.prototype.muln=function(E){return this.clone().imuln(E)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(E){var v=function(C){for(var j=new Array(C.bitLength()),F=0;F<j.length;F++){var H=F/26|0,W=F%26;j[F]=C.words[H]>>>W&1}return j}(E);if(v.length===0)return new a(1);for(var x=this,_=0;_<v.length&&v[_]===0;_++,x=x.sqr());if(++_<v.length)for(var S=x.sqr();_<v.length;_++,S=S.sqr())v[_]!==0&&(x=x.mul(S));return x},a.prototype.iushln=function(E){u(typeof E=="number"&&E>=0);var v,x=E%26,_=(E-x)/26,S=67108863>>>26-x<<26-x;if(x!==0){var C=0;for(v=0;v<this.length;v++){var j=this.words[v]&S,F=(0|this.words[v])-j<<x;this.words[v]=F|C,C=j>>>26-x}C&&(this.words[v]=C,this.length++)}if(_!==0){for(v=this.length-1;v>=0;v--)this.words[v+_]=this.words[v];for(v=0;v<_;v++)this.words[v]=0;this.length+=_}return this._strip()},a.prototype.ishln=function(E){return u(this.negative===0),this.iushln(E)},a.prototype.iushrn=function(E,v,x){var _;u(typeof E=="number"&&E>=0),_=v?(v-v%26)/26:0;var S=E%26,C=Math.min((E-S)/26,this.length),j=67108863^67108863>>>S<<S,F=x;if(_-=C,_=Math.max(0,_),F){for(var H=0;H<C;H++)F.words[H]=this.words[H];F.length=C}if(C!==0)if(this.length>C)for(this.length-=C,H=0;H<this.length;H++)this.words[H]=this.words[H+C];else this.words[0]=0,this.length=1;var W=0;for(H=this.length-1;H>=0&&(W!==0||H>=_);H--){var Y=0|this.words[H];this.words[H]=W<<26-S|Y>>>S,W=Y&j}return F&&W!==0&&(F.words[F.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(E,v,x){return u(this.negative===0),this.iushrn(E,v,x)},a.prototype.shln=function(E){return this.clone().ishln(E)},a.prototype.ushln=function(E){return this.clone().iushln(E)},a.prototype.shrn=function(E){return this.clone().ishrn(E)},a.prototype.ushrn=function(E){return this.clone().iushrn(E)},a.prototype.testn=function(E){u(typeof E=="number"&&E>=0);var v=E%26,x=(E-v)/26,_=1<<v;return!(this.length<=x)&&!!(this.words[x]&_)},a.prototype.imaskn=function(E){u(typeof E=="number"&&E>=0);var v=E%26,x=(E-v)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(v!==0&&x++,this.length=Math.min(x,this.length),v!==0){var _=67108863^67108863>>>v<<v;this.words[this.length-1]&=_}return this._strip()},a.prototype.maskn=function(E){return this.clone().imaskn(E)},a.prototype.iaddn=function(E){return u(typeof E=="number"),u(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},a.prototype._iaddn=function(E){this.words[0]+=E;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(E){if(u(typeof E=="number"),u(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},a.prototype.addn=function(E){return this.clone().iaddn(E)},a.prototype.subn=function(E){return this.clone().isubn(E)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(E,v,x){var _,S,C=E.length+x;this._expand(C);var j=0;for(_=0;_<E.length;_++){S=(0|this.words[_+x])+j;var F=(0|E.words[_])*v;j=((S-=67108863&F)>>26)-(F/67108864|0),this.words[_+x]=67108863&S}for(;_<this.length-x;_++)j=(S=(0|this.words[_+x])+j)>>26,this.words[_+x]=67108863&S;if(j===0)return this._strip();for(u(j===-1),j=0,_=0;_<this.length;_++)j=(S=-(0|this.words[_])+j)>>26,this.words[_]=67108863&S;return this.negative=1,this._strip()},a.prototype._wordDiv=function(E,v){var x=(this.length,E.length),_=this.clone(),S=E,C=0|S.words[S.length-1];(x=26-this._countBits(C))!==0&&(S=S.ushln(x),_.iushln(x),C=0|S.words[S.length-1]);var j,F=_.length-S.length;if(v!=="mod"){(j=new a(null)).length=F+1,j.words=new Array(j.length);for(var H=0;H<j.length;H++)j.words[H]=0}var W=_.clone()._ishlnsubmul(S,1,F);W.negative===0&&(_=W,j&&(j.words[F]=1));for(var Y=F-1;Y>=0;Y--){var B=67108864*(0|_.words[S.length+Y])+(0|_.words[S.length+Y-1]);for(B=Math.min(B/C|0,67108863),_._ishlnsubmul(S,B,Y);_.negative!==0;)B--,_.negative=0,_._ishlnsubmul(S,1,Y),_.isZero()||(_.negative^=1);j&&(j.words[Y]=B)}return j&&j._strip(),_._strip(),v!=="div"&&x!==0&&_.iushrn(x),{div:j||null,mod:_}},a.prototype.divmod=function(E,v,x){return u(!E.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&E.negative===0?(C=this.neg().divmod(E,v),v!=="mod"&&(_=C.div.neg()),v!=="div"&&(S=C.mod.neg(),x&&S.negative!==0&&S.iadd(E)),{div:_,mod:S}):this.negative===0&&E.negative!==0?(C=this.divmod(E.neg(),v),v!=="mod"&&(_=C.div.neg()),{div:_,mod:C.mod}):this.negative&E.negative?(C=this.neg().divmod(E.neg(),v),v!=="div"&&(S=C.mod.neg(),x&&S.negative!==0&&S.isub(E)),{div:C.div,mod:S}):E.length>this.length||this.cmp(E)<0?{div:new a(0),mod:this}:E.length===1?v==="div"?{div:this.divn(E.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new a(this.modrn(E.words[0]))}:this._wordDiv(E,v);var _,S,C},a.prototype.div=function(E){return this.divmod(E,"div",!1).div},a.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},a.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},a.prototype.divRound=function(E){var v=this.divmod(E);if(v.mod.isZero())return v.div;var x=v.div.negative!==0?v.mod.isub(E):v.mod,_=E.ushrn(1),S=E.andln(1),C=x.cmp(_);return C<0||S===1&&C===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modrn=function(E){var v=E<0;v&&(E=-E),u(E<=67108863);for(var x=(1<<26)%E,_=0,S=this.length-1;S>=0;S--)_=(x*_+(0|this.words[S]))%E;return v?-_:_},a.prototype.modn=function(E){return this.modrn(E)},a.prototype.idivn=function(E){var v=E<0;v&&(E=-E),u(E<=67108863);for(var x=0,_=this.length-1;_>=0;_--){var S=(0|this.words[_])+67108864*x;this.words[_]=S/E|0,x=S%E}return this._strip(),v?this.ineg():this},a.prototype.divn=function(E){return this.clone().idivn(E)},a.prototype.egcd=function(E){u(E.negative===0),u(!E.isZero());var v=this,x=E.clone();v=v.negative!==0?v.umod(E):v.clone();for(var _=new a(1),S=new a(0),C=new a(0),j=new a(1),F=0;v.isEven()&&x.isEven();)v.iushrn(1),x.iushrn(1),++F;for(var H=x.clone(),W=v.clone();!v.isZero();){for(var Y=0,B=1;!(v.words[0]&B)&&Y<26;++Y,B<<=1);if(Y>0)for(v.iushrn(Y);Y-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(H),S.isub(W)),_.iushrn(1),S.iushrn(1);for(var G=0,D=1;!(x.words[0]&D)&&G<26;++G,D<<=1);if(G>0)for(x.iushrn(G);G-- >0;)(C.isOdd()||j.isOdd())&&(C.iadd(H),j.isub(W)),C.iushrn(1),j.iushrn(1);v.cmp(x)>=0?(v.isub(x),_.isub(C),S.isub(j)):(x.isub(v),C.isub(_),j.isub(S))}return{a:C,b:j,gcd:x.iushln(F)}},a.prototype._invmp=function(E){u(E.negative===0),u(!E.isZero());var v=this,x=E.clone();v=v.negative!==0?v.umod(E):v.clone();for(var _,S=new a(1),C=new a(0),j=x.clone();v.cmpn(1)>0&&x.cmpn(1)>0;){for(var F=0,H=1;!(v.words[0]&H)&&F<26;++F,H<<=1);if(F>0)for(v.iushrn(F);F-- >0;)S.isOdd()&&S.iadd(j),S.iushrn(1);for(var W=0,Y=1;!(x.words[0]&Y)&&W<26;++W,Y<<=1);if(W>0)for(x.iushrn(W);W-- >0;)C.isOdd()&&C.iadd(j),C.iushrn(1);v.cmp(x)>=0?(v.isub(x),S.isub(C)):(x.isub(v),C.isub(S))}return(_=v.cmpn(1)===0?S:C).cmpn(0)<0&&_.iadd(E),_},a.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var v=this.clone(),x=E.clone();v.negative=0,x.negative=0;for(var _=0;v.isEven()&&x.isEven();_++)v.iushrn(1),x.iushrn(1);for(;;){for(;v.isEven();)v.iushrn(1);for(;x.isEven();)x.iushrn(1);var S=v.cmp(x);if(S<0){var C=v;v=x,x=C}else if(S===0||x.cmpn(1)===0)break;v.isub(x)}return x.iushln(_)},a.prototype.invm=function(E){return this.egcd(E).a.umod(E)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(E){return this.words[0]&E},a.prototype.bincn=function(E){u(typeof E=="number");var v=E%26,x=(E-v)/26,_=1<<v;if(this.length<=x)return this._expand(x+1),this.words[x]|=_,this;for(var S=_,C=x;S!==0&&C<this.length;C++){var j=0|this.words[C];S=(j+=S)>>>26,j&=67108863,this.words[C]=j}return S!==0&&(this.words[C]=S,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(E){var v,x=E<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;if(this._strip(),this.length>1)v=1;else{x&&(E=-E),u(E<=67108863,"Number is too big");var _=0|this.words[0];v=_===E?0:_<E?-1:1}return this.negative!==0?0|-v:v},a.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var v=this.ucmp(E);return this.negative!==0?0|-v:v},a.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var v=0,x=this.length-1;x>=0;x--){var _=0|this.words[x],S=0|E.words[x];if(_!==S){_<S?v=-1:_>S&&(v=1);break}}return v},a.prototype.gtn=function(E){return this.cmpn(E)===1},a.prototype.gt=function(E){return this.cmp(E)===1},a.prototype.gten=function(E){return this.cmpn(E)>=0},a.prototype.gte=function(E){return this.cmp(E)>=0},a.prototype.ltn=function(E){return this.cmpn(E)===-1},a.prototype.lt=function(E){return this.cmp(E)===-1},a.prototype.lten=function(E){return this.cmpn(E)<=0},a.prototype.lte=function(E){return this.cmp(E)<=0},a.prototype.eqn=function(E){return this.cmpn(E)===0},a.prototype.eq=function(E){return this.cmp(E)===0},a.red=function(E){return new T(E)},a.prototype.toRed=function(E){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},a.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(E){return this.red=E,this},a.prototype.forceRed=function(E){return u(!this.red,"Already a number in reduction context"),this._forceRed(E)},a.prototype.redAdd=function(E){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},a.prototype.redIAdd=function(E){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},a.prototype.redSub=function(E){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},a.prototype.redISub=function(E){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},a.prototype.redShl=function(E){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},a.prototype.redMul=function(E){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},a.prototype.redIMul=function(E){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},a.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(E){return u(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var V={k256:null,p224:null,p192:null,p25519:null};function R(E,v){this.name=E,this.p=new a(v,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function N(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(E){if(typeof E=="string"){var v=a._prime(E);this.m=v.p,this.prime=v}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function P(E){T.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var E=new a(null);return E.words=new Array(Math.ceil(this.n/13)),E},R.prototype.ireduce=function(E){var v,x=E;do this.split(x,this.tmp),v=(x=(x=this.imulK(x)).iadd(this.tmp)).bitLength();while(v>this.n);var _=v<this.n?-1:x.ucmp(this.p);return _===0?(x.words[0]=0,x.length=1):_>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},R.prototype.split=function(E,v){E.iushrn(this.n,0,v)},R.prototype.imulK=function(E){return E.imul(this.k)},l(N,R),N.prototype.split=function(E,v){for(var x=Math.min(E.length,9),_=0;_<x;_++)v.words[_]=E.words[_];if(v.length=x,E.length<=9)return E.words[0]=0,void(E.length=1);var S=E.words[9];for(v.words[v.length++]=4194303&S,_=10;_<E.length;_++){var C=0|E.words[_];E.words[_-10]=(4194303&C)<<4|S>>>22,S=C}S>>>=22,E.words[_-10]=S,S===0&&E.length>10?E.length-=10:E.length-=9},N.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var v=0,x=0;x<E.length;x++){var _=0|E.words[x];v+=977*_,E.words[x]=67108863&v,v=64*_+(v/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},l(L,R),l(z,R),l(O,R),O.prototype.imulK=function(E){for(var v=0,x=0;x<E.length;x++){var _=19*(0|E.words[x])+v,S=67108863&_;_>>>=26,E.words[x]=S,v=_}return v!==0&&(E.words[E.length++]=v),E},a._prime=function(E){if(V[E])return V[E];var v;if(E==="k256")v=new N;else if(E==="p224")v=new L;else if(E==="p192")v=new z;else{if(E!=="p25519")throw new Error("Unknown prime "+E);v=new O}return V[E]=v,v},T.prototype._verify1=function(E){u(E.negative===0,"red works only with positives"),u(E.red,"red works only with red numbers")},T.prototype._verify2=function(E,v){u((E.negative|v.negative)==0,"red works only with positives"),u(E.red&&E.red===v.red,"red works only with red numbers")},T.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(m(E,E.umod(this.m)._forceRed(this)),E)},T.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},T.prototype.add=function(E,v){this._verify2(E,v);var x=E.add(v);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},T.prototype.iadd=function(E,v){this._verify2(E,v);var x=E.iadd(v);return x.cmp(this.m)>=0&&x.isub(this.m),x},T.prototype.sub=function(E,v){this._verify2(E,v);var x=E.sub(v);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},T.prototype.isub=function(E,v){this._verify2(E,v);var x=E.isub(v);return x.cmpn(0)<0&&x.iadd(this.m),x},T.prototype.shl=function(E,v){return this._verify1(E),this.imod(E.ushln(v))},T.prototype.imul=function(E,v){return this._verify2(E,v),this.imod(E.imul(v))},T.prototype.mul=function(E,v){return this._verify2(E,v),this.imod(E.mul(v))},T.prototype.isqr=function(E){return this.imul(E,E.clone())},T.prototype.sqr=function(E){return this.mul(E,E)},T.prototype.sqrt=function(E){if(E.isZero())return E.clone();var v=this.m.andln(3);if(u(v%2==1),v===3){var x=this.m.add(new a(1)).iushrn(2);return this.pow(E,x)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);u(!_.isZero());var C=new a(1).toRed(this),j=C.redNeg(),F=this.m.subn(1).iushrn(1),H=this.m.bitLength();for(H=new a(2*H*H).toRed(this);this.pow(H,F).cmp(j)!==0;)H.redIAdd(j);for(var W=this.pow(H,_),Y=this.pow(E,_.addn(1).iushrn(1)),B=this.pow(E,_),G=S;B.cmp(C)!==0;){for(var D=B,M=0;D.cmp(C)!==0;M++)D=D.redSqr();u(M<G);var $=this.pow(W,new a(1).iushln(G-M-1));Y=Y.redMul($),W=$.redSqr(),B=B.redMul(W),G=M}return Y},T.prototype.invm=function(E){var v=E._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},T.prototype.pow=function(E,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return E.clone();var x=new Array(16);x[0]=new a(1).toRed(this),x[1]=E;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],E);var S=x[0],C=0,j=0,F=v.bitLength()%26;for(F===0&&(F=26),_=v.length-1;_>=0;_--){for(var H=v.words[_],W=F-1;W>=0;W--){var Y=H>>W&1;S!==x[0]&&(S=this.sqr(S)),Y!==0||C!==0?(C<<=1,C|=Y,(++j===4||_===0&&W===0)&&(S=this.mul(S,x[C]),j=0,C=0)):j=0}F=26}return S},T.prototype.convertTo=function(E){var v=E.umod(this.m);return v===E?v.clone():v},T.prototype.convertFrom=function(E){var v=E.clone();return v.red=null,v},a.mont=function(E){return new P(E)},l(P,T),P.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},P.prototype.convertFrom=function(E){var v=this.imod(E.mul(this.rinv));return v.red=null,v},P.prototype.imul=function(E,v){if(E.isZero()||v.isZero())return E.words[0]=0,E.length=1,E;var x=E.imul(v),_=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=x.isub(_).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},P.prototype.mul=function(E,v){if(E.isZero()||v.isZero())return new a(0)._forceRed(this);var x=E.mul(v),_=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=x.isub(_).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},P.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,i){var s;function o(l){this.rand=l}if(n.exports=function(l){return s||(s=new o(null)),s.generate(l)},n.exports.Rand=o,o.prototype.generate=function(l){return this._rand(l)},o.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var a=new Uint8Array(l),c=0;c<a.length;c++)a[c]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(l){var a=new Uint8Array(l);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(l){var a=new Uint8Array(l);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var u=e("crypto");if(typeof u.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(l){return u.randomBytes(l)}}catch{}},{crypto:188}],188:[function(e,n,i){},{}],189:[function(e,n,i){var s=e("safe-buffer").Buffer;function o(h){s.isBuffer(h)||(h=s.from(h));for(var f=h.length/4|0,m=new Array(f),y=0;y<f;y++)m[y]=h.readUInt32BE(4*y);return m}function u(h){for(;0<h.length;h++)h[0]=0}function l(h,f,m,y,p){for(var b,g,w,k,A=m[0],U=m[1],V=m[2],R=m[3],N=h[0]^f[0],L=h[1]^f[1],z=h[2]^f[2],O=h[3]^f[3],T=4,P=1;P<p;P++)b=A[N>>>24]^U[L>>>16&255]^V[z>>>8&255]^R[255&O]^f[T++],g=A[L>>>24]^U[z>>>16&255]^V[O>>>8&255]^R[255&N]^f[T++],w=A[z>>>24]^U[O>>>16&255]^V[N>>>8&255]^R[255&L]^f[T++],k=A[O>>>24]^U[N>>>16&255]^V[L>>>8&255]^R[255&z]^f[T++],N=b,L=g,z=w,O=k;return b=(y[N>>>24]<<24|y[L>>>16&255]<<16|y[z>>>8&255]<<8|y[255&O])^f[T++],g=(y[L>>>24]<<24|y[z>>>16&255]<<16|y[O>>>8&255]<<8|y[255&N])^f[T++],w=(y[z>>>24]<<24|y[O>>>16&255]<<16|y[N>>>8&255]<<8|y[255&L])^f[T++],k=(y[O>>>24]<<24|y[N>>>16&255]<<16|y[L>>>8&255]<<8|y[255&z])^f[T++],[b>>>=0,g>>>=0,w>>>=0,k>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var h=new Array(256),f=0;f<256;f++)h[f]=f<128?f<<1:f<<1^283;for(var m=[],y=[],p=[[],[],[],[]],b=[[],[],[],[]],g=0,w=0,k=0;k<256;++k){var A=w^w<<1^w<<2^w<<3^w<<4;A=A>>>8^255&A^99,m[g]=A,y[A]=g;var U=h[g],V=h[U],R=h[V],N=257*h[A]^16843008*A;p[0][g]=N<<24|N>>>8,p[1][g]=N<<16|N>>>16,p[2][g]=N<<8|N>>>24,p[3][g]=N,N=16843009*R^65537*V^257*U^16843008*g,b[0][A]=N<<24|N>>>8,b[1][A]=N<<16|N>>>16,b[2][A]=N<<8|N>>>24,b[3][A]=N,g===0?g=w=1:(g=U^h[h[h[R^U]]],w^=h[h[w]])}return{SBOX:m,INV_SBOX:y,SUB_MIX:p,INV_SUB_MIX:b}}();function d(h){this._key=o(h),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var h=this._key,f=h.length,m=f+6,y=4*(m+1),p=[],b=0;b<f;b++)p[b]=h[b];for(b=f;b<y;b++){var g=p[b-1];b%f==0?(g=g<<8|g>>>24,g=c.SBOX[g>>>24]<<24|c.SBOX[g>>>16&255]<<16|c.SBOX[g>>>8&255]<<8|c.SBOX[255&g],g^=a[b/f|0]<<24):f>6&&b%f==4&&(g=c.SBOX[g>>>24]<<24|c.SBOX[g>>>16&255]<<16|c.SBOX[g>>>8&255]<<8|c.SBOX[255&g]),p[b]=p[b-f]^g}for(var w=[],k=0;k<y;k++){var A=y-k,U=p[A-(k%4?0:4)];w[k]=k<4||A<=4?U:c.INV_SUB_MIX[0][c.SBOX[U>>>24]]^c.INV_SUB_MIX[1][c.SBOX[U>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[U>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&U]]}this._nRounds=m,this._keySchedule=p,this._invKeySchedule=w},d.prototype.encryptBlockRaw=function(h){return l(h=o(h),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},d.prototype.encryptBlock=function(h){var f=this.encryptBlockRaw(h),m=s.allocUnsafe(16);return m.writeUInt32BE(f[0],0),m.writeUInt32BE(f[1],4),m.writeUInt32BE(f[2],8),m.writeUInt32BE(f[3],12),m},d.prototype.decryptBlock=function(h){var f=(h=o(h))[1];h[1]=h[3],h[3]=f;var m=l(h,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),y=s.allocUnsafe(16);return y.writeUInt32BE(m[0],0),y.writeUInt32BE(m[3],4),y.writeUInt32BE(m[2],8),y.writeUInt32BE(m[1],12),y},d.prototype.scrub=function(){u(this._keySchedule),u(this._invKeySchedule),u(this._key)},n.exports.AES=d},{"safe-buffer":494}],190:[function(e,n,i){var s=e("./aes"),o=e("safe-buffer").Buffer,u=e("cipher-base"),l=e("inherits"),a=e("./ghash"),c=e("buffer-xor"),d=e("./incr32");function h(f,m,y,p){u.call(this);var b=o.alloc(4,0);this._cipher=new s.AES(m);var g=this._cipher.encryptBlock(b);this._ghash=new a(g),y=function(w,k,A){if(k.length===12)return w._finID=o.concat([k,o.from([0,0,0,1])]),o.concat([k,o.from([0,0,0,2])]);var U=new a(A),V=k.length,R=V%16;U.update(k),R&&(R=16-R,U.update(o.alloc(R,0))),U.update(o.alloc(8,0));var N=8*V,L=o.alloc(8);L.writeUIntBE(N,0,8),U.update(L),w._finID=U.state;var z=o.from(w._finID);return d(z),z}(this,y,g),this._prev=o.from(y),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}l(h,u),h.prototype._update=function(f){if(!this._called&&this._alen){var m=16-this._alen%16;m<16&&(m=o.alloc(m,0),this._ghash.update(m))}this._called=!0;var y=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(y),this._len+=f.length,y},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(m,y){var p=0;m.length!==y.length&&p++;for(var b=Math.min(m.length,y.length),g=0;g<b;++g)p+=m[g]^y[g];return p}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},h.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,i){var s=e("./encrypter"),o=e("./decrypter"),u=e("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=o.createDecipher,i.createDecipheriv=i.Decipheriv=o.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(u)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,i){var s=e("./authCipher"),o=e("safe-buffer").Buffer,u=e("./modes"),l=e("./streamCipher"),a=e("cipher-base"),c=e("./aes"),d=e("evp_bytestokey");function h(y,p,b){a.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(p),this._prev=o.from(b),this._mode=y,this._autopadding=!0}function f(){this.cache=o.allocUnsafe(0)}function m(y,p,b){var g=u[y.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=o.from(b)),g.mode!=="GCM"&&b.length!==g.iv)throw new TypeError("invalid iv length "+b.length);if(typeof p=="string"&&(p=o.from(p)),p.length!==g.key/8)throw new TypeError("invalid key length "+p.length);return g.type==="stream"?new l(g.module,p,b,!0):g.type==="auth"?new s(g.module,p,b,!0):new h(g.module,p,b)}e("inherits")(h,a),h.prototype._update=function(y){var p,b;this._cache.add(y);for(var g=[];p=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,p),g.push(b);return o.concat(g)},h.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return function(p){var b=p[15];if(b<1||b>16)throw new Error("unable to decrypt data");for(var g=-1;++g<b;)if(p[g+(16-b)]!==b)throw new Error("unable to decrypt data");if(b!==16)return p.slice(0,16-b)}(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},f.prototype.add=function(y){this.cache=o.concat([this.cache,y])},f.prototype.get=function(y){var p;if(y){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(y,p){var b=u[y.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var g=d(p,!1,b.key,b.iv);return m(y,g.key,g.iv)},i.createDecipheriv=m},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,i){var s=e("./modes"),o=e("./authCipher"),u=e("safe-buffer").Buffer,l=e("./streamCipher"),a=e("cipher-base"),c=e("./aes"),d=e("evp_bytestokey");function h(p,b,g){a.call(this),this._cache=new m,this._cipher=new c.AES(b),this._prev=u.from(g),this._mode=p,this._autopadding=!0}e("inherits")(h,a),h.prototype._update=function(p){var b,g;this._cache.add(p);for(var w=[];b=this._cache.get();)g=this._mode.encrypt(this,b),w.push(g);return u.concat(w)};var f=u.alloc(16,16);function m(){this.cache=u.allocUnsafe(0)}function y(p,b,g){var w=s[p.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=u.from(b)),b.length!==w.key/8)throw new TypeError("invalid key length "+b.length);if(typeof g=="string"&&(g=u.from(g)),w.mode!=="GCM"&&g.length!==w.iv)throw new TypeError("invalid iv length "+g.length);return w.type==="stream"?new l(w.module,b,g):w.type==="auth"?new o(w.module,b,g):new h(w.module,b,g)}h.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},m.prototype.add=function(p){this.cache=u.concat([this.cache,p])},m.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},m.prototype.flush=function(){for(var p=16-this.cache.length,b=u.allocUnsafe(p),g=-1;++g<p;)b.writeUInt8(p,g);return u.concat([this.cache,b])},i.createCipheriv=y,i.createCipher=function(p,b){var g=s[p.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var w=d(b,!1,g.key,g.iv);return y(p,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,i){var s=e("safe-buffer").Buffer,o=s.alloc(16,0);function u(a){var c=s.allocUnsafe(16);return c.writeUInt32BE(a[0]>>>0,0),c.writeUInt32BE(a[1]>>>0,4),c.writeUInt32BE(a[2]>>>0,8),c.writeUInt32BE(a[3]>>>0,12),c}function l(a){this.h=a,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}l.prototype.ghash=function(a){for(var c=-1;++c<a.length;)this.state[c]^=a[c];this._multiply()},l.prototype._multiply=function(){for(var a,c,d,h=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],f=[0,0,0,0],m=-1;++m<128;){for(this.state[~~(m/8)]&1<<7-m%8&&(f[0]^=h[0],f[1]^=h[1],f[2]^=h[2],f[3]^=h[3]),d=(1&h[3])!=0,c=3;c>0;c--)h[c]=h[c]>>>1|(1&h[c-1])<<31;h[0]=h[0]>>>1,d&&(h[0]=h[0]^225<<24)}this.state=u(f)},l.prototype.update=function(a){var c;for(this.cache=s.concat([this.cache,a]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},l.prototype.final=function(a,c){return this.cache.length&&this.ghash(s.concat([this.cache,o],16)),this.ghash(u([0,a,0,c])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(e,n,i){n.exports=function(s){for(var o,u=s.length;u--;){if((o=s.readUInt8(u))!==255){o++,s.writeUInt8(o,u);break}s.writeUInt8(0,u)}}},{}],196:[function(e,n,i){var s=e("buffer-xor");i.encrypt=function(o,u){var l=s(u,o._prev);return o._prev=o._cipher.encryptBlock(l),o._prev},i.decrypt=function(o,u){var l=o._prev;o._prev=u;var a=o._cipher.decryptBlock(u);return s(a,l)}},{"buffer-xor":219}],197:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("buffer-xor");function u(l,a,c){var d=a.length,h=o(a,l._cache);return l._cache=l._cache.slice(d),l._prev=s.concat([l._prev,c?a:h]),h}i.encrypt=function(l,a,c){for(var d,h=s.allocUnsafe(0);a.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=s.allocUnsafe(0)),!(l._cache.length<=a.length)){h=s.concat([h,u(l,a,c)]);break}d=l._cache.length,h=s.concat([h,u(l,a.slice(0,d),c)]),a=a.slice(d)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,i){var s=e("safe-buffer").Buffer;function o(l,a,c){for(var d,h,f=-1,m=0;++f<8;)d=a&1<<7-f?128:0,m+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^d))>>f%8,l._prev=u(l._prev,c?d:h);return m}function u(l,a){var c=l.length,d=-1,h=s.allocUnsafe(l.length);for(l=s.concat([l,s.from([a])]);++d<c;)h[d]=l[d]<<1|l[d+1]>>7;return h}i.encrypt=function(l,a,c){for(var d=a.length,h=s.allocUnsafe(d),f=-1;++f<d;)h[f]=o(l,a[f],c);return h}},{"safe-buffer":494}],199:[function(e,n,i){var s=e("safe-buffer").Buffer;function o(u,l,a){var c=u._cipher.encryptBlock(u._prev)[0]^l;return u._prev=s.concat([u._prev.slice(1),s.from([a?l:c])]),c}i.encrypt=function(u,l,a){for(var c=l.length,d=s.allocUnsafe(c),h=-1;++h<c;)d[h]=o(u,l[h],a);return d}},{"safe-buffer":494}],200:[function(e,n,i){var s=e("buffer-xor"),o=e("safe-buffer").Buffer,u=e("../incr32");function l(a){var c=a._cipher.encryptBlockRaw(a._prev);return u(a._prev),c}i.encrypt=function(a,c){var d=Math.ceil(c.length/16),h=a._cache.length;a._cache=o.concat([a._cache,o.allocUnsafe(16*d)]);for(var f=0;f<d;f++){var m=l(a),y=h+16*f;a._cache.writeUInt32BE(m[0],y+0),a._cache.writeUInt32BE(m[1],y+4),a._cache.writeUInt32BE(m[2],y+8),a._cache.writeUInt32BE(m[3],y+12)}var p=a._cache.slice(0,c.length);return a._cache=a._cache.slice(c.length),s(c,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,i){i.encrypt=function(s,o){return s._cipher.encryptBlock(o)},i.decrypt=function(s,o){return s._cipher.decryptBlock(o)}},{}],202:[function(e,n,i){var s={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(var u in o)o[u].module=s[o[u].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,i){(function(s){(function(){var o=e("buffer-xor");function u(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,a){for(;l._cache.length<a.length;)l._cache=s.concat([l._cache,u(l)]);var c=l._cache.slice(0,a.length);return l._cache=l._cache.slice(a.length),o(a,c)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,i){var s=e("./aes"),o=e("safe-buffer").Buffer,u=e("cipher-base");function l(a,c,d,h){u.call(this),this._cipher=new s.AES(c),this._prev=o.from(d),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=h,this._mode=a}e("inherits")(l,u),l.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,i){var s=e("browserify-des"),o=e("browserify-aes/browser"),u=e("browserify-aes/modes"),l=e("browserify-des/modes"),a=e("evp_bytestokey");function c(h,f,m){if(h=h.toLowerCase(),u[h])return o.createCipheriv(h,f,m);if(l[h])return new s({key:f,iv:m,mode:h});throw new TypeError("invalid suite type")}function d(h,f,m){if(h=h.toLowerCase(),u[h])return o.createDecipheriv(h,f,m);if(l[h])return new s({key:f,iv:m,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(h,f){var m,y;if(h=h.toLowerCase(),u[h])m=u[h].key,y=u[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");m=8*l[h].key,y=l[h].iv}var p=a(f,!1,m,y);return c(h,p.key,p.iv)},i.createCipheriv=i.Cipheriv=c,i.createDecipher=i.Decipher=function(h,f){var m,y;if(h=h.toLowerCase(),u[h])m=u[h].key,y=u[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");m=8*l[h].key,y=l[h].iv}var p=a(f,!1,m,y);return d(h,p.key,p.iv)},i.createDecipheriv=i.Decipheriv=d,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,i){var s=e("cipher-base"),o=e("des.js"),u=e("inherits"),l=e("safe-buffer").Buffer,a={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function c(d){s.call(this);var h,f=d.mode.toLowerCase(),m=a[f];h=d.decrypt?"decrypt":"encrypt";var y=d.key;l.isBuffer(y)||(y=l.from(y)),f!=="des-ede"&&f!=="des-ede-cbc"||(y=l.concat([y,y.slice(0,8)]));var p=d.iv;l.isBuffer(p)||(p=l.from(p)),this._des=m.create({key:y,iv:p,type:h})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],n.exports=c,u(c,s),c.prototype._update=function(d){return l.from(this._des.update(d))},c.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,i){(function(s){(function(){var o=e("bn.js"),u=e("randombytes");function l(c){var d,h=c.modulus.byteLength();do d=new o(u(h));while(d.cmp(c.modulus)>=0||!d.umod(c.prime1)||!d.umod(c.prime2));return d}function a(c,d){var h=function(V){var R=l(V);return{blinder:R.toRed(o.mont(V.modulus)).redPow(new o(V.publicExponent)).fromRed(),unblinder:R.invm(V.modulus)}}(d),f=d.modulus.byteLength(),m=new o(c).mul(h.blinder).umod(d.modulus),y=m.toRed(o.mont(d.prime1)),p=m.toRed(o.mont(d.prime2)),b=d.coefficient,g=d.prime1,w=d.prime2,k=y.redPow(d.exponent1).fromRed(),A=p.redPow(d.exponent2).fromRed(),U=k.isub(A).imul(b).umod(g).imul(w);return A.iadd(U).imul(h.unblinder).umod(d.modulus).toArrayLike(s,"be",f)}a.getr=l,n.exports=a}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,i){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("create-hash"),u=e("readable-stream"),l=e("inherits"),a=e("./sign"),c=e("./verify"),d=e("./algorithms.json");function h(p){u.Writable.call(this);var b=d[p];if(!b)throw new Error("Unknown message digest");this._hashType=b.hash,this._hash=o(b.hash),this._tag=b.id,this._signType=b.sign}function f(p){u.Writable.call(this);var b=d[p];if(!b)throw new Error("Unknown message digest");this._hash=o(b.hash),this._tag=b.id,this._signType=b.sign}function m(p){return new h(p)}function y(p){return new f(p)}Object.keys(d).forEach(function(p){d[p].id=s.from(d[p].id,"hex"),d[p.toLowerCase()]=d[p]}),l(h,u.Writable),h.prototype._write=function(p,b,g){this._hash.update(p),g()},h.prototype.update=function(p,b){return typeof p=="string"&&(p=s.from(p,b)),this._hash.update(p),this},h.prototype.sign=function(p,b){this.end();var g=this._hash.digest(),w=a(g,p,this._hashType,this._signType,this._tag);return b?w.toString(b):w},l(f,u.Writable),f.prototype._write=function(p,b,g){this._hash.update(p),g()},f.prototype.update=function(p,b){return typeof p=="string"&&(p=s.from(p,b)),this._hash.update(p),this},f.prototype.verify=function(p,b,g){typeof b=="string"&&(b=s.from(b,g)),this.end();var w=this._hash.digest();return c(b,w,p,this._signType,this._tag)},n.exports={Sign:m,Verify:y,createSign:m,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("create-hmac"),u=e("browserify-rsa"),l=e("elliptic").ec,a=e("bn.js"),c=e("parse-asn1"),d=e("./curves.json");function h(p,b,g,w){if((p=s.from(p.toArray())).length<b.byteLength()){var k=s.alloc(b.byteLength()-p.length);p=s.concat([k,p])}var A=g.length,U=function(N,L){N=(N=f(N,L)).mod(L);var z=s.from(N.toArray());if(z.length<L.byteLength()){var O=s.alloc(L.byteLength()-z.length);z=s.concat([O,z])}return z}(g,b),V=s.alloc(A);V.fill(1);var R=s.alloc(A);return R=o(w,R).update(V).update(s.from([0])).update(p).update(U).digest(),V=o(w,R).update(V).digest(),{k:R=o(w,R).update(V).update(s.from([1])).update(p).update(U).digest(),v:V=o(w,R).update(V).digest()}}function f(p,b){var g=new a(p),w=(p.length<<3)-b.bitLength();return w>0&&g.ishrn(w),g}function m(p,b,g){var w,k;do{for(w=s.alloc(0);8*w.length<p.bitLength();)b.v=o(g,b.k).update(b.v).digest(),w=s.concat([w,b.v]);k=f(w,p),b.k=o(g,b.k).update(b.v).update(s.from([0])).digest(),b.v=o(g,b.k).update(b.v).digest()}while(k.cmp(p)!==-1);return k}function y(p,b,g,w){return p.toRed(a.mont(g)).redPow(b).fromRed().mod(w)}n.exports=function(p,b,g,w,k){var A=c(b);if(A.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return function(N,L){var z=d[L.curve.join(".")];if(!z)throw new Error("unknown curve "+L.curve.join("."));var O=new l(z).keyFromPrivate(L.privateKey).sign(N);return s.from(O.toDER())}(p,A)}if(A.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return function(N,L,z){for(var O,T=L.params.priv_key,P=L.params.p,E=L.params.q,v=L.params.g,x=new a(0),_=f(N,E).mod(E),S=!1,C=h(T,E,N,z);S===!1;)O=m(E,C,z),x=y(v,O,P,E),(S=O.invm(E).imul(_.add(T.mul(x))).mod(E)).cmpn(0)===0&&(S=!1,x=new a(0));return function(j,F){j=j.toArray(),F=F.toArray(),128&j[0]&&(j=[0].concat(j)),128&F[0]&&(F=[0].concat(F));var H=[48,j.length+F.length+4,2,j.length];return H=H.concat(j,[2,F.length],F),s.from(H)}(x,S)}(p,A,g)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");p=s.concat([k,p]);for(var U=A.modulus.byteLength(),V=[0,1];p.length+V.length+1<U;)V.push(255);V.push(0);for(var R=-1;++R<p.length;)V.push(p[R]);return u(V,A)},n.exports.getKey=h,n.exports.makeKey=m},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("bn.js"),u=e("elliptic").ec,l=e("parse-asn1"),a=e("./curves.json");function c(d,h){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(d,h,f,m,y){var p=l(f);if(p.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return function(V,R,N){var L=a[N.data.algorithm.curve.join(".")];if(!L)throw new Error("unknown curve "+N.data.algorithm.curve.join("."));var z=new u(L),O=N.data.subjectPrivateKey.data;return z.verify(R,V,O)}(d,h,p)}if(p.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return function(V,R,N){var L=N.data.p,z=N.data.q,O=N.data.g,T=N.data.pub_key,P=l.signature.decode(V,"der"),E=P.s,v=P.r;c(E,z),c(v,z);var x=o.mont(L),_=E.invm(z);return O.toRed(x).redPow(new o(R).mul(_).mod(z)).fromRed().mul(T.toRed(x).redPow(v.mul(_).mod(z)).fromRed()).mod(L).mod(z).cmp(v)===0}(d,h,p)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");h=s.concat([y,h]);for(var b=p.modulus.byteLength(),g=[1],w=0;h.length+g.length+2<b;)g.push(255),w++;g.push(0);for(var k=-1;++k<h.length;)g.push(h[k]);g=s.from(g);var A=o.mont(p.modulus);d=(d=new o(d).toRed(A)).redPow(new o(p.publicExponent)),d=s.from(d.fromRed().toArray());var U=w<8?1:0;for(b=Math.min(d.length,g.length),d.length!==g.length&&(U=1),k=-1;++k<b;)U|=d[k]^g[k];return U===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,i){},{}],217:[function(e,n,i){var s=e("buffer"),o=s.Buffer;function u(a,c){for(var d in a)c[d]=a[d]}function l(a,c,d){return o(a,c,d)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(u(s,i),i.Buffer=l),u(o,l),l.from=function(a,c,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,c,d)},l.alloc=function(a,c,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=o(a);return c!==void 0?typeof d=="string"?h.fill(c,d):h.fill(c):h.fill(0),h},l.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},l.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(a)}},{buffer:220}],218:[function(e,n,i){var s=e("safe-buffer").Buffer,o=s.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(p){var b;switch(this.encoding=function(g){var w=function(k){if(!k)return"utf8";for(var A;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(A)return;k=(""+k).toLowerCase(),A=!0}}(g);if(typeof w!="string"&&(s.isEncoding===o||!o(g)))throw new Error("Unknown encoding: "+g);return w||g}(p),this.encoding){case"utf16le":this.text=c,this.end=d,b=4;break;case"utf8":this.fillLast=a,b=4;break;case"base64":this.text=h,this.end=f,b=3;break;default:return this.write=m,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function l(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function a(p){var b=this.lastTotal-this.lastNeed,g=function(w,k,A){if((192&k[0])!=128)return w.lastNeed=0,"";if(w.lastNeed>1&&k.length>1){if((192&k[1])!=128)return w.lastNeed=1,"";if(w.lastNeed>2&&k.length>2&&(192&k[2])!=128)return w.lastNeed=2,""}}(this,p);return g!==void 0?g:this.lastNeed<=p.length?(p.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,b,0,p.length),void(this.lastNeed-=p.length))}function c(p,b){if((p.length-b)%2==0){var g=p.toString("utf16le",b);if(g){var w=g.charCodeAt(g.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",b,p.length-1)}function d(p){var b=p&&p.length?this.write(p):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,g)}return b}function h(p,b){var g=(p.length-b)%3;return g===0?p.toString("base64",b):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",b,p.length-g))}function f(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(p){return p.toString(this.encoding)}function y(p){return p&&p.length?this.write(p):""}i.StringDecoder=u,u.prototype.write=function(p){if(p.length===0)return"";var b,g;if(this.lastNeed){if((b=this.fillLast(p))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<p.length?b?b+this.text(p,g):this.text(p,g):b||""},u.prototype.end=function(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+"":b},u.prototype.text=function(p,b){var g=function(k,A,U){var V=A.length-1;if(V<U)return 0;var R=l(A[V]);return R>=0?(R>0&&(k.lastNeed=R-1),R):--V<U||R===-2?0:(R=l(A[V]))>=0?(R>0&&(k.lastNeed=R-2),R):--V<U||R===-2?0:(R=l(A[V]))>=0?(R>0&&(R===2?R=0:k.lastNeed=R-3),R):0}(this,p,b);if(!this.lastNeed)return p.toString("utf8",b);this.lastTotal=g;var w=p.length-(g-this.lastNeed);return p.copy(this.lastChar,0,w),p.toString("utf8",b,w)},u.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,n,i){(function(s){(function(){n.exports=function(o,u){for(var l=Math.min(o.length,u.length),a=new s(l),c=0;c<l;++c)a[c]=o[c]^u[c];return a}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,i){(function(s){(function(){var o=e("base64-js"),u=e("ieee754");i.Buffer=a,i.SlowBuffer=function(D){return+D!=D&&(D=0),a.alloc(+D)},i.INSPECT_MAX_BYTES=50;function l(D){if(D>2147483647)throw new RangeError('The value "'+D+'" is invalid for option "size"');var M=new Uint8Array(D);return M.__proto__=a.prototype,M}function a(D,M,$){if(typeof D=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(D)}return c(D,M,$)}function c(D,M,$){if(typeof D=="string")return function(Q,ee){if(typeof ee=="string"&&ee!==""||(ee="utf8"),!a.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);var le=0|y(Q,ee),oe=l(le),J=oe.write(Q,ee);return J!==le&&(oe=oe.slice(0,J)),oe}(D,M);if(ArrayBuffer.isView(D))return f(D);if(D==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(B(D,ArrayBuffer)||D&&B(D.buffer,ArrayBuffer))return function(Q,ee,le){if(ee<0||Q.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<ee+(le||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return oe=ee===void 0&&le===void 0?new Uint8Array(Q):le===void 0?new Uint8Array(Q,ee):new Uint8Array(Q,ee,le),oe.__proto__=a.prototype,oe}(D,M,$);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var X=D.valueOf&&D.valueOf();if(X!=null&&X!==D)return a.from(X,M,$);var te=function(Q){if(a.isBuffer(Q)){var ee=0|m(Q.length),le=l(ee);return le.length===0||Q.copy(le,0,0,ee),le}if(Q.length!==void 0)return typeof Q.length!="number"||G(Q.length)?l(0):f(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return f(Q.data)}(D);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return a.from(D[Symbol.toPrimitive]("string"),M,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}function d(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function h(D){return d(D),l(D<0?0:0|m(D))}function f(D){for(var M=D.length<0?0:0|m(D.length),$=l(M),X=0;X<M;X+=1)$[X]=255&D[X];return $}function m(D){if(D>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|D}function y(D,M){if(a.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||B(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);var $=D.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&$===0)return 0;for(var te=!1;;)switch(M){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return H(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return W(D).length;default:if(te)return X?-1:H(D).length;M=(""+M).toLowerCase(),te=!0}}function p(D,M,$){var X=!1;if((M===void 0||M<0)&&(M=0),M>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(M>>>=0))return"";for(D||(D="utf8");;)switch(D){case"hex":return P(this,M,$);case"utf8":case"utf-8":return z(this,M,$);case"ascii":return O(this,M,$);case"latin1":case"binary":return T(this,M,$);case"base64":return L(this,M,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,M,$);default:if(X)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),X=!0}}function b(D,M,$){var X=D[M];D[M]=D[$],D[$]=X}function g(D,M,$,X,te){if(D.length===0)return-1;if(typeof $=="string"?(X=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),G($=+$)&&($=te?0:D.length-1),$<0&&($=D.length+$),$>=D.length){if(te)return-1;$=D.length-1}else if($<0){if(!te)return-1;$=0}if(typeof M=="string"&&(M=a.from(M,X)),a.isBuffer(M))return M.length===0?-1:w(D,M,$,X,te);if(typeof M=="number")return M&=255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(D,M,$):Uint8Array.prototype.lastIndexOf.call(D,M,$):w(D,[M],$,X,te);throw new TypeError("val must be string, number or Buffer")}function w(D,M,$,X,te){var Q,ee=1,le=D.length,oe=M.length;if(X!==void 0&&((X=String(X).toLowerCase())==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(D.length<2||M.length<2)return-1;ee=2,le/=2,oe/=2,$/=2}function J(ue,fe){return ee===1?ue[fe]:ue.readUInt16BE(fe*ee)}if(te){var ie=-1;for(Q=$;Q<le;Q++)if(J(D,Q)===J(M,ie===-1?0:Q-ie)){if(ie===-1&&(ie=Q),Q-ie+1===oe)return ie*ee}else ie!==-1&&(Q-=Q-ie),ie=-1}else for($+oe>le&&($=le-oe),Q=$;Q>=0;Q--){for(var ne=!0,ce=0;ce<oe;ce++)if(J(D,Q+ce)!==J(M,ce)){ne=!1;break}if(ne)return Q}return-1}function k(D,M,$,X){$=Number($)||0;var te=D.length-$;X?(X=Number(X))>te&&(X=te):X=te;var Q=M.length;X>Q/2&&(X=Q/2);for(var ee=0;ee<X;++ee){var le=parseInt(M.substr(2*ee,2),16);if(G(le))return ee;D[$+ee]=le}return ee}function A(D,M,$,X){return Y(H(M,D.length-$),D,$,X)}function U(D,M,$,X){return Y(function(te){for(var Q=[],ee=0;ee<te.length;++ee)Q.push(255&te.charCodeAt(ee));return Q}(M),D,$,X)}function V(D,M,$,X){return U(D,M,$,X)}function R(D,M,$,X){return Y(W(M),D,$,X)}function N(D,M,$,X){return Y(function(te,Q){for(var ee,le,oe,J=[],ie=0;ie<te.length&&!((Q-=2)<0);++ie)ee=te.charCodeAt(ie),le=ee>>8,oe=ee%256,J.push(oe),J.push(le);return J}(M,D.length-$),D,$,X)}function L(D,M,$){return M===0&&$===D.length?o.fromByteArray(D):o.fromByteArray(D.slice(M,$))}function z(D,M,$){$=Math.min(D.length,$);for(var X=[],te=M;te<$;){var Q,ee,le,oe,J=D[te],ie=null,ne=J>239?4:J>223?3:J>191?2:1;if(te+ne<=$)switch(ne){case 1:J<128&&(ie=J);break;case 2:(192&(Q=D[te+1]))==128&&(oe=(31&J)<<6|63&Q)>127&&(ie=oe);break;case 3:Q=D[te+1],ee=D[te+2],(192&Q)==128&&(192&ee)==128&&(oe=(15&J)<<12|(63&Q)<<6|63&ee)>2047&&(oe<55296||oe>57343)&&(ie=oe);break;case 4:Q=D[te+1],ee=D[te+2],le=D[te+3],(192&Q)==128&&(192&ee)==128&&(192&le)==128&&(oe=(15&J)<<18|(63&Q)<<12|(63&ee)<<6|63&le)>65535&&oe<1114112&&(ie=oe)}ie===null?(ie=65533,ne=1):ie>65535&&(ie-=65536,X.push(ie>>>10&1023|55296),ie=56320|1023&ie),X.push(ie),te+=ne}return function(ce){var ue=ce.length;if(ue<=4096)return String.fromCharCode.apply(String,ce);for(var fe="",me=0;me<ue;)fe+=String.fromCharCode.apply(String,ce.slice(me,me+=4096));return fe}(X)}i.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var D=new Uint8Array(1);return D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},D.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(D,M,$){return c(D,M,$)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(D,M,$){return function(X,te,Q){return d(X),X<=0?l(X):te!==void 0?typeof Q=="string"?l(X).fill(te,Q):l(X).fill(te):l(X)}(D,M,$)},a.allocUnsafe=function(D){return h(D)},a.allocUnsafeSlow=function(D){return h(D)},a.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==a.prototype},a.compare=function(D,M){if(B(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),B(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),!a.isBuffer(D)||!a.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===M)return 0;for(var $=D.length,X=M.length,te=0,Q=Math.min($,X);te<Q;++te)if(D[te]!==M[te]){$=D[te],X=M[te];break}return $<X?-1:X<$?1:0},a.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(D,M){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return a.alloc(0);var $;if(M===void 0)for(M=0,$=0;$<D.length;++$)M+=D[$].length;var X=a.allocUnsafe(M),te=0;for($=0;$<D.length;++$){var Q=D[$];if(B(Q,Uint8Array)&&(Q=a.from(Q)),!a.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(X,te),te+=Q.length}return X},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<D;M+=2)b(this,M,M+1);return this},a.prototype.swap32=function(){var D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<D;M+=4)b(this,M,M+3),b(this,M+1,M+2);return this},a.prototype.swap64=function(){var D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<D;M+=8)b(this,M,M+7),b(this,M+1,M+6),b(this,M+2,M+5),b(this,M+3,M+4);return this},a.prototype.toString=function(){var D=this.length;return D===0?"":arguments.length===0?z(this,0,D):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(D){if(!a.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||a.compare(this,D)===0},a.prototype.inspect=function(){var D="",M=i.INSPECT_MAX_BYTES;return D=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(D+=" ... "),"<Buffer "+D+">"},a.prototype.compare=function(D,M,$,X,te){if(B(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),!a.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(M===void 0&&(M=0),$===void 0&&($=D?D.length:0),X===void 0&&(X=0),te===void 0&&(te=this.length),M<0||$>D.length||X<0||te>this.length)throw new RangeError("out of range index");if(X>=te&&M>=$)return 0;if(X>=te)return-1;if(M>=$)return 1;if(this===D)return 0;for(var Q=(te>>>=0)-(X>>>=0),ee=($>>>=0)-(M>>>=0),le=Math.min(Q,ee),oe=this.slice(X,te),J=D.slice(M,$),ie=0;ie<le;++ie)if(oe[ie]!==J[ie]){Q=oe[ie],ee=J[ie];break}return Q<ee?-1:ee<Q?1:0},a.prototype.includes=function(D,M,$){return this.indexOf(D,M,$)!==-1},a.prototype.indexOf=function(D,M,$){return g(this,D,M,$,!0)},a.prototype.lastIndexOf=function(D,M,$){return g(this,D,M,$,!1)},a.prototype.write=function(D,M,$,X){if(M===void 0)X="utf8",$=this.length,M=0;else if($===void 0&&typeof M=="string")X=M,$=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite($)?($>>>=0,X===void 0&&(X="utf8")):(X=$,$=void 0)}var te=this.length-M;if(($===void 0||$>te)&&($=te),D.length>0&&($<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var Q=!1;;)switch(X){case"hex":return k(this,D,M,$);case"utf8":case"utf-8":return A(this,D,M,$);case"ascii":return U(this,D,M,$);case"latin1":case"binary":return V(this,D,M,$);case"base64":return R(this,D,M,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,D,M,$);default:if(Q)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),Q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(D,M,$){var X="";$=Math.min(D.length,$);for(var te=M;te<$;++te)X+=String.fromCharCode(127&D[te]);return X}function T(D,M,$){var X="";$=Math.min(D.length,$);for(var te=M;te<$;++te)X+=String.fromCharCode(D[te]);return X}function P(D,M,$){var X=D.length;(!M||M<0)&&(M=0),(!$||$<0||$>X)&&($=X);for(var te="",Q=M;Q<$;++Q)te+=F(D[Q]);return te}function E(D,M,$){for(var X=D.slice(M,$),te="",Q=0;Q<X.length;Q+=2)te+=String.fromCharCode(X[Q]+256*X[Q+1]);return te}function v(D,M,$){if(D%1!=0||D<0)throw new RangeError("offset is not uint");if(D+M>$)throw new RangeError("Trying to access beyond buffer length")}function x(D,M,$,X,te,Q){if(!a.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>te||M<Q)throw new RangeError('"value" argument is out of bounds');if($+X>D.length)throw new RangeError("Index out of range")}function _(D,M,$,X,te,Q){if($+X>D.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function S(D,M,$,X,te){return M=+M,$>>>=0,te||_(D,0,$,4),u.write(D,M,$,X,23,4),$+4}function C(D,M,$,X,te){return M=+M,$>>>=0,te||_(D,0,$,8),u.write(D,M,$,X,52,8),$+8}a.prototype.slice=function(D,M){var $=this.length;(D=~~D)<0?(D+=$)<0&&(D=0):D>$&&(D=$),(M=M===void 0?$:~~M)<0?(M+=$)<0&&(M=0):M>$&&(M=$),M<D&&(M=D);var X=this.subarray(D,M);return X.__proto__=a.prototype,X},a.prototype.readUIntLE=function(D,M,$){D>>>=0,M>>>=0,$||v(D,M,this.length);for(var X=this[D],te=1,Q=0;++Q<M&&(te*=256);)X+=this[D+Q]*te;return X},a.prototype.readUIntBE=function(D,M,$){D>>>=0,M>>>=0,$||v(D,M,this.length);for(var X=this[D+--M],te=1;M>0&&(te*=256);)X+=this[D+--M]*te;return X},a.prototype.readUInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),this[D]},a.prototype.readUInt16LE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]|this[D+1]<<8},a.prototype.readUInt16BE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]<<8|this[D+1]},a.prototype.readUInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},a.prototype.readUInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},a.prototype.readIntLE=function(D,M,$){D>>>=0,M>>>=0,$||v(D,M,this.length);for(var X=this[D],te=1,Q=0;++Q<M&&(te*=256);)X+=this[D+Q]*te;return X>=(te*=128)&&(X-=Math.pow(2,8*M)),X},a.prototype.readIntBE=function(D,M,$){D>>>=0,M>>>=0,$||v(D,M,this.length);for(var X=M,te=1,Q=this[D+--X];X>0&&(te*=256);)Q+=this[D+--X]*te;return Q>=(te*=128)&&(Q-=Math.pow(2,8*M)),Q},a.prototype.readInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},a.prototype.readInt16LE=function(D,M){D>>>=0,M||v(D,2,this.length);var $=this[D]|this[D+1]<<8;return 32768&$?4294901760|$:$},a.prototype.readInt16BE=function(D,M){D>>>=0,M||v(D,2,this.length);var $=this[D+1]|this[D]<<8;return 32768&$?4294901760|$:$},a.prototype.readInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},a.prototype.readInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},a.prototype.readFloatLE=function(D,M){return D>>>=0,M||v(D,4,this.length),u.read(this,D,!0,23,4)},a.prototype.readFloatBE=function(D,M){return D>>>=0,M||v(D,4,this.length),u.read(this,D,!1,23,4)},a.prototype.readDoubleLE=function(D,M){return D>>>=0,M||v(D,8,this.length),u.read(this,D,!0,52,8)},a.prototype.readDoubleBE=function(D,M){return D>>>=0,M||v(D,8,this.length),u.read(this,D,!1,52,8)},a.prototype.writeUIntLE=function(D,M,$,X){D=+D,M>>>=0,$>>>=0,X||x(this,D,M,$,Math.pow(2,8*$)-1,0);var te=1,Q=0;for(this[M]=255&D;++Q<$&&(te*=256);)this[M+Q]=D/te&255;return M+$},a.prototype.writeUIntBE=function(D,M,$,X){D=+D,M>>>=0,$>>>=0,X||x(this,D,M,$,Math.pow(2,8*$)-1,0);var te=$-1,Q=1;for(this[M+te]=255&D;--te>=0&&(Q*=256);)this[M+te]=D/Q&255;return M+$},a.prototype.writeUInt8=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,1,255,0),this[M]=255&D,M+1},a.prototype.writeUInt16LE=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,2,65535,0),this[M]=255&D,this[M+1]=D>>>8,M+2},a.prototype.writeUInt16BE=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,2,65535,0),this[M]=D>>>8,this[M+1]=255&D,M+2},a.prototype.writeUInt32LE=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,4,4294967295,0),this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D,M+4},a.prototype.writeUInt32BE=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,4,4294967295,0),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},a.prototype.writeIntLE=function(D,M,$,X){if(D=+D,M>>>=0,!X){var te=Math.pow(2,8*$-1);x(this,D,M,$,te-1,-te)}var Q=0,ee=1,le=0;for(this[M]=255&D;++Q<$&&(ee*=256);)D<0&&le===0&&this[M+Q-1]!==0&&(le=1),this[M+Q]=(D/ee>>0)-le&255;return M+$},a.prototype.writeIntBE=function(D,M,$,X){if(D=+D,M>>>=0,!X){var te=Math.pow(2,8*$-1);x(this,D,M,$,te-1,-te)}var Q=$-1,ee=1,le=0;for(this[M+Q]=255&D;--Q>=0&&(ee*=256);)D<0&&le===0&&this[M+Q+1]!==0&&(le=1),this[M+Q]=(D/ee>>0)-le&255;return M+$},a.prototype.writeInt8=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,1,127,-128),D<0&&(D=255+D+1),this[M]=255&D,M+1},a.prototype.writeInt16LE=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,2,32767,-32768),this[M]=255&D,this[M+1]=D>>>8,M+2},a.prototype.writeInt16BE=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,2,32767,-32768),this[M]=D>>>8,this[M+1]=255&D,M+2},a.prototype.writeInt32LE=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,4,2147483647,-2147483648),this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24,M+4},a.prototype.writeInt32BE=function(D,M,$){return D=+D,M>>>=0,$||x(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},a.prototype.writeFloatLE=function(D,M,$){return S(this,D,M,!0,$)},a.prototype.writeFloatBE=function(D,M,$){return S(this,D,M,!1,$)},a.prototype.writeDoubleLE=function(D,M,$){return C(this,D,M,!0,$)},a.prototype.writeDoubleBE=function(D,M,$){return C(this,D,M,!1,$)},a.prototype.copy=function(D,M,$,X){if(!a.isBuffer(D))throw new TypeError("argument should be a Buffer");if($||($=0),X||X===0||(X=this.length),M>=D.length&&(M=D.length),M||(M=0),X>0&&X<$&&(X=$),X===$||D.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),D.length-M<X-$&&(X=D.length-M+$);var te=X-$;if(this===D&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(M,$,X);else if(this===D&&$<M&&M<X)for(var Q=te-1;Q>=0;--Q)D[Q+M]=this[Q+$];else Uint8Array.prototype.set.call(D,this.subarray($,X),M);return te},a.prototype.fill=function(D,M,$,X){if(typeof D=="string"){if(typeof M=="string"?(X=M,M=0,$=this.length):typeof $=="string"&&(X=$,$=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!a.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(D.length===1){var te=D.charCodeAt(0);(X==="utf8"&&te<128||X==="latin1")&&(D=te)}}else typeof D=="number"&&(D&=255);if(M<0||this.length<M||this.length<$)throw new RangeError("Out of range index");if($<=M)return this;var Q;if(M>>>=0,$=$===void 0?this.length:$>>>0,D||(D=0),typeof D=="number")for(Q=M;Q<$;++Q)this[Q]=D;else{var ee=a.isBuffer(D)?D:a.from(D,X),le=ee.length;if(le===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Q=0;Q<$-M;++Q)this[Q+M]=ee[Q%le]}return this};var j=/[^+/0-9A-Za-z-_]/g;function F(D){return D<16?"0"+D.toString(16):D.toString(16)}function H(D,M){var $;M=M||1/0;for(var X=D.length,te=null,Q=[],ee=0;ee<X;++ee){if(($=D.charCodeAt(ee))>55295&&$<57344){if(!te){if($>56319){(M-=3)>-1&&Q.push(239,191,189);continue}if(ee+1===X){(M-=3)>-1&&Q.push(239,191,189);continue}te=$;continue}if($<56320){(M-=3)>-1&&Q.push(239,191,189),te=$;continue}$=65536+(te-55296<<10|$-56320)}else te&&(M-=3)>-1&&Q.push(239,191,189);if(te=null,$<128){if((M-=1)<0)break;Q.push($)}else if($<2048){if((M-=2)<0)break;Q.push($>>6|192,63&$|128)}else if($<65536){if((M-=3)<0)break;Q.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;Q.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return Q}function W(D){return o.toByteArray(function(M){if((M=(M=M.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;M.length%4!=0;)M+="=";return M}(D))}function Y(D,M,$,X){for(var te=0;te<X&&!(te+$>=M.length||te>=D.length);++te)M[te+$]=D[te];return te}function B(D,M){return D instanceof M||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===M.name}function G(D){return D!=D}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("stream").Transform,u=e("string_decoder").StringDecoder;function l(a){o.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(l,o),l.prototype.update=function(a,c,d){typeof a=="string"&&(a=s.from(a,c));var h=this._update(a);return this.hashMode?this:(d&&(h=this._toString(h,d)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(a,c,d){var h;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(f){h=f}finally{d(h)}},l.prototype._flush=function(a){var c;try{this.push(this.__final())}catch(d){c=d}a(c)},l.prototype._finalOrDigest=function(a){var c=this.__final()||s.alloc(0);return a&&(c=this._toString(c,a,!0)),c},l.prototype._toString=function(a,c,d){if(this._decoder||(this._decoder=new u(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var h=this._decoder.write(a);return d&&(h+=this._decoder.end()),h},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,i){var s=e("../internals/is-callable"),o=e("../internals/try-to-string"),u=TypeError;n.exports=function(l){if(s(l))return l;throw new u(o(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,i){var s=e("../internals/is-constructor"),o=e("../internals/try-to-string"),u=TypeError;n.exports=function(l){if(s(l))return l;throw new u(o(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,i){var s=e("../internals/is-callable"),o=String,u=TypeError;n.exports=function(l){if(typeof l=="object"||s(l))return l;throw new u("Can't set "+o(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,i){var s=e("../internals/well-known-symbol"),o=e("../internals/object-create"),u=e("../internals/object-define-property").f,l=s("unscopables"),a=Array.prototype;a[l]===void 0&&u(a,l,{configurable:!0,value:o(null)}),n.exports=function(c){a[l][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,i){var s=e("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(u,l){if(s(l,u))return u;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,i){var s=e("../internals/is-object"),o=String,u=TypeError;n.exports=function(l){if(s(l))return l;throw new u(o(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,i){var s=e("../internals/to-indexed-object"),o=e("../internals/to-absolute-index"),u=e("../internals/length-of-array-like"),l=function(a){return function(c,d,h){var f,m=s(c),y=u(m),p=o(h,y);if(a&&d!=d){for(;y>p;)if((f=m[p++])!=f)return!0}else for(;y>p;p++)if((a||p in m)&&m[p]===d)return a||p||0;return!a&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,i){var s=e("../internals/function-bind-context"),o=e("../internals/function-uncurry-this"),u=e("../internals/indexed-object"),l=e("../internals/to-object"),a=e("../internals/length-of-array-like"),c=e("../internals/array-species-create"),d=o([].push),h=function(f){var m=f===1,y=f===2,p=f===3,b=f===4,g=f===6,w=f===7,k=f===5||g;return function(A,U,V,R){for(var N,L,z=l(A),O=u(z),T=s(U,V),P=a(O),E=0,v=R||c,x=m?v(A,P):y||w?v(A,0):void 0;P>E;E++)if((k||E in O)&&(L=T(N=O[E],E,z),f))if(m)x[E]=L;else if(L)switch(f){case 3:return!0;case 5:return N;case 6:return E;case 2:d(x,N)}else switch(f){case 4:return!1;case 7:d(x,N)}return g?-1:p||b?b:x}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,i){var s=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),u=e("../internals/create-property"),l=Array,a=Math.max;n.exports=function(c,d,h){for(var f=o(c),m=s(d,f),y=s(h===void 0?f:h,f),p=l(a(y-m,0)),b=0;m<y;m++,b++)u(p,b,c[m]);return p.length=b,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,i){var s=e("../internals/is-array"),o=e("../internals/is-constructor"),u=e("../internals/is-object"),l=e("../internals/well-known-symbol")("species"),a=Array;n.exports=function(c){var d;return s(c)&&(d=c.constructor,(o(d)&&(d===a||s(d.prototype))||u(d)&&(d=d[l])===null)&&(d=void 0)),d===void 0?a:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,i){var s=e("../internals/array-species-constructor");n.exports=function(o,u){return new(s(o))(u===0?0:u)}},{"../internals/array-species-constructor":232}],234:[function(e,n,i){var s=e("../internals/well-known-symbol")("iterator"),o=!1;try{var u=0,l={next:function(){return{done:!!u++}},return:function(){o=!0}};l[s]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(a,c){try{if(!c&&!o)return!1}catch{return!1}var d=!1;try{var h={};h[s]=function(){return{next:function(){return{done:d=!0}}}},a(h)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=s({}.toString),u=s("".slice);n.exports=function(l){return u(o(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,i){var s=e("../internals/to-string-tag-support"),o=e("../internals/is-callable"),u=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("toStringTag"),a=Object,c=u(function(){return arguments}())==="Arguments";n.exports=s?u:function(d){var h,f,m;return d===void 0?"Undefined":d===null?"Null":typeof(f=function(y,p){try{return y[p]}catch{}}(h=a(d),l))=="string"?f:c?u(h):(m=u(h))==="Object"&&o(h.callee)?"Arguments":m}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,i){var s=e("../internals/has-own-property"),o=e("../internals/own-keys"),u=e("../internals/object-get-own-property-descriptor"),l=e("../internals/object-define-property");n.exports=function(a,c,d){for(var h=o(c),f=l.f,m=u.f,y=0;y<h.length;y++){var p=h[y];s(a,p)||d&&s(d,p)||f(a,p,m(c,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,i){var s=e("../internals/well-known-symbol")("match");n.exports=function(o){var u=/./;try{"/./"[o](u)}catch{try{return u[s]=!1,"/./"[o](u)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(e,n,i){n.exports=function(s,o){return{value:s,done:o}}},{}],241:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");n.exports=s?function(l,a,c){return o.f(l,a,u(1,c))}:function(l,a,c){return l[a]=c,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,i){n.exports=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}}},{}],243:[function(e,n,i){var s=e("../internals/to-property-key"),o=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");n.exports=function(l,a,c){var d=s(a);d in l?o.f(l,d,u(0,c)):l[d]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,i){var s=e("../internals/make-built-in"),o=e("../internals/object-define-property");n.exports=function(u,l,a){return a.get&&s(a.get,l,{getter:!0}),a.set&&s(a.set,l,{setter:!0}),o.f(u,l,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,i){var s=e("../internals/is-callable"),o=e("../internals/object-define-property"),u=e("../internals/make-built-in"),l=e("../internals/define-global-property");n.exports=function(a,c,d,h){h||(h={});var f=h.enumerable,m=h.name!==void 0?h.name:c;if(s(d)&&u(d,m,h),h.global)f?a[c]=d:l(c,d);else{try{h.unsafe?a[c]&&(f=!0):delete a[c]}catch{}f?a[c]=d:o.f(a,c,{value:d,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,i){var s=e("../internals/global"),o=Object.defineProperty;n.exports=function(u,l){try{o(s,u,{value:l,configurable:!0,writable:!0})}catch{s[u]=l}return l}},{"../internals/global":274}],247:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,i){var s=typeof document=="object"&&document.all,o=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:o}},{}],249:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/is-object"),u=s.document,l=o(u)&&o(u.createElement);n.exports=function(a){return l?u.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,i){var s=e("../internals/engine-is-deno"),o=e("../internals/engine-is-node");n.exports=!s&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/classof-raw");n.exports=o(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(e,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,i){var s,o,u=e("../internals/global"),l=e("../internals/engine-user-agent"),a=u.process,c=u.Deno,d=a&&a.versions||c&&c.version,h=d&&d.v8;h&&(o=(s=h.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!o&&l&&(!(s=l.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=l.match(/Chrome\/(\d+)/))&&(o=+s[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/create-non-enumerable-property"),l=e("../internals/define-built-in"),a=e("../internals/define-global-property"),c=e("../internals/copy-constructor-properties"),d=e("../internals/is-forced");n.exports=function(h,f){var m,y,p,b,g,w=h.target,k=h.global,A=h.stat;if(m=k?s:A?s[w]||a(w,{}):(s[w]||{}).prototype)for(y in f){if(b=f[y],p=h.dontCallGetSet?(g=o(m,y))&&g.value:m[y],!d(k?y:w+(A?".":"#")+y,h.forced)&&p!==void 0){if(typeof b==typeof p)continue;c(b,p)}(h.sham||p&&p.sham)&&u(b,"sham",!0),l(m,y,b,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(e,n,i){var s=e("../internals/function-bind-native"),o=Function.prototype,u=o.apply,l=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?l.bind(u):function(){return l.apply(u,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,i){var s=e("../internals/function-uncurry-this-clause"),o=e("../internals/a-callable"),u=e("../internals/function-bind-native"),l=s(s.bind);n.exports=function(a,c){return o(a),c===void 0?a:u?l(a,c):function(){return a.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,i){var s=e("../internals/function-bind-native"),o=Function.prototype.call;n.exports=s?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/has-own-property"),u=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,a=o(u,"name"),c=a&&(function(){}).name==="something",d=a&&(!s||s&&l(u,"name").configurable);n.exports={EXISTS:a,PROPER:c,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/a-callable");n.exports=function(u,l,a){try{return s(o(Object.getOwnPropertyDescriptor(u,l)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,i){var s=e("../internals/classof-raw"),o=e("../internals/function-uncurry-this");n.exports=function(u){if(s(u)==="Function")return o(u)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,i){var s=e("../internals/function-bind-native"),o=Function.prototype,u=o.call,l=s&&o.bind.bind(u,u);n.exports=s?l:function(a){return function(){return u.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/is-callable"),u=function(l){return o(l)?l:void 0};n.exports=function(l,a){return arguments.length<2?u(s[l]):s[l]&&s[l][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,i){var s=e("../internals/classof"),o=e("../internals/get-method"),u=e("../internals/is-null-or-undefined"),l=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");n.exports=function(c){if(!u(c))return o(c,a)||o(c,"@@iterator")||l[s(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/a-callable"),u=e("../internals/an-object"),l=e("../internals/try-to-string"),a=e("../internals/get-iterator-method"),c=TypeError;n.exports=function(d,h){var f=arguments.length<2?a(d):h;if(o(f))return u(s(f,d));throw new c(l(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/is-array"),u=e("../internals/is-callable"),l=e("../internals/classof-raw"),a=e("../internals/to-string"),c=s([].push);n.exports=function(d){if(u(d))return d;if(o(d)){for(var h=d.length,f=[],m=0;m<h;m++){var y=d[m];typeof y=="string"?c(f,y):typeof y!="number"&&l(y)!=="Number"&&l(y)!=="String"||c(f,a(y))}var p=f.length,b=!0;return function(g,w){if(b)return b=!1,w;if(o(this))return w;for(var k=0;k<p;k++)if(f[k]===g)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,i){var s=e("../internals/a-callable"),o=e("../internals/is-null-or-undefined");n.exports=function(u,l){var a=u[l];return o(a)?void 0:s(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,i){(function(s){(function(){var o=function(u){return u&&u.Math===Math&&u};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof s=="object"&&s)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/to-object"),u=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,a){return u(o(l),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,i){n.exports={}},{}],277:[function(e,n,i){n.exports=function(s,o){try{arguments.length===1?console.error(s):console.error(s,o)}catch{}}},{}],278:[function(e,n,i){var s=e("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/fails"),u=e("../internals/document-create-element");n.exports=!s&&!o(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/fails"),u=e("../internals/classof-raw"),l=Object,a=s("".split);n.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(c){return u(c)==="String"?a(c,""):l(c)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/is-callable"),u=e("../internals/shared-store"),l=s(Function.toString);o(u.inspectSource)||(u.inspectSource=function(a){return l(a)}),n.exports=u.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,i){var s,o,u,l=e("../internals/weak-map-basic-detection"),a=e("../internals/global"),c=e("../internals/is-object"),d=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),f=e("../internals/shared-store"),m=e("../internals/shared-key"),y=e("../internals/hidden-keys"),p=a.TypeError,b=a.WeakMap;if(l||f.state){var g=f.state||(f.state=new b);g.get=g.get,g.has=g.has,g.set=g.set,s=function(k,A){if(g.has(k))throw new p("Object already initialized");return A.facade=k,g.set(k,A),A},o=function(k){return g.get(k)||{}},u=function(k){return g.has(k)}}else{var w=m("state");y[w]=!0,s=function(k,A){if(h(k,w))throw new p("Object already initialized");return A.facade=k,d(k,w,A),A},o=function(k){return h(k,w)?k[w]:{}},u=function(k){return h(k,w)}}n.exports={set:s,get:o,has:u,enforce:function(k){return u(k)?o(k):s(k,{})},getterFor:function(k){return function(A){var U;if(!c(A)||(U=o(A)).type!==k)throw new p("Incompatible receiver, "+k+" required");return U}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,i){var s=e("../internals/well-known-symbol"),o=e("../internals/iterators"),u=s("iterator"),l=Array.prototype;n.exports=function(a){return a!==void 0&&(o.Array===a||l[u]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,i){var s=e("../internals/classof-raw");n.exports=Array.isArray||function(o){return s(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,i){var s=e("../internals/document-all"),o=s.all;n.exports=s.IS_HTMLDDA?function(u){return typeof u=="function"||u===o}:function(u){return typeof u=="function"}},{"../internals/document-all":248}],286:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/fails"),u=e("../internals/is-callable"),l=e("../internals/classof"),a=e("../internals/get-built-in"),c=e("../internals/inspect-source"),d=function(){},h=[],f=a("Reflect","construct"),m=/^\s*(?:class|function)\b/,y=s(m.exec),p=!m.test(d),b=function(w){if(!u(w))return!1;try{return f(d,h,w),!0}catch{return!1}},g=function(w){if(!u(w))return!1;switch(l(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!y(m,c(w))}catch{return!0}};g.sham=!0,n.exports=!f||o(function(){var w;return b(b.call)||!b(Object)||!b(function(){w=!0})||w})?g:b},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,i){var s=e("../internals/fails"),o=e("../internals/is-callable"),u=/#|\.prototype\./,l=function(f,m){var y=c[a(f)];return y===h||y!==d&&(o(m)?s(m):!!m)},a=l.normalize=function(f){return String(f).replace(u,".").toLowerCase()},c=l.data={},d=l.NATIVE="N",h=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,i){n.exports=function(s){return s==null}},{}],289:[function(e,n,i){var s=e("../internals/is-callable"),o=e("../internals/document-all"),u=o.all;n.exports=o.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:s(l)||l===u}:function(l){return typeof l=="object"?l!==null:s(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,i){n.exports=!1},{}],291:[function(e,n,i){var s=e("../internals/is-object"),o=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("match");n.exports=function(l){var a;return s(l)&&((a=l[u])!==void 0?!!a:o(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,i){var s=e("../internals/get-built-in"),o=e("../internals/is-callable"),u=e("../internals/object-is-prototype-of"),l=e("../internals/use-symbol-as-uid"),a=Object;n.exports=l?function(c){return typeof c=="symbol"}:function(c){var d=s("Symbol");return o(d)&&u(d.prototype,a(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,i){var s=e("../internals/function-bind-context"),o=e("../internals/function-call"),u=e("../internals/an-object"),l=e("../internals/try-to-string"),a=e("../internals/is-array-iterator-method"),c=e("../internals/length-of-array-like"),d=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),f=e("../internals/get-iterator-method"),m=e("../internals/iterator-close"),y=TypeError,p=function(g,w){this.stopped=g,this.result=w},b=p.prototype;n.exports=function(g,w,k){var A,U,V,R,N,L,z,O=k&&k.that,T=!(!k||!k.AS_ENTRIES),P=!(!k||!k.IS_RECORD),E=!(!k||!k.IS_ITERATOR),v=!(!k||!k.INTERRUPTED),x=s(w,O),_=function(C){return A&&m(A,"normal",C),new p(!0,C)},S=function(C){return T?(u(C),v?x(C[0],C[1],_):x(C[0],C[1])):v?x(C,_):x(C)};if(P)A=g.iterator;else if(E)A=g;else{if(!(U=f(g)))throw new y(l(g)+" is not iterable");if(a(U)){for(V=0,R=c(g);R>V;V++)if((N=S(g[V]))&&d(b,N))return N;return new p(!1)}A=h(g,U)}for(L=P?g.next:A.next;!(z=o(L,A)).done;){try{N=S(z.value)}catch(C){m(A,"throw",C)}if(typeof N=="object"&&N&&d(b,N))return N}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/an-object"),u=e("../internals/get-method");n.exports=function(l,a,c){var d,h;o(l);try{if(!(d=u(l,"return"))){if(a==="throw")throw c;return c}d=s(d,l)}catch(f){h=!0,d=f}if(a==="throw")throw c;if(h)throw d;return o(d),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,i){var s=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),u=e("../internals/create-property-descriptor"),l=e("../internals/set-to-string-tag"),a=e("../internals/iterators"),c=function(){return this};n.exports=function(d,h,f,m){var y=h+" Iterator";return d.prototype=o(s,{next:u(+!m,f)}),l(d,y,!1,!0),a[y]=c,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/is-pure"),l=e("../internals/function-name"),a=e("../internals/is-callable"),c=e("../internals/iterator-create-constructor"),d=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),f=e("../internals/set-to-string-tag"),m=e("../internals/create-non-enumerable-property"),y=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),b=e("../internals/iterators"),g=e("../internals/iterators-core"),w=l.PROPER,k=l.CONFIGURABLE,A=g.IteratorPrototype,U=g.BUGGY_SAFARI_ITERATORS,V=p("iterator"),R=function(){return this};n.exports=function(N,L,z,O,T,P,E){c(z,L,O);var v,x,_,S=function(B){if(B===T&&W)return W;if(!U&&B&&B in F)return F[B];switch(B){case"keys":case"values":case"entries":return function(){return new z(this,B)}}return function(){return new z(this)}},C=L+" Iterator",j=!1,F=N.prototype,H=F[V]||F["@@iterator"]||T&&F[T],W=!U&&H||S(T),Y=L==="Array"&&F.entries||H;if(Y&&(v=d(Y.call(new N)))!==Object.prototype&&v.next&&(u||d(v)===A||(h?h(v,A):a(v[V])||y(v,V,R)),f(v,C,!0,!0),u&&(b[C]=R)),w&&T==="values"&&H&&H.name!=="values"&&(!u&&k?m(F,"name","values"):(j=!0,W=function(){return o(H,this)})),T)if(x={values:S("values"),keys:P?W:S("keys"),entries:S("entries")},E)for(_ in x)(U||j||!(_ in F))&&y(F,_,x[_]);else s({target:L,proto:!0,forced:U||j},x);return u&&!E||F[V]===W||y(F,V,W,{name:T}),b[L]=W,x}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,i){var s,o,u,l=e("../internals/fails"),a=e("../internals/is-callable"),c=e("../internals/is-object"),d=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),f=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),y=e("../internals/is-pure"),p=m("iterator"),b=!1;[].keys&&("next"in(u=[].keys())?(o=h(h(u)))!==Object.prototype&&(s=o):b=!0),!c(s)||l(function(){var g={};return s[p].call(g)!==g})?s={}:y&&(s=d(s)),a(s[p])||f(s,p,function(){return this}),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:b}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(e,n,i){var s=e("../internals/to-length");n.exports=function(o){return s(o.length)}},{"../internals/to-length":343}],300:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/fails"),u=e("../internals/is-callable"),l=e("../internals/has-own-property"),a=e("../internals/descriptors"),c=e("../internals/function-name").CONFIGURABLE,d=e("../internals/inspect-source"),h=e("../internals/internal-state"),f=h.enforce,m=h.get,y=String,p=Object.defineProperty,b=s("".slice),g=s("".replace),w=s([].join),k=a&&!o(function(){return p(function(){},"length",{value:8}).length!==8}),A=String(String).split("String"),U=n.exports=function(V,R,N){b(y(R),0,7)==="Symbol("&&(R="["+g(y(R),/^Symbol\(([^)]*)\)/,"$1")+"]"),N&&N.getter&&(R="get "+R),N&&N.setter&&(R="set "+R),(!l(V,"name")||c&&V.name!==R)&&(a?p(V,"name",{value:R,configurable:!0}):V.name=R),k&&N&&l(N,"arity")&&V.length!==N.arity&&p(V,"length",{value:N.arity});try{N&&l(N,"constructor")&&N.constructor?a&&p(V,"prototype",{writable:!1}):V.prototype&&(V.prototype=void 0)}catch{}var L=f(V);return l(L,"source")||(L.source=w(A,typeof R=="string"?R:"")),V};Function.prototype.toString=U(function(){return u(this)&&m(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,i){var s=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(u){var l=+u;return(l>0?o:s)(l)}},{}],302:[function(e,n,i){var s,o,u,l,a,c=e("../internals/global"),d=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,f=e("../internals/task").set,m=e("../internals/queue"),y=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),b=e("../internals/engine-is-webos-webkit"),g=e("../internals/engine-is-node"),w=c.MutationObserver||c.WebKitMutationObserver,k=c.document,A=c.process,U=c.Promise,V=h(c,"queueMicrotask"),R=V&&V.value;if(!R){var N=new m,L=function(){var z,O;for(g&&(z=A.domain)&&z.exit();O=N.get();)try{O()}catch(T){throw N.head&&s(),T}z&&z.enter()};y||g||b||!w||!k?!p&&U&&U.resolve?((l=U.resolve(void 0)).constructor=U,a=d(l.then,l),s=function(){a(L)}):g?s=function(){A.nextTick(L)}:(f=d(f,c),s=function(){f(L)}):(o=!0,u=k.createTextNode(""),new w(L).observe(u,{characterData:!0}),s=function(){u.data=o=!o}),R=function(z){N.head||s(),N.add(z)}}n.exports=R},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,i){var s=e("../internals/a-callable"),o=TypeError,u=function(l){var a,c;this.promise=new l(function(d,h){if(a!==void 0||c!==void 0)throw new o("Bad Promise constructor");a=d,c=h}),this.resolve=s(a),this.reject=s(c)};n.exports.f=function(l){return new u(l)}},{"../internals/a-callable":222}],304:[function(e,n,i){var s=e("../internals/is-regexp"),o=TypeError;n.exports=function(u){if(s(u))throw new o("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":291}],305:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/function-uncurry-this"),u=e("../internals/function-call"),l=e("../internals/fails"),a=e("../internals/object-keys"),c=e("../internals/object-get-own-property-symbols"),d=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),f=e("../internals/indexed-object"),m=Object.assign,y=Object.defineProperty,p=o([].concat);n.exports=!m||l(function(){if(s&&m({b:1},m(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},g={},w=Symbol("assign detection");return b[w]=7,"abcdefghijklmnopqrst".split("").forEach(function(k){g[k]=k}),m({},b)[w]!==7||a(m({},g)).join("")!=="abcdefghijklmnopqrst"})?function(b,g){for(var w=h(b),k=arguments.length,A=1,U=c.f,V=d.f;k>A;)for(var R,N=f(arguments[A++]),L=U?p(a(N),U(N)):a(N),z=L.length,O=0;z>O;)R=L[O++],s&&!u(V,N,R)||(w[R]=N[R]);return w}:m},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,i){var s,o=e("../internals/an-object"),u=e("../internals/object-define-properties"),l=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),c=e("../internals/html"),d=e("../internals/document-create-element"),h=e("../internals/shared-key"),f=h("IE_PROTO"),m=function(){},y=function(g){return"<script>"+g+"<\/script>"},p=function(g){g.write(y("")),g.close();var w=g.parentWindow.Object;return g=null,w},b=function(){try{s=new ActiveXObject("htmlfile")}catch{}var g,w;b=typeof document<"u"?document.domain&&s?p(s):((w=d("iframe")).style.display="none",c.appendChild(w),w.src="javascript:",(g=w.contentWindow.document).open(),g.write(y("document.F=Object")),g.close(),g.F):p(s);for(var k=l.length;k--;)delete b.prototype[l[k]];return b()};a[f]=!0,n.exports=Object.create||function(g,w){var k;return g!==null?(m.prototype=o(g),k=new m,m.prototype=null,k[f]=g):k=b(),w===void 0?k:u.f(k,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/v8-prototype-define-bug"),u=e("../internals/object-define-property"),l=e("../internals/an-object"),a=e("../internals/to-indexed-object"),c=e("../internals/object-keys");i.f=s&&!o?Object.defineProperties:function(d,h){l(d);for(var f,m=a(h),y=c(h),p=y.length,b=0;p>b;)u.f(d,f=y[b++],m[f]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),u=e("../internals/v8-prototype-define-bug"),l=e("../internals/an-object"),a=e("../internals/to-property-key"),c=TypeError,d=Object.defineProperty,h=Object.getOwnPropertyDescriptor;i.f=s?u?function(f,m,y){if(l(f),m=a(m),l(y),typeof f=="function"&&m==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var p=h(f,m);p&&p.writable&&(f[m]=y.value,y={configurable:"configurable"in y?y.configurable:p.configurable,enumerable:"enumerable"in y?y.enumerable:p.enumerable,writable:!1})}return d(f,m,y)}:d:function(f,m,y){if(l(f),m=a(m),l(y),o)try{return d(f,m,y)}catch{}if("get"in y||"set"in y)throw new c("Accessors not supported");return"value"in y&&(f[m]=y.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/function-call"),u=e("../internals/object-property-is-enumerable"),l=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),c=e("../internals/to-property-key"),d=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;i.f=s?f:function(m,y){if(m=a(m),y=c(y),h)try{return f(m,y)}catch{}if(d(m,y))return l(!o(u.f,m,y),m[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,i){var s=e("../internals/classof-raw"),o=e("../internals/to-indexed-object"),u=e("../internals/object-get-own-property-names").f,l=e("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(c){return a&&s(c)==="Window"?function(d){try{return u(d)}catch{return l(a)}}(c):u(o(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,i){var s=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(u){return s(u,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,i){var s=e("../internals/has-own-property"),o=e("../internals/is-callable"),u=e("../internals/to-object"),l=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),c=l("IE_PROTO"),d=Object,h=d.prototype;n.exports=a?d.getPrototypeOf:function(f){var m=u(f);if(s(m,c))return m[c];var y=m.constructor;return o(y)&&m instanceof y?y.prototype:m instanceof d?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),u=e("../internals/to-indexed-object"),l=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys"),c=s([].push);n.exports=function(d,h){var f,m=u(d),y=0,p=[];for(f in m)!o(a,f)&&o(m,f)&&c(p,f);for(;h.length>y;)o(m,f=h[y++])&&(~l(p,f)||c(p,f));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,i){var s=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");n.exports=Object.keys||function(u){return s(u,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,i){var s={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!s.call({1:2},1);i.f=u?function(l){var a=o(this,l);return!!a&&a.enumerable}:s},{}],318:[function(e,n,i){var s=e("../internals/function-uncurry-this-accessor"),o=e("../internals/an-object"),u=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,a=!1,c={};try{(l=s(Object.prototype,"__proto__","set"))(c,[]),a=c instanceof Array}catch{}return function(d,h){return o(d),u(h),a?l(d,h):d.__proto__=h,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/fails"),u=e("../internals/function-uncurry-this"),l=e("../internals/object-get-prototype-of"),a=e("../internals/object-keys"),c=e("../internals/to-indexed-object"),d=u(e("../internals/object-property-is-enumerable").f),h=u([].push),f=s&&o(function(){var y=Object.create(null);return y[2]=2,!d(y,2)}),m=function(y){return function(p){for(var b,g=c(p),w=a(g),k=f&&l(g)===null,A=w.length,U=0,V=[];A>U;)b=w[U++],s&&!(k?b in g:d(g,b))||h(V,y?[b,g[b]]:g[b]);return V}};n.exports={entries:m(!0),values:m(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/is-callable"),u=e("../internals/is-object"),l=TypeError;n.exports=function(a,c){var d,h;if(c==="string"&&o(d=a.toString)&&!u(h=s(d,a))||o(d=a.valueOf)&&!u(h=s(d,a))||c!=="string"&&o(d=a.toString)&&!u(h=s(d,a)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,i){var s=e("../internals/get-built-in"),o=e("../internals/function-uncurry-this"),u=e("../internals/object-get-own-property-names"),l=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object"),c=o([].concat);n.exports=s("Reflect","ownKeys")||function(d){var h=u.f(a(d)),f=l.f;return f?c(h,f(d)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,i){var s=e("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(e,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/promise-native-constructor"),u=e("../internals/is-callable"),l=e("../internals/is-forced"),a=e("../internals/inspect-source"),c=e("../internals/well-known-symbol"),d=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),f=e("../internals/is-pure"),m=e("../internals/engine-v8-version"),y=o&&o.prototype,p=c("species"),b=!1,g=u(s.PromiseRejectionEvent),w=l("Promise",function(){var k=a(o),A=k!==String(o);if(!A&&m===66||f&&(!y.catch||!y.finally))return!0;if(!m||m<51||!/native code/.test(k)){var U=new o(function(R){R(1)}),V=function(R){R(function(){},function(){})};if((U.constructor={})[p]=V,!(b=U.then(function(){})instanceof V))return!0}return!A&&(d||h)&&!g});n.exports={CONSTRUCTOR:w,REJECTION_EVENT:g,SUBCLASSING:b}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,i){var s=e("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(e,n,i){var s=e("../internals/an-object"),o=e("../internals/is-object"),u=e("../internals/new-promise-capability");n.exports=function(l,a){if(s(l),o(a)&&a.constructor===l)return a;var c=u.f(l);return(0,c.resolve)(a),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,i){var s=e("../internals/promise-native-constructor"),o=e("../internals/check-correctness-of-iteration"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=u||!o(function(l){s.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(o){var u={item:o,next:null},l=this.tail;l?l.next=u:this.head=u,this.tail=u},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=s},{}],329:[function(e,n,i){var s=e("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(u){if(s(u))throw new o("Can't call method on "+u);return u}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,i){var s=e("../internals/get-built-in"),o=e("../internals/define-built-in-accessor"),u=e("../internals/well-known-symbol"),l=e("../internals/descriptors"),a=u("species");n.exports=function(c){var d=s(c);l&&d&&!d[a]&&o(d,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,i){var s=e("../internals/object-define-property").f,o=e("../internals/has-own-property"),u=e("../internals/well-known-symbol")("toStringTag");n.exports=function(l,a,c){l&&!c&&(l=l.prototype),l&&!o(l,u)&&s(l,u,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,i){var s=e("../internals/shared"),o=e("../internals/uid"),u=s("keys");n.exports=function(l){return u[l]||(u[l]=o(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/define-global-property"),u=s["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=u},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,i){var s=e("../internals/is-pure"),o=e("../internals/shared-store");(n.exports=function(u,l){return o[u]||(o[u]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,i){var s=e("../internals/an-object"),o=e("../internals/a-constructor"),u=e("../internals/is-null-or-undefined"),l=e("../internals/well-known-symbol")("species");n.exports=function(a,c){var d,h=s(a).constructor;return h===void 0||u(d=s(h)[l])?c:o(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,i){var s=e("../internals/engine-v8-version"),o=e("../internals/fails"),u=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o(function(){var l=Symbol("symbol detection");return!u(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&s&&s<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/get-built-in"),u=e("../internals/well-known-symbol"),l=e("../internals/define-built-in");n.exports=function(){var a=o("Symbol"),c=a&&a.prototype,d=c&&c.valueOf,h=u("toPrimitive");c&&!c[h]&&l(c,h,function(f){return s(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,i){var s,o,u,l,a=e("../internals/global"),c=e("../internals/function-apply"),d=e("../internals/function-bind-context"),h=e("../internals/is-callable"),f=e("../internals/has-own-property"),m=e("../internals/fails"),y=e("../internals/html"),p=e("../internals/array-slice"),b=e("../internals/document-create-element"),g=e("../internals/validate-arguments-length"),w=e("../internals/engine-is-ios"),k=e("../internals/engine-is-node"),A=a.setImmediate,U=a.clearImmediate,V=a.process,R=a.Dispatch,N=a.Function,L=a.MessageChannel,z=a.String,O=0,T={};m(function(){s=a.location});var P=function(_){if(f(T,_)){var S=T[_];delete T[_],S()}},E=function(_){return function(){P(_)}},v=function(_){P(_.data)},x=function(_){a.postMessage(z(_),s.protocol+"//"+s.host)};A&&U||(A=function(_){g(arguments.length,1);var S=h(_)?_:N(_),C=p(arguments,1);return T[++O]=function(){c(S,void 0,C)},o(O),O},U=function(_){delete T[_]},k?o=function(_){V.nextTick(E(_))}:R&&R.now?o=function(_){R.now(E(_))}:L&&!w?(l=(u=new L).port2,u.port1.onmessage=v,o=d(l.postMessage,l)):a.addEventListener&&h(a.postMessage)&&!a.importScripts&&s&&s.protocol!=="file:"&&!m(x)?(o=x,a.addEventListener("message",v,!1)):o="onreadystatechange"in b("script")?function(_){y.appendChild(b("script")).onreadystatechange=function(){y.removeChild(this),P(_)}}:function(_){setTimeout(E(_),0)}),n.exports={set:A,clear:U}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),o=Math.max,u=Math.min;n.exports=function(l,a){var c=s(l);return c<0?o(c+a,0):u(c,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,i){var s=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");n.exports=function(u){return s(o(u))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,i){var s=e("../internals/math-trunc");n.exports=function(o){var u=+o;return u!=u||u===0?0:s(u)}},{"../internals/math-trunc":301}],343:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(u){return u>0?o(s(u),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,i){var s=e("../internals/require-object-coercible"),o=Object;n.exports=function(u){return o(s(u))}},{"../internals/require-object-coercible":329}],345:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/is-object"),u=e("../internals/is-symbol"),l=e("../internals/get-method"),a=e("../internals/ordinary-to-primitive"),c=e("../internals/well-known-symbol"),d=TypeError,h=c("toPrimitive");n.exports=function(f,m){if(!o(f)||u(f))return f;var y,p=l(f,h);if(p){if(m===void 0&&(m="default"),y=s(p,f,m),!o(y)||u(y))return y;throw new d("Can't convert object to primitive value")}return m===void 0&&(m="number"),a(f,m)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,i){var s=e("../internals/to-primitive"),o=e("../internals/is-symbol");n.exports=function(u){var l=s(u,"string");return o(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,i){var s={};s[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,i){var s=e("../internals/classof"),o=String;n.exports=function(u){if(s(u)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(u)}},{"../internals/classof":236}],349:[function(e,n,i){var s=String;n.exports=function(o){try{return s(o)}catch{return"Object"}}},{}],350:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=0,u=Math.random(),l=s(1 .toString);n.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+l(++o+u,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/fails");n.exports=s&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,i){var s=TypeError;n.exports=function(o,u){if(o<u)throw new s("Not enough arguments");return o}},{}],354:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/is-callable"),u=s.WeakMap;n.exports=o(u)&&/native code/.test(String(u))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,i){var s=e("../internals/path"),o=e("../internals/has-own-property"),u=e("../internals/well-known-symbol-wrapped"),l=e("../internals/object-define-property").f;n.exports=function(a){var c=s.Symbol||(s.Symbol={});o(c,a)||l(c,a,{value:u.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,i){var s=e("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/shared"),u=e("../internals/has-own-property"),l=e("../internals/uid"),a=e("../internals/symbol-constructor-detection"),c=e("../internals/use-symbol-as-uid"),d=s.Symbol,h=o("wks"),f=c?d.for||d:d&&d.withoutSetter||l;n.exports=function(m){return u(h,m)||(h[m]=a&&u(d,m)?d[m]:f("Symbol."+m)),h[m]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/array-iteration").findIndex,u=e("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{findIndex:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),u("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/array-iteration").find,u=e("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{find:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),u("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/array-includes").includes,u=e("../internals/fails"),l=e("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:u(function(){return!Array(1).includes()})},{includes:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,i){var s=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),u=e("../internals/iterators"),l=e("../internals/internal-state"),a=e("../internals/object-define-property").f,c=e("../internals/iterator-define"),d=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),f=e("../internals/descriptors"),m=l.set,y=l.getterFor("Array Iterator");n.exports=c(Array,"Array",function(b,g){m(this,{type:"Array Iterator",target:s(b),index:0,kind:g})},function(){var b=y(this),g=b.target,w=b.kind,k=b.index++;if(!g||k>=g.length)return b.target=void 0,d(void 0,!0);switch(w){case"keys":return d(k,!1);case"values":return d(g[k],!1)}return d([k,g[k]],!1)},"values");var p=u.Arguments=u.Array;if(o("keys"),o("values"),o("entries"),!h&&f&&p.name!=="values")try{a(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/get-built-in"),u=e("../internals/function-apply"),l=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),c=e("../internals/fails"),d=e("../internals/is-callable"),h=e("../internals/is-symbol"),f=e("../internals/array-slice"),m=e("../internals/get-json-replacer-function"),y=e("../internals/symbol-constructor-detection"),p=String,b=o("JSON","stringify"),g=a(/./.exec),w=a("".charAt),k=a("".charCodeAt),A=a("".replace),U=a(1 .toString),V=/[\uD800-\uDFFF]/g,R=/^[\uD800-\uDBFF]$/,N=/^[\uDC00-\uDFFF]$/,L=!y||c(function(){var P=o("Symbol")("stringify detection");return b([P])!=="[null]"||b({a:P})!=="{}"||b(Object(P))!=="{}"}),z=c(function(){return b("\uDF06\uD834")!=='"\\udf06\\ud834"'||b("\uDEAD")!=='"\\udead"'}),O=function(P,E){var v=f(arguments),x=m(E);if(d(x)||P!==void 0&&!h(P))return v[1]=function(_,S){if(d(x)&&(S=l(x,this,p(_),S)),!h(S))return S},u(b,null,v)},T=function(P,E,v){var x=w(v,E-1),_=w(v,E+1);return g(R,P)&&!g(N,_)||g(N,P)&&!g(R,x)?"\\u"+U(k(P,0),16):P};b&&s({target:"JSON",stat:!0,arity:3,forced:L||z},{stringify:function(P,E,v){var x=f(arguments),_=u(L?O:b,null,x);return z&&typeof _=="string"?A(_,V,T):_}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,i){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/symbol-constructor-detection"),u=e("../internals/fails"),l=e("../internals/object-get-own-property-symbols"),a=e("../internals/to-object");s({target:"Object",stat:!0,forced:!o||u(function(){l.f(1)})},{getOwnPropertySymbols:function(c){var d=l.f;return d?d(a(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/to-object"),u=e("../internals/object-keys");s({target:"Object",stat:!0,forced:e("../internals/fails")(function(){u(1)})},{keys:function(l){return u(o(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(u){return o(u)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),a=e("../internals/perform"),c=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(d){var h=this,f=l.f(h),m=f.resolve,y=f.reject,p=a(function(){var b=u(h.resolve),g=[],w=0,k=1;c(d,function(A){var U=w++,V=!1;k++,o(b,h,A).then(function(R){V||(V=!0,g[U]=R,--k||m(g))},y)}),--k||m(g)});return p.error&&y(p.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-native-constructor"),a=e("../internals/get-built-in"),c=e("../internals/is-callable"),d=e("../internals/define-built-in"),h=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(m){return this.then(void 0,m)}}),!o&&c(l)){var f=a("Promise").prototype.catch;h.catch!==f&&d(h,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,i){var s,o,u,l=e("../internals/export"),a=e("../internals/is-pure"),c=e("../internals/engine-is-node"),d=e("../internals/global"),h=e("../internals/function-call"),f=e("../internals/define-built-in"),m=e("../internals/object-set-prototype-of"),y=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),b=e("../internals/a-callable"),g=e("../internals/is-callable"),w=e("../internals/is-object"),k=e("../internals/an-instance"),A=e("../internals/species-constructor"),U=e("../internals/task").set,V=e("../internals/microtask"),R=e("../internals/host-report-errors"),N=e("../internals/perform"),L=e("../internals/queue"),z=e("../internals/internal-state"),O=e("../internals/promise-native-constructor"),T=e("../internals/promise-constructor-detection"),P=e("../internals/new-promise-capability"),E=T.CONSTRUCTOR,v=T.REJECTION_EVENT,x=T.SUBCLASSING,_=z.getterFor("Promise"),S=z.set,C=O&&O.prototype,j=O,F=C,H=d.TypeError,W=d.document,Y=d.process,B=P.f,G=B,D=!!(W&&W.createEvent&&d.dispatchEvent),M=function(ne){var ce;return!(!w(ne)||!g(ce=ne.then))&&ce},$=function(ne,ce){var ue,fe,me,ye=ce.value,xe=ce.state===1,Te=xe?ne.ok:ne.fail,ke=ne.resolve,Pe=ne.reject,We=ne.domain;try{Te?(xe||(ce.rejection===2&&le(ce),ce.rejection=1),Te===!0?ue=ye:(We&&We.enter(),ue=Te(ye),We&&(We.exit(),me=!0)),ue===ne.promise?Pe(new H("Promise-chain cycle")):(fe=M(ue))?h(fe,ue,ke,Pe):ke(ue)):Pe(ye)}catch(He){We&&!me&&We.exit(),Pe(He)}},X=function(ne,ce){ne.notified||(ne.notified=!0,V(function(){for(var ue,fe=ne.reactions;ue=fe.get();)$(ue,ne);ne.notified=!1,ce&&!ne.rejection&&Q(ne)}))},te=function(ne,ce,ue){var fe,me;D?((fe=W.createEvent("Event")).promise=ce,fe.reason=ue,fe.initEvent(ne,!1,!0),d.dispatchEvent(fe)):fe={promise:ce,reason:ue},!v&&(me=d["on"+ne])?me(fe):ne==="unhandledrejection"&&R("Unhandled promise rejection",ue)},Q=function(ne){h(U,d,function(){var ce,ue=ne.facade,fe=ne.value;if(ee(ne)&&(ce=N(function(){c?Y.emit("unhandledRejection",fe,ue):te("unhandledrejection",ue,fe)}),ne.rejection=c||ee(ne)?2:1,ce.error))throw ce.value})},ee=function(ne){return ne.rejection!==1&&!ne.parent},le=function(ne){h(U,d,function(){var ce=ne.facade;c?Y.emit("rejectionHandled",ce):te("rejectionhandled",ce,ne.value)})},oe=function(ne,ce,ue){return function(fe){ne(ce,fe,ue)}},J=function(ne,ce,ue){ne.done||(ne.done=!0,ue&&(ne=ue),ne.value=ce,ne.state=2,X(ne,!0))},ie=function(ne,ce,ue){if(!ne.done){ne.done=!0,ue&&(ne=ue);try{if(ne.facade===ce)throw new H("Promise can't be resolved itself");var fe=M(ce);fe?V(function(){var me={done:!1};try{h(fe,ce,oe(ie,me,ne),oe(J,me,ne))}catch(ye){J(me,ye,ne)}}):(ne.value=ce,ne.state=1,X(ne,!1))}catch(me){J({done:!1},me,ne)}}};if(E&&(F=(j=function(ne){k(this,F),b(ne),h(s,this);var ce=_(this);try{ne(oe(ie,ce),oe(J,ce))}catch(ue){J(ce,ue)}}).prototype,(s=function(ne){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new L,rejection:!1,state:0,value:void 0})}).prototype=f(F,"then",function(ne,ce){var ue=_(this),fe=B(A(this,j));return ue.parent=!0,fe.ok=!g(ne)||ne,fe.fail=g(ce)&&ce,fe.domain=c?Y.domain:void 0,ue.state===0?ue.reactions.add(fe):V(function(){$(fe,ue)}),fe.promise}),o=function(){var ne=new s,ce=_(ne);this.promise=ne,this.resolve=oe(ie,ce),this.reject=oe(J,ce)},P.f=B=function(ne){return ne===j||ne===void 0?new o(ne):G(ne)},!a&&g(O)&&C!==Object.prototype)){u=C.then,x||f(C,"then",function(ne,ce){var ue=this;return new j(function(fe,me){h(u,ue,fe,me)}).then(ne,ce)},{unsafe:!0});try{delete C.constructor}catch{}m&&m(C,F)}l({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:j}),y(j,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),l=e("../internals/fails"),a=e("../internals/get-built-in"),c=e("../internals/is-callable"),d=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),f=e("../internals/define-built-in"),m=u&&u.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!u&&l(function(){m.finally.call({then:function(){}},function(){})})},{finally:function(p){var b=d(this,a("Promise")),g=c(p);return this.then(g?function(w){return h(b,p()).then(function(){return w})}:p,g?function(w){return h(b,p()).then(function(){throw w})}:p)}}),!o&&c(u)){var y=a("Promise").prototype.finally;m.finally!==y&&f(m,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,i){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),a=e("../internals/perform"),c=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(d){var h=this,f=l.f(h),m=f.reject,y=a(function(){var p=u(h.resolve);c(d,function(b){o(p,h,b).then(f.resolve,m)})});return y.error&&m(y.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var a=u.f(this);return o(a.reject,void 0,l),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/get-built-in"),u=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),a=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-resolve"),d=o("Promise"),h=u&&!a;s({target:"Promise",stat:!0,forced:u||a},{resolve:function(f){return c(h&&this===d?l:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-uncurry-this"),u=e("../internals/to-absolute-index"),l=RangeError,a=String.fromCharCode,c=String.fromCodePoint,d=o([].join);s({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(h){for(var f,m=[],y=arguments.length,p=0;y>p;){if(f=+arguments[p++],u(f,1114111)!==f)throw new l(f+" is not a valid code point");m[p]=f<65536?a(f):a(55296+((f-=65536)>>10),f%1024+56320)}return d(m,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-uncurry-this"),u=e("../internals/not-a-regexp"),l=e("../internals/require-object-coercible"),a=e("../internals/to-string"),c=e("../internals/correct-is-regexp-logic"),d=o("".indexOf);s({target:"String",proto:!0,forced:!c("includes")},{includes:function(h){return!!~d(a(l(this)),a(u(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,i){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/global"),u=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),a=e("../internals/is-pure"),c=e("../internals/descriptors"),d=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),f=e("../internals/has-own-property"),m=e("../internals/object-is-prototype-of"),y=e("../internals/an-object"),p=e("../internals/to-indexed-object"),b=e("../internals/to-property-key"),g=e("../internals/to-string"),w=e("../internals/create-property-descriptor"),k=e("../internals/object-create"),A=e("../internals/object-keys"),U=e("../internals/object-get-own-property-names"),V=e("../internals/object-get-own-property-names-external"),R=e("../internals/object-get-own-property-symbols"),N=e("../internals/object-get-own-property-descriptor"),L=e("../internals/object-define-property"),z=e("../internals/object-define-properties"),O=e("../internals/object-property-is-enumerable"),T=e("../internals/define-built-in"),P=e("../internals/define-built-in-accessor"),E=e("../internals/shared"),v=e("../internals/shared-key"),x=e("../internals/hidden-keys"),_=e("../internals/uid"),S=e("../internals/well-known-symbol"),C=e("../internals/well-known-symbol-wrapped"),j=e("../internals/well-known-symbol-define"),F=e("../internals/symbol-define-to-primitive"),H=e("../internals/set-to-string-tag"),W=e("../internals/internal-state"),Y=e("../internals/array-iteration").forEach,B=v("hidden"),G=W.set,D=W.getterFor("Symbol"),M=Object.prototype,$=o.Symbol,X=$&&$.prototype,te=o.RangeError,Q=o.TypeError,ee=o.QObject,le=N.f,oe=L.f,J=V.f,ie=O.f,ne=l([].push),ce=E("symbols"),ue=E("op-symbols"),fe=E("wks"),me=!ee||!ee.prototype||!ee.prototype.findChild,ye=function(De,Re,je){var $e=le(M,Re);$e&&delete M[Re],oe(De,Re,je),$e&&De!==M&&oe(M,Re,$e)},xe=c&&h(function(){return k(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a!==7})?ye:oe,Te=function(De,Re){var je=ce[De]=k(X);return G(je,{type:"Symbol",tag:De,description:Re}),c||(je.description=Re),je},ke=function(De,Re,je){De===M&&ke(ue,Re,je),y(De);var $e=b(Re);return y(je),f(ce,$e)?(je.enumerable?(f(De,B)&&De[B][$e]&&(De[B][$e]=!1),je=k(je,{enumerable:w(0,!1)})):(f(De,B)||oe(De,B,w(1,{})),De[B][$e]=!0),xe(De,$e,je)):oe(De,$e,je)},Pe=function(De,Re){y(De);var je=p(Re),$e=A(je).concat(ze(je));return Y($e,function(Fe){c&&!u(We,je,Fe)||ke(De,Fe,je[Fe])}),De},We=function(De){var Re=b(De),je=u(ie,this,Re);return!(this===M&&f(ce,Re)&&!f(ue,Re))&&(!(je||!f(this,Re)||!f(ce,Re)||f(this,B)&&this[B][Re])||je)},He=function(De,Re){var je=p(De),$e=b(Re);if(je!==M||!f(ce,$e)||f(ue,$e)){var Fe=le(je,$e);return!Fe||!f(ce,$e)||f(je,B)&&je[B][$e]||(Fe.enumerable=!0),Fe}},Ge=function(De){var Re=J(p(De)),je=[];return Y(Re,function($e){f(ce,$e)||f(x,$e)||ne(je,$e)}),je},ze=function(De){var Re=De===M,je=J(Re?ue:p(De)),$e=[];return Y(je,function(Fe){!f(ce,Fe)||Re&&!f(M,Fe)||ne($e,ce[Fe])}),$e};d||(T(X=($=function(){if(m(X,this))throw new Q("Symbol is not a constructor");var De=arguments.length&&arguments[0]!==void 0?g(arguments[0]):void 0,Re=_(De),je=function($e){this===M&&u(je,ue,$e),f(this,B)&&f(this[B],Re)&&(this[B][Re]=!1);var Fe=w(1,$e);try{xe(this,Re,Fe)}catch(mt){if(!(mt instanceof te))throw mt;ye(this,Re,Fe)}};return c&&me&&xe(M,Re,{configurable:!0,set:je}),Te(Re,De)}).prototype,"toString",function(){return D(this).tag}),T($,"withoutSetter",function(De){return Te(_(De),De)}),O.f=We,L.f=ke,z.f=Pe,N.f=He,U.f=V.f=Ge,R.f=ze,C.f=function(De){return Te(S(De),De)},c&&(P(X,"description",{configurable:!0,get:function(){return D(this).description}}),a||T(M,"propertyIsEnumerable",We,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:$}),Y(A(fe),function(De){j(De)}),s({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){me=!0},useSimple:function(){me=!1}}),s({target:"Object",stat:!0,forced:!d,sham:!c},{create:function(De,Re){return Re===void 0?k(De):Pe(k(De),Re)},defineProperty:ke,defineProperties:Pe,getOwnPropertyDescriptor:He}),s({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Ge}),F(),H($,"Symbol"),x[B]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/get-built-in"),u=e("../internals/has-own-property"),l=e("../internals/to-string"),a=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),d=a("string-to-symbol-registry"),h=a("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!c},{for:function(f){var m=l(f);if(u(d,m))return d[m];var y=o("Symbol")(m);return d[m]=y,h[y]=m,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,i){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/has-own-property"),u=e("../internals/is-symbol"),l=e("../internals/try-to-string"),a=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),d=a("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!c},{keyFor:function(h){if(!u(h))throw new TypeError(l(h)+" is not a symbol");if(o(d,h))return d[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,i){function s(o){return Object.prototype.toString.call(o)}i.isArray=function(o){return Array.isArray?Array.isArray(o):s(o)==="[object Array]"},i.isBoolean=function(o){return typeof o=="boolean"},i.isNull=function(o){return o===null},i.isNullOrUndefined=function(o){return o==null},i.isNumber=function(o){return typeof o=="number"},i.isString=function(o){return typeof o=="string"},i.isSymbol=function(o){return typeof o=="symbol"},i.isUndefined=function(o){return o===void 0},i.isRegExp=function(o){return s(o)==="[object RegExp]"},i.isObject=function(o){return typeof o=="object"&&o!==null},i.isDate=function(o){return s(o)==="[object Date]"},i.isError=function(o){return s(o)==="[object Error]"||o instanceof Error},i.isFunction=function(o){return typeof o=="function"},i.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},i.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,i){(function(s){(function(){var o=e("elliptic"),u=e("bn.js");n.exports=function(d){return new a(d)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(d){this.curveType=l[d],this.curveType||(this.curveType={name:d}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function c(d,h,f){Array.isArray(d)||(d=d.toArray());var m=new s(d);if(f&&m.length<f){var y=new s(f-m.length);y.fill(0),m=s.concat([y,m])}return h?m.toString(h):m}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,a.prototype.generateKeys=function(d,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,h)},a.prototype.computeSecret=function(d,h,f){return h=h||"utf8",s.isBuffer(d)||(d=new s(d,h)),c(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},a.prototype.getPublicKey=function(d,h){var f=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),c(f,d)},a.prototype.getPrivateKey=function(d){return c(this.keys.getPrivate(),d)},a.prototype.setPublicKey=function(d,h){return h=h||"utf8",s.isBuffer(d)||(d=new s(d,h)),this.keys._importPublic(d),this},a.prototype.setPrivateKey=function(d,h){h=h||"utf8",s.isBuffer(d)||(d=new s(d,h));var f=new u(d);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(e,n,i){var s=e("inherits"),o=e("md5.js"),u=e("ripemd160"),l=e("sha.js"),a=e("cipher-base");function c(d){a.call(this,"digest"),this._hash=d}s(c,a),c.prototype._update=function(d){this._hash.update(d)},c.prototype._final=function(){return this._hash.digest()},n.exports=function(d){return(d=d.toLowerCase())==="md5"?new o:d==="rmd160"||d==="ripemd160"?new u:new c(l(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,i){var s=e("md5.js");n.exports=function(o){return new s().update(o).digest()}},{"md5.js":450}],388:[function(e,n,i){var s=e("inherits"),o=e("./legacy"),u=e("cipher-base"),l=e("safe-buffer").Buffer,a=e("create-hash/md5"),c=e("ripemd160"),d=e("sha.js"),h=l.alloc(128);function f(m,y){u.call(this,"digest"),typeof y=="string"&&(y=l.from(y));var p=m==="sha512"||m==="sha384"?128:64;this._alg=m,this._key=y,y.length>p?y=(m==="rmd160"?new c:d(m)).update(y).digest():y.length<p&&(y=l.concat([y,h],p));for(var b=this._ipad=l.allocUnsafe(p),g=this._opad=l.allocUnsafe(p),w=0;w<p;w++)b[w]=54^y[w],g[w]=92^y[w];this._hash=m==="rmd160"?new c:d(m),this._hash.update(b)}s(f,u),f.prototype._update=function(m){this._hash.update(m)},f.prototype._final=function(){var m=this._hash.digest();return(this._alg==="rmd160"?new c:d(this._alg)).update(this._opad).update(m).digest()},n.exports=function(m,y){return(m=m.toLowerCase())==="rmd160"||m==="ripemd160"?new f("rmd160",y):m==="md5"?new o(a,y):new f(m,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,i){var s=e("inherits"),o=e("safe-buffer").Buffer,u=e("cipher-base"),l=o.alloc(128);function a(c,d){u.call(this,"digest"),typeof d=="string"&&(d=o.from(d)),this._alg=c,this._key=d,d.length>64?d=c(d):d.length<64&&(d=o.concat([d,l],64));for(var h=this._ipad=o.allocUnsafe(64),f=this._opad=o.allocUnsafe(64),m=0;m<64;m++)h[m]=54^d[m],f[m]=92^d[m];this._hash=[h]}s(a,u),a.prototype._update=function(c){this._hash.push(c)},a.prototype._final=function(){var c=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,c]))},n.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=e("randombytes"),i.createHash=i.Hash=e("create-hash"),i.createHmac=i.Hmac=e("create-hmac");var s=e("browserify-sign/algos"),o=Object.keys(s),u=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);i.getHashes=function(){return u};var l=e("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var a=e("browserify-cipher");i.Cipher=a.Cipher,i.createCipher=a.createCipher,i.Cipheriv=a.Cipheriv,i.createCipheriv=a.createCipheriv,i.Decipher=a.Decipher,i.createDecipher=a.createDecipher,i.Decipheriv=a.Decipheriv,i.createDecipheriv=a.createDecipheriv,i.getCiphers=a.getCiphers,i.listCiphers=a.listCiphers;var c=e("diffie-hellman");i.DiffieHellmanGroup=c.DiffieHellmanGroup,i.createDiffieHellmanGroup=c.createDiffieHellmanGroup,i.getDiffieHellman=c.getDiffieHellman,i.createDiffieHellman=c.createDiffieHellman,i.DiffieHellman=c.DiffieHellman;var d=e("browserify-sign");i.createSign=d.createSign,i.Sign=d.Sign,i.createVerify=d.createVerify,i.Verify=d.Verify,i.createECDH=e("create-ecdh");var h=e("public-encrypt");i.publicEncrypt=h.publicEncrypt,i.privateEncrypt=h.privateEncrypt,i.publicDecrypt=h.publicDecrypt,i.privateDecrypt=h.privateDecrypt;var f=e("randomfill");i.randomFill=f.randomFill,i.randomFillSync=f.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=o()})(void 0,function(){var s=6e4,o=36e5,u="millisecond",l="second",a="minute",c="hour",d="day",h="week",f="month",m="quarter",y="year",p="date",b="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var x=["th","st","nd","rd"],_=v%100;return"["+v+(x[(_-20)%10]||x[_]||x[0])+"]"}},A=function(v,x,_){var S=String(v);return!S||S.length>=x?v:""+Array(x+1-S.length).join(_)+v},U={s:A,z:function(v){var x=-v.utcOffset(),_=Math.abs(x),S=Math.floor(_/60),C=_%60;return(x<=0?"+":"-")+A(S,2,"0")+":"+A(C,2,"0")},m:function v(x,_){if(x.date()<_.date())return-v(_,x);var S=12*(_.year()-x.year())+(_.month()-x.month()),C=x.clone().add(S,f),j=_-C<0,F=x.clone().add(S+(j?-1:1),f);return+(-(S+(_-C)/(j?C-F:F-C))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:f,y,w:h,d,D:p,h:c,m:a,s:l,ms:u,Q:m}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},V="en",R={};R[V]=k;var N="$isDayjsObject",L=function(v){return v instanceof P||!(!v||!v[N])},z=function v(x,_,S){var C;if(!x)return V;if(typeof x=="string"){var j=x.toLowerCase();R[j]&&(C=j),_&&(R[j]=_,C=j);var F=x.split("-");if(!C&&F.length>1)return v(F[0])}else{var H=x.name;R[H]=x,C=H}return!S&&C&&(V=C),C||!S&&V},O=function(v,x){if(L(v))return v.clone();var _=typeof x=="object"?x:{};return _.date=v,_.args=arguments,new P(_)},T=U;T.l=z,T.i=L,T.w=function(v,x){return O(v,{locale:x.$L,utc:x.$u,x:x.$x,$offset:x.$offset})};var P=function(){function v(_){this.$L=z(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[N]=!0}var x=v.prototype;return x.parse=function(_){this.$d=function(S){var C=S.date,j=S.utc;if(C===null)return new Date(NaN);if(T.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var F=C.match(g);if(F){var H=F[2]-1||0,W=(F[7]||"0").substring(0,3);return j?new Date(Date.UTC(F[1],H,F[3]||1,F[4]||0,F[5]||0,F[6]||0,W)):new Date(F[1],H,F[3]||1,F[4]||0,F[5]||0,F[6]||0,W)}}return new Date(C)}(_),this.init()},x.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},x.$utils=function(){return T},x.isValid=function(){return this.$d.toString()!==b},x.isSame=function(_,S){var C=O(_);return this.startOf(S)<=C&&C<=this.endOf(S)},x.isAfter=function(_,S){return O(_)<this.startOf(S)},x.isBefore=function(_,S){return this.endOf(S)<O(_)},x.$g=function(_,S,C){return T.u(_)?this[S]:this.set(C,_)},x.unix=function(){return Math.floor(this.valueOf()/1e3)},x.valueOf=function(){return this.$d.getTime()},x.startOf=function(_,S){var C=this,j=!!T.u(S)||S,F=T.p(_),H=function(X,te){var Q=T.w(C.$u?Date.UTC(C.$y,te,X):new Date(C.$y,te,X),C);return j?Q:Q.endOf(d)},W=function(X,te){return T.w(C.toDate()[X].apply(C.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(te)),C)},Y=this.$W,B=this.$M,G=this.$D,D="set"+(this.$u?"UTC":"");switch(F){case y:return j?H(1,0):H(31,11);case f:return j?H(1,B):H(0,B+1);case h:var M=this.$locale().weekStart||0,$=(Y<M?Y+7:Y)-M;return H(j?G-$:G+(6-$),B);case d:case p:return W(D+"Hours",0);case c:return W(D+"Minutes",1);case a:return W(D+"Seconds",2);case l:return W(D+"Milliseconds",3);default:return this.clone()}},x.endOf=function(_){return this.startOf(_,!1)},x.$set=function(_,S){var C,j=T.p(_),F="set"+(this.$u?"UTC":""),H=(C={},C[d]=F+"Date",C[p]=F+"Date",C[f]=F+"Month",C[y]=F+"FullYear",C[c]=F+"Hours",C[a]=F+"Minutes",C[l]=F+"Seconds",C[u]=F+"Milliseconds",C)[j],W=j===d?this.$D+(S-this.$W):S;if(j===f||j===y){var Y=this.clone().set(p,1);Y.$d[H](W),Y.init(),this.$d=Y.set(p,Math.min(this.$D,Y.daysInMonth())).$d}else H&&this.$d[H](W);return this.init(),this},x.set=function(_,S){return this.clone().$set(_,S)},x.get=function(_){return this[T.p(_)]()},x.add=function(_,S){var C,j=this;_=Number(_);var F=T.p(S),H=function(B){var G=O(j);return T.w(G.date(G.date()+Math.round(B*_)),j)};if(F===f)return this.set(f,this.$M+_);if(F===y)return this.set(y,this.$y+_);if(F===d)return H(1);if(F===h)return H(7);var W=(C={},C[a]=s,C[c]=o,C[l]=1e3,C)[F]||1,Y=this.$d.getTime()+_*W;return T.w(Y,this)},x.subtract=function(_,S){return this.add(-1*_,S)},x.format=function(_){var S=this,C=this.$locale();if(!this.isValid())return C.invalidDate||b;var j=_||"YYYY-MM-DDTHH:mm:ssZ",F=T.z(this),H=this.$H,W=this.$m,Y=this.$M,B=C.weekdays,G=C.months,D=C.meridiem,M=function(te,Q,ee,le){return te&&(te[Q]||te(S,j))||ee[Q].slice(0,le)},$=function(te){return T.s(H%12||12,te,"0")},X=D||function(te,Q,ee){var le=te<12?"AM":"PM";return ee?le.toLowerCase():le};return j.replace(w,function(te,Q){return Q||function(ee){switch(ee){case"YY":return String(S.$y).slice(-2);case"YYYY":return T.s(S.$y,4,"0");case"M":return Y+1;case"MM":return T.s(Y+1,2,"0");case"MMM":return M(C.monthsShort,Y,G,3);case"MMMM":return M(G,Y);case"D":return S.$D;case"DD":return T.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return M(C.weekdaysMin,S.$W,B,2);case"ddd":return M(C.weekdaysShort,S.$W,B,3);case"dddd":return B[S.$W];case"H":return String(H);case"HH":return T.s(H,2,"0");case"h":return $(1);case"hh":return $(2);case"a":return X(H,W,!0);case"A":return X(H,W,!1);case"m":return String(W);case"mm":return T.s(W,2,"0");case"s":return String(S.$s);case"ss":return T.s(S.$s,2,"0");case"SSS":return T.s(S.$ms,3,"0");case"Z":return F}return null}(te)||F.replace(":","")})},x.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},x.diff=function(_,S,C){var j,F=this,H=T.p(S),W=O(_),Y=(W.utcOffset()-this.utcOffset())*s,B=this-W,G=function(){return T.m(F,W)};switch(H){case y:j=G()/12;break;case f:j=G();break;case m:j=G()/3;break;case h:j=(B-Y)/6048e5;break;case d:j=(B-Y)/864e5;break;case c:j=B/o;break;case a:j=B/s;break;case l:j=B/1e3;break;default:j=B}return C?j:T.a(j)},x.daysInMonth=function(){return this.endOf(f).$D},x.$locale=function(){return R[this.$L]},x.locale=function(_,S){if(!_)return this.$L;var C=this.clone(),j=z(_,S,!0);return j&&(C.$L=j),C},x.clone=function(){return T.w(this.$d,this)},x.toDate=function(){return new Date(this.valueOf())},x.toJSON=function(){return this.isValid()?this.toISOString():null},x.toISOString=function(){return this.$d.toISOString()},x.toString=function(){return this.$d.toUTCString()},v}(),E=P.prototype;return O.prototype=E,[["$ms",u],["$s",l],["$m",a],["$H",c],["$W",d],["$M",f],["$y",y],["$D",p]].forEach(function(v){E[v[1]]=function(x){return this.$g(x,v[0],v[1])}}),O.extend=function(v,x){return v.$i||(v(x,P,O),v.$i=!0),O},O.locale=z,O.isDayjs=L,O.unix=function(v){return O(1e3*v)},O.en=R[V],O.Ls=R,O.p={},O})},{}],392:[function(e,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=/\d\d/,l=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,c={},d=function(g){return(g=+g)+(g>68?1900:2e3)},h=function(g){return function(w){this[g]=+w}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var k=w.match(/([+-]|\d\d)/g),A=60*k[1]+(+k[2]||0);return A===0?0:k[0]==="+"?-A:A}(g)}],m=function(g){var w=c[g];return w&&(w.indexOf?w:w.s.concat(w.f))},y=function(g,w){var k,A=c.meridiem;if(A){for(var U=1;U<=24;U+=1)if(g.indexOf(A(U,0,w))>-1){k=U>12;break}}else k=g===(w?"pm":"PM");return k},p={A:[a,function(g){this.afternoon=y(g,!1)}],a:[a,function(g){this.afternoon=y(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[u,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[u,h("day")],Do:[a,function(g){var w=c.ordinal,k=g.match(/\d+/);if(this.day=k[0],w)for(var A=1;A<=31;A+=1)w(A).replace(/\[|\]/g,"")===g&&(this.day=A)}],M:[l,h("month")],MM:[u,h("month")],MMM:[a,function(g){var w=m("months"),k=(m("monthsShort")||w.map(function(A){return A.slice(0,3)})).indexOf(g)+1;if(k<1)throw new Error;this.month=k%12||k}],MMMM:[a,function(g){var w=m("months").indexOf(g)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,h("year")],YY:[u,function(g){this.year=d(g)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function b(g){var w,k;w=g,k=c&&c.formats;for(var A=(g=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(O,T,P){var E=P&&P.toUpperCase();return T||k[P]||s[P]||k[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,x,_){return x||_.slice(1)})})).match(o),U=A.length,V=0;V<U;V+=1){var R=A[V],N=p[R],L=N&&N[0],z=N&&N[1];A[V]=z?{regex:L,parser:z}:R.replace(/^\[|\]$/g,"")}return function(O){for(var T={},P=0,E=0;P<U;P+=1){var v=A[P];if(typeof v=="string")E+=v.length;else{var x=v.regex,_=v.parser,S=O.slice(E),C=x.exec(S)[0];_.call(T,C),O=O.replace(C,"")}}return function(j){var F=j.afternoon;if(F!==void 0){var H=j.hours;F?H<12&&(j.hours+=12):H===12&&(j.hours=0),delete j.afternoon}}(T),T}}return function(g,w,k){k.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(d=g.parseTwoDigitYear);var A=w.prototype,U=A.parse;A.parse=function(V){var R=V.date,N=V.utc,L=V.args;this.$u=N;var z=L[1];if(typeof z=="string"){var O=L[2]===!0,T=L[3]===!0,P=O||T,E=L[2];T&&(E=L[2]),c=this.$locale(),!O&&E&&(c=k.Ls[E]),this.$d=function(S,C,j){try{if(["x","X"].indexOf(C)>-1)return new Date((C==="X"?1e3:1)*S);var F=b(C)(S),H=F.year,W=F.month,Y=F.day,B=F.hours,G=F.minutes,D=F.seconds,M=F.milliseconds,$=F.zone,X=new Date,te=Y||(H||W?1:X.getDate()),Q=H||X.getFullYear(),ee=0;H&&!W||(ee=W>0?W-1:X.getMonth());var le=B||0,oe=G||0,J=D||0,ie=M||0;return $?new Date(Date.UTC(Q,ee,te,le,oe,J,ie+60*$.offset*1e3)):j?new Date(Date.UTC(Q,ee,te,le,oe,J,ie)):new Date(Q,ee,te,le,oe,J,ie)}catch{return new Date("")}}(R,z,N),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),P&&R!=this.format(z)&&(this.$d=new Date("")),c={}}else if(z instanceof Array)for(var v=z.length,x=1;x<=v;x+=1){L[1]=z[x-1];var _=k.apply(this,L);if(_.isValid()){this.$d=_.$d,this.$L=_.$L,this.init();break}x===v&&(this.$d=new Date(""))}else U.call(this,V)}}})},{}],393:[function(e,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=o()})(void 0,function(){var s="minute",o=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(l,a,c){var d=a.prototype;c.utc=function(g){var w={date:g,utc:!0,args:arguments};return new a(w)},d.utc=function(g){var w=c(this.toDate(),{locale:this.$L,utc:!0});return g?w.add(this.utcOffset(),s):w},d.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var h=d.parse;d.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),h.call(this,g)};var f=d.init;d.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else f.call(this)};var m=d.utcOffset;d.utcOffset=function(g,w){var k=this.$utils().u;if(k(g))return this.$u?0:k(this.$offset)?m.call(this):this.$offset;if(typeof g=="string"&&(g=function(R){R===void 0&&(R="");var N=R.match(o);if(!N)return null;var L=(""+N[0]).match(u)||["-",0,0],z=L[0],O=60*+L[1]+ +L[2];return O===0?0:z==="+"?O:-O}(g))===null)return this;var A=Math.abs(g)<=16?60*g:g,U=this;if(w)return U.$offset=A,U.$u=g===0,U;if(g!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(U=this.local().add(A+V,s)).$offset=A,U.$x.$localOffset=V}else U=this.utc();return U};var y=d.format;d.format=function(g){var w=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,w)},d.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var p=d.toDate;d.toDate=function(g){return g==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var b=d.diff;d.diff=function(g,w,k){if(g&&this.$u===g.$u)return b.call(this,g,w,k);var A=this.local(),U=c(g).local();return b.call(A,U,w,k)}}})},{}],394:[function(e,n,i){i.utils=e("./des/utils"),i.Cipher=e("./des/cipher"),i.DES=e("./des/des"),i.CBC=e("./des/cbc"),i.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,i){var s=e("minimalistic-assert"),o=e("inherits"),u={};function l(a){s.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=a[c]}i.instantiate=function(a){function c(m){a.call(this,m),this._cbcInit()}o(c,a);for(var d=Object.keys(u),h=0;h<d.length;h++){var f=d[h];c.prototype[f]=u[f]}return c.create=function(m){return new c(m)},c},u._cbcInit=function(){var a=new l(this.options.iv);this._cbcState=a},u._update=function(a,c,d,h){var f=this._cbcState,m=this.constructor.super_.prototype,y=f.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)y[p]^=a[c+p];for(m._update.call(this,y,0,d,h),p=0;p<this.blockSize;p++)y[p]=d[h+p]}else{for(m._update.call(this,a,c,d,h),p=0;p<this.blockSize;p++)d[h+p]^=y[p];for(p=0;p<this.blockSize;p++)y[p]=a[c+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,i){var s=e("minimalistic-assert");function o(u){this.options=u,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=u.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(u){return u.length===0?[]:this.type==="decrypt"?this._updateDecrypt(u):this._updateEncrypt(u)},o.prototype._buffer=function(u,l){for(var a=Math.min(this.buffer.length-this.bufferOff,u.length-l),c=0;c<a;c++)this.buffer[this.bufferOff+c]=u[l+c];return this.bufferOff+=a,a},o.prototype._flushBuffer=function(u,l){return this._update(this.buffer,0,u,l),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(u){var l=0,a=0,c=(this.bufferOff+u.length)/this.blockSize|0,d=new Array(c*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(u,l),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(d,a)));for(var h=u.length-(u.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(u,l,d,a),a+=this.blockSize;for(;l<u.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=u[l];return d},o.prototype._updateDecrypt=function(u){for(var l=0,a=0,c=Math.ceil((this.bufferOff+u.length)/this.blockSize)-1,d=new Array(c*this.blockSize);c>0;c--)l+=this._buffer(u,l),a+=this._flushBuffer(d,a);return l+=this._buffer(u,l),d},o.prototype.final=function(u){var l,a;return u&&(l=this.update(u)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(a):a},o.prototype._pad=function(u,l){if(l===0)return!1;for(;l<u.length;)u[l++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var u=new Array(this.blockSize);return this._update(this.buffer,0,u,0),u},o.prototype._unpad=function(u){return u},o.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var u=new Array(this.blockSize);return this._flushBuffer(u,0),this._unpad(u)}},{"minimalistic-assert":453}],397:[function(e,n,i){var s=e("minimalistic-assert"),o=e("inherits"),u=e("./utils"),l=e("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function c(h){l.call(this,h);var f=new a;this._desState=f,this.deriveKeys(f,h.key)}o(c,l),n.exports=c,c.create=function(h){return new c(h)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(h,f){h.keys=new Array(32),s.equal(f.length,this.blockSize,"Invalid key length");var m=u.readUInt32BE(f,0),y=u.readUInt32BE(f,4);u.pc1(m,y,h.tmp,0),m=h.tmp[0],y=h.tmp[1];for(var p=0;p<h.keys.length;p+=2){var b=d[p>>>1];m=u.r28shl(m,b),y=u.r28shl(y,b),u.pc2(m,y,h.keys,p)}},c.prototype._update=function(h,f,m,y){var p=this._desState,b=u.readUInt32BE(h,f),g=u.readUInt32BE(h,f+4);u.ip(b,g,p.tmp,0),b=p.tmp[0],g=p.tmp[1],this.type==="encrypt"?this._encrypt(p,b,g,p.tmp,0):this._decrypt(p,b,g,p.tmp,0),b=p.tmp[0],g=p.tmp[1],u.writeUInt32BE(m,b,y),u.writeUInt32BE(m,g,y+4)},c.prototype._pad=function(h,f){if(this.padding===!1)return!1;for(var m=h.length-f,y=f;y<h.length;y++)h[y]=m;return!0},c.prototype._unpad=function(h){if(this.padding===!1)return h;for(var f=h[h.length-1],m=h.length-f;m<h.length;m++)s.equal(h[m],f);return h.slice(0,h.length-f)},c.prototype._encrypt=function(h,f,m,y,p){for(var b=f,g=m,w=0;w<h.keys.length;w+=2){var k=h.keys[w],A=h.keys[w+1];u.expand(g,h.tmp,0),k^=h.tmp[0],A^=h.tmp[1];var U=u.substitute(k,A),V=g;g=(b^u.permute(U))>>>0,b=V}u.rip(g,b,y,p)},c.prototype._decrypt=function(h,f,m,y,p){for(var b=m,g=f,w=h.keys.length-2;w>=0;w-=2){var k=h.keys[w],A=h.keys[w+1];u.expand(b,h.tmp,0),k^=h.tmp[0],A^=h.tmp[1];var U=u.substitute(k,A),V=b;b=(g^u.permute(U))>>>0,g=V}u.rip(b,g,y,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,i){var s=e("minimalistic-assert"),o=e("inherits"),u=e("./cipher"),l=e("./des");function a(d,h){s.equal(h.length,24,"Invalid key length");var f=h.slice(0,8),m=h.slice(8,16),y=h.slice(16,24);this.ciphers=d==="encrypt"?[l.create({type:"encrypt",key:f}),l.create({type:"decrypt",key:m}),l.create({type:"encrypt",key:y})]:[l.create({type:"decrypt",key:y}),l.create({type:"encrypt",key:m}),l.create({type:"decrypt",key:f})]}function c(d){u.call(this,d);var h=new a(this.type,this.options.key);this._edeState=h}o(c,u),n.exports=c,c.create=function(d){return new c(d)},c.prototype._update=function(d,h,f,m){var y=this._edeState;y.ciphers[0]._update(d,h,f,m),y.ciphers[1]._update(f,m,f,m),y.ciphers[2]._update(f,m,f,m)},c.prototype._pad=l.prototype._pad,c.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,i){i.readUInt32BE=function(l,a){return(l[0+a]<<24|l[1+a]<<16|l[2+a]<<8|l[3+a])>>>0},i.writeUInt32BE=function(l,a,c){l[0+c]=a>>>24,l[1+c]=a>>>16&255,l[2+c]=a>>>8&255,l[3+c]=255&a},i.ip=function(l,a,c,d){for(var h=0,f=0,m=6;m>=0;m-=2){for(var y=0;y<=24;y+=8)h<<=1,h|=a>>>y+m&1;for(y=0;y<=24;y+=8)h<<=1,h|=l>>>y+m&1}for(m=6;m>=0;m-=2){for(y=1;y<=25;y+=8)f<<=1,f|=a>>>y+m&1;for(y=1;y<=25;y+=8)f<<=1,f|=l>>>y+m&1}c[d+0]=h>>>0,c[d+1]=f>>>0},i.rip=function(l,a,c,d){for(var h=0,f=0,m=0;m<4;m++)for(var y=24;y>=0;y-=8)h<<=1,h|=a>>>y+m&1,h<<=1,h|=l>>>y+m&1;for(m=4;m<8;m++)for(y=24;y>=0;y-=8)f<<=1,f|=a>>>y+m&1,f<<=1,f|=l>>>y+m&1;c[d+0]=h>>>0,c[d+1]=f>>>0},i.pc1=function(l,a,c,d){for(var h=0,f=0,m=7;m>=5;m--){for(var y=0;y<=24;y+=8)h<<=1,h|=a>>y+m&1;for(y=0;y<=24;y+=8)h<<=1,h|=l>>y+m&1}for(y=0;y<=24;y+=8)h<<=1,h|=a>>y+m&1;for(m=1;m<=3;m++){for(y=0;y<=24;y+=8)f<<=1,f|=a>>y+m&1;for(y=0;y<=24;y+=8)f<<=1,f|=l>>y+m&1}for(y=0;y<=24;y+=8)f<<=1,f|=l>>y+m&1;c[d+0]=h>>>0,c[d+1]=f>>>0},i.r28shl=function(l,a){return l<<a&268435455|l>>>28-a};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,a,c,d){for(var h=0,f=0,m=s.length>>>1,y=0;y<m;y++)h<<=1,h|=l>>>s[y]&1;for(y=m;y<s.length;y++)f<<=1,f|=a>>>s[y]&1;c[d+0]=h>>>0,c[d+1]=f>>>0},i.expand=function(l,a,c){var d=0,h=0;d=(1&l)<<5|l>>>27;for(var f=23;f>=15;f-=4)d<<=6,d|=l>>>f&63;for(f=11;f>=3;f-=4)h|=l>>>f&63,h<<=6;h|=(31&l)<<1|l>>>31,a[c+0]=d>>>0,a[c+1]=h>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,a){for(var c=0,d=0;d<4;d++)c<<=4,c|=o[64*d+(l>>>18-6*d&63)];for(d=0;d<4;d++)c<<=4,c|=o[256+64*d+(a>>>18-6*d&63)];return c>>>0};var u=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var a=0,c=0;c<u.length;c++)a<<=1,a|=l>>>u[c]&1;return a>>>0},i.padSplit=function(l,a,c){for(var d=l.toString(2);d.length<a;)d="0"+d;for(var h=[],f=0;f<a;f+=c)h.push(d.slice(f,f+c));return h.join(" ")}},{}],400:[function(e,n,i){(function(s){(function(){var o=e("./lib/generatePrime"),u=e("./lib/primes.json"),l=e("./lib/dh"),a={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(c){var d=new s(u[c].prime,"hex"),h=new s(u[c].gen,"hex");return new l(d,h)},i.createDiffieHellman=i.DiffieHellman=function c(d,h,f,m){return s.isBuffer(h)||a[h]===void 0?c(d,"binary",h,f):(h=h||"binary",m=m||"binary",f=f||new s([2]),s.isBuffer(f)||(f=new s(f,m)),typeof d=="number"?new l(o(d,f),f,!0):(s.isBuffer(d)||(d=new s(d,h)),new l(d,f,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,i){(function(s){(function(){var o=e("bn.js"),u=new(e("miller-rabin")),l=new o(24),a=new o(11),c=new o(10),d=new o(3),h=new o(7),f=e("./generatePrime"),m=e("randombytes");function y(k,A){return A=A||"utf8",s.isBuffer(k)||(k=new s(k,A)),this._pub=new o(k),this}function p(k,A){return A=A||"utf8",s.isBuffer(k)||(k=new s(k,A)),this._priv=new o(k),this}n.exports=g;var b={};function g(k,A,U){this.setGenerator(A),this.__prime=new o(k),this._prime=o.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,U?(this.setPublicKey=y,this.setPrivateKey=p):this._primeCode=8}function w(k,A){var U=new s(k.toArray());return A?U.toString(A):U}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(k,A){var U=A.toString("hex"),V=[U,k.toString(16)].join("_");if(V in b)return b[V];var R,N=0;if(k.isEven()||!f.simpleSieve||!f.fermatTest(k)||!u.test(k))return N+=1,N+=U==="02"||U==="05"?8:4,b[V]=N,N;switch(u.test(k.shrn(1))||(N+=2),U){case"02":k.mod(l).cmp(a)&&(N+=8);break;case"05":(R=k.mod(c)).cmp(d)&&R.cmp(h)&&(N+=8);break;default:N+=4}return b[V]=N,N}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new o(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(k){var A=(k=(k=new o(k)).toRed(this._prime)).redPow(this._priv).fromRed(),U=new s(A.toArray()),V=this.getPrime();if(U.length<V.length){var R=new s(V.length-U.length);R.fill(0),U=s.concat([R,U])}return U},g.prototype.getPublicKey=function(k){return w(this._pub,k)},g.prototype.getPrivateKey=function(k){return w(this._priv,k)},g.prototype.getPrime=function(k){return w(this.__prime,k)},g.prototype.getGenerator=function(k){return w(this._gen,k)},g.prototype.setGenerator=function(k,A){return A=A||"utf8",s.isBuffer(k)||(k=new s(k,A)),this.__gen=k,this._gen=new o(k),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,i){var s=e("randombytes");n.exports=k,k.simpleSieve=g,k.fermatTest=w;var o=e("bn.js"),u=new o(24),l=new(e("miller-rabin")),a=new o(1),c=new o(2),d=new o(5),h=(new o(16),new o(8),new o(10)),f=new o(3),m=(new o(7),new o(11)),y=new o(4),p=(new o(12),null);function b(){if(p!==null)return p;var A=[];A[0]=2;for(var U=1,V=3;V<1048576;V+=2){for(var R=Math.ceil(Math.sqrt(V)),N=0;N<U&&A[N]<=R&&V%A[N]!=0;N++);U!==N&&A[N]<=R||(A[U++]=V)}return p=A,A}function g(A){for(var U=b(),V=0;V<U.length;V++)if(A.modn(U[V])===0)return A.cmpn(U[V])===0;return!0}function w(A){var U=o.mont(A);return c.toRed(U).redPow(A.subn(1)).fromRed().cmpn(1)===0}function k(A,U){if(A<16)return new o(U===2||U===5?[140,123]:[140,39]);var V,R;for(U=new o(U);;){for(V=new o(s(Math.ceil(A/8)));V.bitLength()>A;)V.ishrn(1);if(V.isEven()&&V.iadd(a),V.testn(1)||V.iadd(c),U.cmp(c)){if(!U.cmp(d))for(;V.mod(h).cmp(f);)V.iadd(y)}else for(;V.mod(u).cmp(m);)V.iadd(y);if(g(R=V.shrn(1))&&g(V)&&w(R)&&w(V)&&l.test(R)&&l.test(V))return V}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(e,n,i){var s=i;s.version=e("../package.json").version,s.utils=e("./elliptic/utils"),s.rand=e("brorand"),s.curve=e("./elliptic/curve"),s.curves=e("./elliptic/curves"),s.ec=e("./elliptic/ec"),s.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,i){var s=e("bn.js"),o=e("../utils"),u=o.getNAF,l=o.getJSF,a=o.assert;function c(h,f){this.type=h,this.p=new s(f.p,16),this.red=f.prime?s.red(f.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=f.n&&new s(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var m=this.n&&this.p.div(this.n);!m||m.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(h,f){this.curve=h,this.type=f,this.precomputed=null}n.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(h,f){a(h.precomputed);var m=h._getDoubles(),y=u(f,1,this._bitLength),p=(1<<m.step+1)-(m.step%2==0?2:1);p/=3;var b,g,w=[];for(b=0;b<y.length;b+=m.step){g=0;for(var k=b+m.step-1;k>=b;k--)g=(g<<1)+y[k];w.push(g)}for(var A=this.jpoint(null,null,null),U=this.jpoint(null,null,null),V=p;V>0;V--){for(b=0;b<w.length;b++)(g=w[b])===V?U=U.mixedAdd(m.points[b]):g===-V&&(U=U.mixedAdd(m.points[b].neg()));A=A.add(U)}return A.toP()},c.prototype._wnafMul=function(h,f){var m=4,y=h._getNAFPoints(m);m=y.wnd;for(var p=y.points,b=u(f,m,this._bitLength),g=this.jpoint(null,null,null),w=b.length-1;w>=0;w--){for(var k=0;w>=0&&b[w]===0;w--)k++;if(w>=0&&k++,g=g.dblp(k),w<0)break;var A=b[w];a(A!==0),g=h.type==="affine"?A>0?g.mixedAdd(p[A-1>>1]):g.mixedAdd(p[-A-1>>1].neg()):A>0?g.add(p[A-1>>1]):g.add(p[-A-1>>1].neg())}return h.type==="affine"?g.toP():g},c.prototype._wnafMulAdd=function(h,f,m,y,p){var b,g,w,k=this._wnafT1,A=this._wnafT2,U=this._wnafT3,V=0;for(b=0;b<y;b++){var R=(w=f[b])._getNAFPoints(h);k[b]=R.wnd,A[b]=R.points}for(b=y-1;b>=1;b-=2){var N=b-1,L=b;if(k[N]===1&&k[L]===1){var z=[f[N],null,null,f[L]];f[N].y.cmp(f[L].y)===0?(z[1]=f[N].add(f[L]),z[2]=f[N].toJ().mixedAdd(f[L].neg())):f[N].y.cmp(f[L].y.redNeg())===0?(z[1]=f[N].toJ().mixedAdd(f[L]),z[2]=f[N].add(f[L].neg())):(z[1]=f[N].toJ().mixedAdd(f[L]),z[2]=f[N].toJ().mixedAdd(f[L].neg()));var O=[-3,-1,-5,-7,0,7,5,1,3],T=l(m[N],m[L]);for(V=Math.max(T[0].length,V),U[N]=new Array(V),U[L]=new Array(V),g=0;g<V;g++){var P=0|T[0][g],E=0|T[1][g];U[N][g]=O[3*(P+1)+(E+1)],U[L][g]=0,A[N]=z}}else U[N]=u(m[N],k[N],this._bitLength),U[L]=u(m[L],k[L],this._bitLength),V=Math.max(U[N].length,V),V=Math.max(U[L].length,V)}var v=this.jpoint(null,null,null),x=this._wnafT4;for(b=V;b>=0;b--){for(var _=0;b>=0;){var S=!0;for(g=0;g<y;g++)x[g]=0|U[g][b],x[g]!==0&&(S=!1);if(!S)break;_++,b--}if(b>=0&&_++,v=v.dblp(_),b<0)break;for(g=0;g<y;g++){var C=x[g];C!==0&&(C>0?w=A[g][C-1>>1]:C<0&&(w=A[g][-C-1>>1].neg()),v=w.type==="affine"?v.mixedAdd(w):v.add(w))}}for(b=0;b<y;b++)A[b]=null;return p?v:v.toP()},c.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(h,f){h=o.toArray(h,f);var m=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*m)return h[0]===6?a(h[h.length-1]%2==0):h[0]===7&&a(h[h.length-1]%2==1),this.point(h.slice(1,1+m),h.slice(1+m,1+2*m));if((h[0]===2||h[0]===3)&&h.length-1===m)return this.pointFromX(h.slice(1,1+m),h[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(h){return this.encode(h,!0)},d.prototype._encode=function(h){var f=this.curve.p.byteLength(),m=this.getX().toArray("be",f);return h?[this.getY().isEven()?2:3].concat(m):[4].concat(m,this.getY().toArray("be",f))},d.prototype.encode=function(h,f){return o.encode(this._encode(f),h)},d.prototype.precompute=function(h){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,h),f.beta=this._getBeta(),this.precomputed=f,this},d.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((h.bitLength()+1)/f.step)},d.prototype._getDoubles=function(h,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var m=[this],y=this,p=0;p<f;p+=h){for(var b=0;b<h;b++)y=y.dbl();m.push(y)}return{step:h,points:m}},d.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],m=(1<<h)-1,y=m===1?null:this.dbl(),p=1;p<m;p++)f[p]=f[p-1].add(y);return{wnd:h,points:f}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(h){for(var f=this,m=0;m<h;m++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(e,n,i){var s=e("../utils"),o=e("bn.js"),u=e("inherits"),l=e("./base"),a=s.assert;function c(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new o(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function d(h,f,m,y,p){l.BasePoint.call(this,h,"projective"),f===null&&m===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(f,16),this.y=new o(m,16),this.z=y?new o(y,16):this.curve.one,this.t=p&&new o(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}u(c,l),n.exports=c,c.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},c.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},c.prototype.jpoint=function(h,f,m,y){return this.point(h,f,m,y)},c.prototype.pointFromX=function(h,f){(h=new o(h,16)).red||(h=h.toRed(this.red));var m=h.redSqr(),y=this.c2.redSub(this.a.redMul(m)),p=this.one.redSub(this.c2.redMul(this.d).redMul(m)),b=y.redMul(p.redInvm()),g=b.redSqrt();if(g.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var w=g.fromRed().isOdd();return(f&&!w||!f&&w)&&(g=g.redNeg()),this.point(h,g)},c.prototype.pointFromY=function(h,f){(h=new o(h,16)).red||(h=h.toRed(this.red));var m=h.redSqr(),y=m.redSub(this.c2),p=m.redMul(this.d).redMul(this.c2).redSub(this.a),b=y.redMul(p.redInvm());if(b.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,h)}var g=b.redSqrt();if(g.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==f&&(g=g.redNeg()),this.point(g,h)},c.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var f=h.x.redSqr(),m=h.y.redSqr(),y=f.redMul(this.a).redAdd(m),p=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(m)));return y.cmp(p)===0},u(d,l.BasePoint),c.prototype.pointFromJSON=function(h){return d.fromJSON(this,h)},c.prototype.point=function(h,f,m,y){return new d(this,h,f,m,y)},d.fromJSON=function(h,f){return new d(h,f[0],f[1],f[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var h=this.x.redSqr(),f=this.y.redSqr(),m=this.z.redSqr();m=m.redIAdd(m);var y=this.curve._mulA(h),p=this.x.redAdd(this.y).redSqr().redISub(h).redISub(f),b=y.redAdd(f),g=b.redSub(m),w=y.redSub(f),k=p.redMul(g),A=b.redMul(w),U=p.redMul(w),V=g.redMul(b);return this.curve.point(k,A,V,U)},d.prototype._projDbl=function(){var h,f,m,y,p,b,g=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),k=this.y.redSqr();if(this.curve.twisted){var A=(y=this.curve._mulA(w)).redAdd(k);this.zOne?(h=g.redSub(w).redSub(k).redMul(A.redSub(this.curve.two)),f=A.redMul(y.redSub(k)),m=A.redSqr().redSub(A).redSub(A)):(p=this.z.redSqr(),b=A.redSub(p).redISub(p),h=g.redSub(w).redISub(k).redMul(b),f=A.redMul(y.redSub(k)),m=A.redMul(b))}else y=w.redAdd(k),p=this.curve._mulC(this.z).redSqr(),b=y.redSub(p).redSub(p),h=this.curve._mulC(g.redISub(y)).redMul(b),f=this.curve._mulC(y).redMul(w.redISub(k)),m=y.redMul(b);return this.curve.point(h,f,m)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(h){var f=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),m=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),y=this.t.redMul(this.curve.dd).redMul(h.t),p=this.z.redMul(h.z.redAdd(h.z)),b=m.redSub(f),g=p.redSub(y),w=p.redAdd(y),k=m.redAdd(f),A=b.redMul(g),U=w.redMul(k),V=b.redMul(k),R=g.redMul(w);return this.curve.point(A,U,R,V)},d.prototype._projAdd=function(h){var f,m,y=this.z.redMul(h.z),p=y.redSqr(),b=this.x.redMul(h.x),g=this.y.redMul(h.y),w=this.curve.d.redMul(b).redMul(g),k=p.redSub(w),A=p.redAdd(w),U=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(b).redISub(g),V=y.redMul(k).redMul(U);return this.curve.twisted?(f=y.redMul(A).redMul(g.redSub(this.curve._mulA(b))),m=k.redMul(A)):(f=y.redMul(A).redMul(g.redSub(b)),m=this.curve._mulC(k).redMul(A)),this.curve.point(V,f,m)},d.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},d.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},d.prototype.mulAdd=function(h,f,m){return this.curve._wnafMulAdd(1,[this,f],[h,m],2,!1)},d.prototype.jmulAdd=function(h,f,m){return this.curve._wnafMulAdd(1,[this,f],[h,m],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},d.prototype.eqXToP=function(h){var f=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var m=h.clone(),y=this.curve.redN.redMul(this.z);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(y),this.x.cmp(f)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,i){var s=i;s.base=e("./base"),s.short=e("./short"),s.mont=e("./mont"),s.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,i){var s=e("bn.js"),o=e("inherits"),u=e("./base"),l=e("../utils");function a(d){u.call(this,"mont",d),this.a=new s(d.a,16).toRed(this.red),this.b=new s(d.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(d,h,f){u.BasePoint.call(this,d,"projective"),h===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(h,16),this.z=new s(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(a,u),n.exports=a,a.prototype.validate=function(d){var h=d.normalize().x,f=h.redSqr(),m=f.redMul(h).redAdd(f.redMul(this.a)).redAdd(h);return m.redSqrt().redSqr().cmp(m)===0},o(c,u.BasePoint),a.prototype.decodePoint=function(d,h){return this.point(l.toArray(d,h),1)},a.prototype.point=function(d,h){return new c(this,d,h)},a.prototype.pointFromJSON=function(d){return c.fromJSON(this,d)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(d,h){return new c(d,h[0],h[1]||d.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),f=d.redSub(h),m=d.redMul(h),y=f.redMul(h.redAdd(this.curve.a24.redMul(f)));return this.curve.point(m,y)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(d,h){var f=this.x.redAdd(this.z),m=this.x.redSub(this.z),y=d.x.redAdd(d.z),p=d.x.redSub(d.z).redMul(f),b=y.redMul(m),g=h.z.redMul(p.redAdd(b).redSqr()),w=h.x.redMul(p.redISub(b).redSqr());return this.curve.point(g,w)},c.prototype.mul=function(d){for(var h=d.clone(),f=this,m=this.curve.point(null,null),y=[];h.cmpn(0)!==0;h.iushrn(1))y.push(h.andln(1));for(var p=y.length-1;p>=0;p--)y[p]===0?(f=f.diffAdd(m,this),m=m.dbl()):(m=f.diffAdd(m,this),f=f.dbl());return m},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,i){var s=e("../utils"),o=e("bn.js"),u=e("inherits"),l=e("./base"),a=s.assert;function c(f){l.call(this,"short",f),this.a=new o(f.a,16).toRed(this.red),this.b=new o(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(f,m,y,p){l.BasePoint.call(this,f,"affine"),m===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(m,16),this.y=new o(y,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(f,m,y,p){l.BasePoint.call(this,f,"jacobian"),m===null&&y===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(m,16),this.y=new o(y,16),this.z=new o(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}u(c,l),n.exports=c,c.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var m,y;if(f.beta)m=new o(f.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);m=(m=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(f.lambda)y=new o(f.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(m))===0?y=b[0]:(y=b[1],a(this.g.mul(y).x.cmp(this.g.x.redMul(m))===0))}return{beta:m,lambda:y,basis:f.basis?f.basis.map(function(g){return{a:new o(g.a,16),b:new o(g.b,16)}}):this._getEndoBasis(y)}}},c.prototype._getEndoRoots=function(f){var m=f===this.p?this.red:o.mont(f),y=new o(2).toRed(m).redInvm(),p=y.redNeg(),b=new o(3).toRed(m).redNeg().redSqrt().redMul(y);return[p.redAdd(b).fromRed(),p.redSub(b).fromRed()]},c.prototype._getEndoBasis=function(f){for(var m,y,p,b,g,w,k,A,U,V=this.n.ushrn(Math.floor(this.n.bitLength()/2)),R=f,N=this.n.clone(),L=new o(1),z=new o(0),O=new o(0),T=new o(1),P=0;R.cmpn(0)!==0;){var E=N.div(R);A=N.sub(E.mul(R)),U=O.sub(E.mul(L));var v=T.sub(E.mul(z));if(!p&&A.cmp(V)<0)m=k.neg(),y=L,p=A.neg(),b=U;else if(p&&++P==2)break;k=A,N=R,R=A,O=L,L=U,T=z,z=v}g=A.neg(),w=U;var x=p.sqr().add(b.sqr());return g.sqr().add(w.sqr()).cmp(x)>=0&&(g=m,w=y),p.negative&&(p=p.neg(),b=b.neg()),g.negative&&(g=g.neg(),w=w.neg()),[{a:p,b},{a:g,b:w}]},c.prototype._endoSplit=function(f){var m=this.endo.basis,y=m[0],p=m[1],b=p.b.mul(f).divRound(this.n),g=y.b.neg().mul(f).divRound(this.n),w=b.mul(y.a),k=g.mul(p.a),A=b.mul(y.b),U=g.mul(p.b);return{k1:f.sub(w).sub(k),k2:A.add(U).neg()}},c.prototype.pointFromX=function(f,m){(f=new o(f,16)).red||(f=f.toRed(this.red));var y=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),p=y.redSqrt();if(p.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(m&&!b||!m&&b)&&(p=p.redNeg()),this.point(f,p)},c.prototype.validate=function(f){if(f.inf)return!0;var m=f.x,y=f.y,p=this.a.redMul(m),b=m.redSqr().redMul(m).redIAdd(p).redIAdd(this.b);return y.redSqr().redISub(b).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(f,m,y){for(var p=this._endoWnafT1,b=this._endoWnafT2,g=0;g<f.length;g++){var w=this._endoSplit(m[g]),k=f[g],A=k._getBeta();w.k1.negative&&(w.k1.ineg(),k=k.neg(!0)),w.k2.negative&&(w.k2.ineg(),A=A.neg(!0)),p[2*g]=k,p[2*g+1]=A,b[2*g]=w.k1,b[2*g+1]=w.k2}for(var U=this._wnafMulAdd(1,p,b,2*g,y),V=0;V<2*g;V++)p[V]=null,b[V]=null;return U},u(d,l.BasePoint),c.prototype.point=function(f,m,y){return new d(this,f,m,y)},c.prototype.pointFromJSON=function(f,m){return d.fromJSON(this,f,m)},d.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var m=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var y=this.curve,p=function(b){return y.point(b.x.redMul(y.endo.beta),b.y)};f.beta=m,m.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return m}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(f,m,y){typeof m=="string"&&(m=JSON.parse(m));var p=f.point(m[0],m[1],y);if(!m[2])return p;function b(w){return f.point(w[0],w[1],y)}var g=m[2];return p.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[p].concat(g.doubles.points.map(b))},naf:g.naf&&{wnd:g.naf.wnd,points:[p].concat(g.naf.points.map(b))}},p},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var m=this.y.redSub(f.y);m.cmpn(0)!==0&&(m=m.redMul(this.x.redSub(f.x).redInvm()));var y=m.redSqr().redISub(this.x).redISub(f.x),p=m.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,p)},d.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var m=this.curve.a,y=this.x.redSqr(),p=f.redInvm(),b=y.redAdd(y).redIAdd(y).redIAdd(m).redMul(p),g=b.redSqr().redISub(this.x.redAdd(this.x)),w=b.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,w)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(f){return f=new o(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},d.prototype.mulAdd=function(f,m,y){var p=[this,m],b=[f,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,b):this.curve._wnafMulAdd(1,p,b,2)},d.prototype.jmulAdd=function(f,m,y){var p=[this,m],b=[f,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,b,!0):this.curve._wnafMulAdd(1,p,b,2,!0)},d.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},d.prototype.neg=function(f){if(this.inf)return this;var m=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var y=this.precomputed,p=function(b){return b.neg()};m.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(p)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(p)}}}return m},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(h,l.BasePoint),c.prototype.jpoint=function(f,m,y){return new h(this,f,m,y)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),m=f.redSqr(),y=this.x.redMul(m),p=this.y.redMul(m).redMul(f);return this.curve.point(y,p)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var m=f.z.redSqr(),y=this.z.redSqr(),p=this.x.redMul(m),b=f.x.redMul(y),g=this.y.redMul(m.redMul(f.z)),w=f.y.redMul(y.redMul(this.z)),k=p.redSub(b),A=g.redSub(w);if(k.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var U=k.redSqr(),V=U.redMul(k),R=p.redMul(U),N=A.redSqr().redIAdd(V).redISub(R).redISub(R),L=A.redMul(R.redISub(N)).redISub(g.redMul(V)),z=this.z.redMul(f.z).redMul(k);return this.curve.jpoint(N,L,z)},h.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var m=this.z.redSqr(),y=this.x,p=f.x.redMul(m),b=this.y,g=f.y.redMul(m).redMul(this.z),w=y.redSub(p),k=b.redSub(g);if(w.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=w.redSqr(),U=A.redMul(w),V=y.redMul(A),R=k.redSqr().redIAdd(U).redISub(V).redISub(V),N=k.redMul(V.redISub(R)).redISub(b.redMul(U)),L=this.z.redMul(w);return this.curve.jpoint(R,N,L)},h.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var m;if(this.curve.zeroA||this.curve.threeA){var y=this;for(m=0;m<f;m++)y=y.dbl();return y}var p=this.curve.a,b=this.curve.tinv,g=this.x,w=this.y,k=this.z,A=k.redSqr().redSqr(),U=w.redAdd(w);for(m=0;m<f;m++){var V=g.redSqr(),R=U.redSqr(),N=R.redSqr(),L=V.redAdd(V).redIAdd(V).redIAdd(p.redMul(A)),z=g.redMul(R),O=L.redSqr().redISub(z.redAdd(z)),T=z.redISub(O),P=L.redMul(T);P=P.redIAdd(P).redISub(N);var E=U.redMul(k);m+1<f&&(A=A.redMul(N)),g=O,k=E,U=P}return this.curve.jpoint(g,U.redMul(b),k)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var f,m,y;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),g=b.redSqr(),w=this.x.redAdd(b).redSqr().redISub(p).redISub(g);w=w.redIAdd(w);var k=p.redAdd(p).redIAdd(p),A=k.redSqr().redISub(w).redISub(w),U=g.redIAdd(g);U=(U=U.redIAdd(U)).redIAdd(U),f=A,m=k.redMul(w.redISub(A)).redISub(U),y=this.y.redAdd(this.y)}else{var V=this.x.redSqr(),R=this.y.redSqr(),N=R.redSqr(),L=this.x.redAdd(R).redSqr().redISub(V).redISub(N);L=L.redIAdd(L);var z=V.redAdd(V).redIAdd(V),O=z.redSqr(),T=N.redIAdd(N);T=(T=T.redIAdd(T)).redIAdd(T),f=O.redISub(L).redISub(L),m=z.redMul(L.redISub(f)).redISub(T),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(f,m,y)},h.prototype._threeDbl=function(){var f,m,y;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),g=b.redSqr(),w=this.x.redAdd(b).redSqr().redISub(p).redISub(g);w=w.redIAdd(w);var k=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),A=k.redSqr().redISub(w).redISub(w);f=A;var U=g.redIAdd(g);U=(U=U.redIAdd(U)).redIAdd(U),m=k.redMul(w.redISub(A)).redISub(U),y=this.y.redAdd(this.y)}else{var V=this.z.redSqr(),R=this.y.redSqr(),N=this.x.redMul(R),L=this.x.redSub(V).redMul(this.x.redAdd(V));L=L.redAdd(L).redIAdd(L);var z=N.redIAdd(N),O=(z=z.redIAdd(z)).redAdd(z);f=L.redSqr().redISub(O),y=this.y.redAdd(this.z).redSqr().redISub(R).redISub(V);var T=R.redSqr();T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T),m=L.redMul(z.redISub(f)).redISub(T)}return this.curve.jpoint(f,m,y)},h.prototype._dbl=function(){var f=this.curve.a,m=this.x,y=this.y,p=this.z,b=p.redSqr().redSqr(),g=m.redSqr(),w=y.redSqr(),k=g.redAdd(g).redIAdd(g).redIAdd(f.redMul(b)),A=m.redAdd(m),U=(A=A.redIAdd(A)).redMul(w),V=k.redSqr().redISub(U.redAdd(U)),R=U.redISub(V),N=w.redSqr();N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var L=k.redMul(R).redISub(N),z=y.redAdd(y).redMul(p);return this.curve.jpoint(V,L,z)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),m=this.y.redSqr(),y=this.z.redSqr(),p=m.redSqr(),b=f.redAdd(f).redIAdd(f),g=b.redSqr(),w=this.x.redAdd(m).redSqr().redISub(f).redISub(p),k=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(g)).redSqr(),A=p.redIAdd(p);A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A);var U=b.redIAdd(w).redSqr().redISub(g).redISub(k).redISub(A),V=m.redMul(U);V=(V=V.redIAdd(V)).redIAdd(V);var R=this.x.redMul(k).redISub(V);R=(R=R.redIAdd(R)).redIAdd(R);var N=this.y.redMul(U.redMul(A.redISub(U)).redISub(w.redMul(k)));N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var L=this.z.redAdd(w).redSqr().redISub(y).redISub(k);return this.curve.jpoint(R,N,L)},h.prototype.mul=function(f,m){return f=new o(f,m),this.curve._wnafMul(this,f)},h.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var m=this.z.redSqr(),y=f.z.redSqr();if(this.x.redMul(y).redISub(f.x.redMul(m)).cmpn(0)!==0)return!1;var p=m.redMul(this.z),b=y.redMul(f.z);return this.y.redMul(b).redISub(f.y.redMul(p)).cmpn(0)===0},h.prototype.eqXToP=function(f){var m=this.z.redSqr(),y=f.toRed(this.curve.red).redMul(m);if(this.x.cmp(y)===0)return!0;for(var p=f.clone(),b=this.curve.redN.redMul(m);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(b),this.x.cmp(y)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,i){var s,o=i,u=e("hash.js"),l=e("./curve"),a=e("./utils").assert;function c(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(h,f){Object.defineProperty(o,h,{configurable:!0,enumerable:!0,get:function(){var m=new c(f);return Object.defineProperty(o,h,{configurable:!0,enumerable:!0,value:m}),m}})}o.PresetCurve=c,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=e("./precomputed/secp256k1")}catch{s=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,i){var s=e("bn.js"),o=e("hmac-drbg"),u=e("../utils"),l=e("../curves"),a=e("brorand"),c=u.assert,d=e("./key"),h=e("./signature");function f(m){if(!(this instanceof f))return new f(m);typeof m=="string"&&(c(Object.prototype.hasOwnProperty.call(l,m),"Unknown curve "+m),m=l[m]),m instanceof l.PresetCurve&&(m={curve:m}),this.curve=m.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=m.curve.g,this.g.precompute(m.curve.n.bitLength()+1),this.hash=m.hash||m.curve.hash}n.exports=f,f.prototype.keyPair=function(m){return new d(this,m)},f.prototype.keyFromPrivate=function(m,y){return d.fromPrivate(this,m,y)},f.prototype.keyFromPublic=function(m,y){return d.fromPublic(this,m,y)},f.prototype.genKeyPair=function(m){m||(m={});for(var y=new o({hash:this.hash,pers:m.pers,persEnc:m.persEnc||"utf8",entropy:m.entropy||a(this.hash.hmacStrength),entropyEnc:m.entropy&&m.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),b=this.n.sub(new s(2));;){var g=new s(y.generate(p));if(!(g.cmp(b)>0))return g.iaddn(1),this.keyFromPrivate(g)}},f.prototype._truncateToN=function(m,y){var p=8*m.byteLength()-this.n.bitLength();return p>0&&(m=m.ushrn(p)),!y&&m.cmp(this.n)>=0?m.sub(this.n):m},f.prototype.sign=function(m,y,p,b){typeof p=="object"&&(b=p,p=null),b||(b={}),y=this.keyFromPrivate(y,p),m=this._truncateToN(new s(m,16));for(var g=this.n.byteLength(),w=y.getPrivate().toArray("be",g),k=m.toArray("be",g),A=new o({hash:this.hash,entropy:w,nonce:k,pers:b.pers,persEnc:b.persEnc||"utf8"}),U=this.n.sub(new s(1)),V=0;;V++){var R=b.k?b.k(V):new s(A.generate(this.n.byteLength()));if(!((R=this._truncateToN(R,!0)).cmpn(1)<=0||R.cmp(U)>=0)){var N=this.g.mul(R);if(!N.isInfinity()){var L=N.getX(),z=L.umod(this.n);if(z.cmpn(0)!==0){var O=R.invm(this.n).mul(z.mul(y.getPrivate()).iadd(m));if((O=O.umod(this.n)).cmpn(0)!==0){var T=(N.getY().isOdd()?1:0)|(L.cmp(z)!==0?2:0);return b.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),T^=1),new h({r:z,s:O,recoveryParam:T})}}}}}},f.prototype.verify=function(m,y,p,b){m=this._truncateToN(new s(m,16)),p=this.keyFromPublic(p,b);var g=(y=new h(y,"hex")).r,w=y.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var k,A=w.invm(this.n),U=A.mul(m).umod(this.n),V=A.mul(g).umod(this.n);return this.curve._maxwellTrick?!(k=this.g.jmulAdd(U,p.getPublic(),V)).isInfinity()&&k.eqXToP(g):!(k=this.g.mulAdd(U,p.getPublic(),V)).isInfinity()&&k.getX().umod(this.n).cmp(g)===0},f.prototype.recoverPubKey=function(m,y,p,b){c((3&p)===p,"The recovery param is more than two bits"),y=new h(y,b);var g=this.n,w=new s(m),k=y.r,A=y.s,U=1&p,V=p>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&V)throw new Error("Unable to find sencond key candinate");k=V?this.curve.pointFromX(k.add(this.curve.n),U):this.curve.pointFromX(k,U);var R=y.r.invm(g),N=g.sub(w).mul(R).umod(g),L=A.mul(R).umod(g);return this.g.mulAdd(N,k,L)},f.prototype.getKeyRecoveryParam=function(m,y,p,b){if((y=new h(y,b)).recoveryParam!==null)return y.recoveryParam;for(var g=0;g<4;g++){var w;try{w=this.recoverPubKey(m,y,g)}catch{continue}if(w.eq(p))return g}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,i){var s=e("bn.js"),o=e("../utils").assert;function u(l,a){this.ec=l,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}n.exports=u,u.fromPublic=function(l,a,c){return a instanceof u?a:new u(l,{pub:a,pubEnc:c})},u.fromPrivate=function(l,a,c){return a instanceof u?a:new u(l,{priv:a,privEnc:c})},u.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},u.prototype.getPublic=function(l,a){return typeof l=="string"&&(a=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,l):this.pub},u.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},u.prototype._importPrivate=function(l,a){this.priv=new s(l,a||16),this.priv=this.priv.umod(this.ec.curve.n)},u.prototype._importPublic=function(l,a){if(l.x||l.y)return this.ec.curve.type==="mont"?o(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,a)},u.prototype.derive=function(l){return l.validate()||o(l.validate(),"public point not validated"),l.mul(this.priv).getX()},u.prototype.sign=function(l,a,c){return this.ec.sign(l,this,a,c)},u.prototype.verify=function(l,a){return this.ec.verify(l,a,this)},u.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,i){var s=e("bn.js"),o=e("../utils"),u=o.assert;function l(f,m){if(f instanceof l)return f;this._importDER(f,m)||(u(f.r&&f.s,"Signature without r or s"),this.r=new s(f.r,16),this.s=new s(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function a(){this.place=0}function c(f,m){var y=f[m.place++];if(!(128&y))return y;var p=15&y;if(p===0||p>4)return!1;for(var b=0,g=0,w=m.place;g<p;g++,w++)b<<=8,b|=f[w],b>>>=0;return!(b<=127)&&(m.place=w,b)}function d(f){for(var m=0,y=f.length-1;!f[m]&&!(128&f[m+1])&&m<y;)m++;return m===0?f:f.slice(m)}function h(f,m){if(m<128)f.push(m);else{var y=1+(Math.log(m)/Math.LN2>>>3);for(f.push(128|y);--y;)f.push(m>>>(y<<3)&255);f.push(m)}}n.exports=l,l.prototype._importDER=function(f,m){f=o.toArray(f,m);var y=new a;if(f[y.place++]!==48)return!1;var p=c(f,y);if(p===!1||p+y.place!==f.length||f[y.place++]!==2)return!1;var b=c(f,y);if(b===!1)return!1;var g=f.slice(y.place,b+y.place);if(y.place+=b,f[y.place++]!==2)return!1;var w=c(f,y);if(w===!1||f.length!==w+y.place)return!1;var k=f.slice(y.place,w+y.place);if(g[0]===0){if(!(128&g[1]))return!1;g=g.slice(1)}if(k[0]===0){if(!(128&k[1]))return!1;k=k.slice(1)}return this.r=new s(g),this.s=new s(k),this.recoveryParam=null,!0},l.prototype.toDER=function(f){var m=this.r.toArray(),y=this.s.toArray();for(128&m[0]&&(m=[0].concat(m)),128&y[0]&&(y=[0].concat(y)),m=d(m),y=d(y);!(y[0]||128&y[1]);)y=y.slice(1);var p=[2];h(p,m.length),(p=p.concat(m)).push(2),h(p,y.length);var b=p.concat(y),g=[48];return h(g,b.length),g=g.concat(b),o.encode(g,f)}},{"../utils":419,"bn.js":420}],415:[function(e,n,i){var s=e("hash.js"),o=e("../curves"),u=e("../utils"),l=u.assert,a=u.parseBytes,c=e("./key"),d=e("./signature");function h(f){if(l(f==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(f);f=o[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=s.sha512}n.exports=h,h.prototype.sign=function(f,m){f=a(f);var y=this.keyFromSecret(m),p=this.hashInt(y.messagePrefix(),f),b=this.g.mul(p),g=this.encodePoint(b),w=this.hashInt(g,y.pubBytes(),f).mul(y.priv()),k=p.add(w).umod(this.curve.n);return this.makeSignature({R:b,S:k,Rencoded:g})},h.prototype.verify=function(f,m,y){f=a(f),m=this.makeSignature(m);var p=this.keyFromPublic(y),b=this.hashInt(m.Rencoded(),p.pubBytes(),f),g=this.g.mul(m.S());return m.R().add(p.pub().mul(b)).eq(g)},h.prototype.hashInt=function(){for(var f=this.hash(),m=0;m<arguments.length;m++)f.update(arguments[m]);return u.intFromLE(f.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(f){return c.fromPublic(this,f)},h.prototype.keyFromSecret=function(f){return c.fromSecret(this,f)},h.prototype.makeSignature=function(f){return f instanceof d?f:new d(this,f)},h.prototype.encodePoint=function(f){var m=f.getY().toArray("le",this.encodingLength);return m[this.encodingLength-1]|=f.getX().isOdd()?128:0,m},h.prototype.decodePoint=function(f){var m=(f=u.parseBytes(f)).length-1,y=f.slice(0,m).concat(-129&f[m]),p=(128&f[m])!=0,b=u.intFromLE(y);return this.curve.pointFromY(b,p)},h.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(f){return u.intFromLE(f)},h.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,i){var s=e("../utils"),o=s.assert,u=s.parseBytes,l=s.cachedProperty;function a(c,d){this.eddsa=c,this._secret=u(d.secret),c.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=u(d.pub)}a.fromPublic=function(c,d){return d instanceof a?d:new a(c,{pub:d})},a.fromSecret=function(c,d){return d instanceof a?d:new a(c,{secret:d})},a.prototype.secret=function(){return this._secret},l(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(a,"privBytes",function(){var c=this.eddsa,d=this.hash(),h=c.encodingLength-1,f=d.slice(0,c.encodingLength);return f[0]&=248,f[h]&=127,f[h]|=64,f}),l(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(c){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},a.prototype.verify=function(c,d){return this.eddsa.verify(c,d,this)},a.prototype.getSecret=function(c){return o(this._secret,"KeyPair is public only"),s.encode(this.secret(),c)},a.prototype.getPublic=function(c){return s.encode(this.pubBytes(),c)},n.exports=a},{"../utils":419}],417:[function(e,n,i){var s=e("bn.js"),o=e("../utils"),u=o.assert,l=o.cachedProperty,a=o.parseBytes;function c(d,h){this.eddsa=d,typeof h!="object"&&(h=a(h)),Array.isArray(h)&&(h={R:h.slice(0,d.encodingLength),S:h.slice(d.encodingLength)}),u(h.R&&h.S,"Signature without R or S"),d.isPoint(h.R)&&(this._R=h.R),h.S instanceof s&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=c},{"../utils":419,"bn.js":420}],418:[function(e,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,i){var s=i,o=e("bn.js"),u=e("minimalistic-assert"),l=e("minimalistic-crypto-utils");s.assert=u,s.toArray=l.toArray,s.zero2=l.zero2,s.toHex=l.toHex,s.encode=l.encode,s.getNAF=function(a,c,d){var h=new Array(Math.max(a.bitLength(),d)+1);h.fill(0);for(var f=1<<c+1,m=a.clone(),y=0;y<h.length;y++){var p,b=m.andln(f-1);m.isOdd()?(p=b>(f>>1)-1?(f>>1)-b:b,m.isubn(p)):p=0,h[y]=p,m.iushrn(1)}return h},s.getJSF=function(a,c){var d=[[],[]];a=a.clone(),c=c.clone();for(var h,f=0,m=0;a.cmpn(-f)>0||c.cmpn(-m)>0;){var y,p,b=a.andln(3)+f&3,g=c.andln(3)+m&3;b===3&&(b=-1),g===3&&(g=-1),y=1&b?(h=a.andln(7)+f&7)!==3&&h!==5||g!==2?b:-b:0,d[0].push(y),p=1&g?(h=c.andln(7)+m&7)!==3&&h!==5||b!==2?g:-g:0,d[1].push(p),2*f===y+1&&(f=1-f),2*m===p+1&&(m=1-m),a.iushrn(1),c.iushrn(1)}return d},s.cachedProperty=function(a,c,d){var h="_"+c;a.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=d.call(this)}},s.parseBytes=function(a){return typeof a=="string"?s.toArray(a,"hex"):a},s.intFromLE=function(a){return new o(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(e,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,i){var s=Object.create||function(R){var N=function(){};return N.prototype=R,new N},o=Object.keys||function(R){var N=[];for(var L in R)Object.prototype.hasOwnProperty.call(R,L)&&N.push(L);return L},u=Function.prototype.bind||function(R){var N=this;return function(){return N.apply(R,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var a,c=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),a=d.x===0}catch{a=!1}function h(R){return R._maxListeners===void 0?l.defaultMaxListeners:R._maxListeners}function f(R,N,L){if(N)R.call(L);else for(var z=R.length,O=V(R,z),T=0;T<z;++T)O[T].call(L)}function m(R,N,L,z){if(N)R.call(L,z);else for(var O=R.length,T=V(R,O),P=0;P<O;++P)T[P].call(L,z)}function y(R,N,L,z,O){if(N)R.call(L,z,O);else for(var T=R.length,P=V(R,T),E=0;E<T;++E)P[E].call(L,z,O)}function p(R,N,L,z,O,T){if(N)R.call(L,z,O,T);else for(var P=R.length,E=V(R,P),v=0;v<P;++v)E[v].call(L,z,O,T)}function b(R,N,L,z){if(N)R.apply(L,z);else for(var O=R.length,T=V(R,O),P=0;P<O;++P)T[P].apply(L,z)}function g(R,N,L,z){var O,T,P;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if((T=R._events)?(T.newListener&&(R.emit("newListener",N,L.listener?L.listener:L),T=R._events),P=T[N]):(T=R._events=s(null),R._eventsCount=0),P){if(typeof P=="function"?P=T[N]=z?[L,P]:[P,L]:z?P.unshift(L):P.push(L),!P.warned&&(O=h(R))&&O>0&&P.length>O){P.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(N)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');E.name="MaxListenersExceededWarning",E.emitter=R,E.type=N,E.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",E.name,E.message)}}else P=T[N]=L,++R._eventsCount;return R}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var R=new Array(arguments.length),N=0;N<R.length;++N)R[N]=arguments[N];this.listener.apply(this.target,R)}}function k(R,N,L){var z={fired:!1,wrapFn:void 0,target:R,type:N,listener:L},O=u.call(w,z);return O.listener=L,z.wrapFn=O,O}function A(R,N,L){var z=R._events;if(!z)return[];var O=z[N];return O?typeof O=="function"?L?[O.listener||O]:[O]:L?function(T){for(var P=new Array(T.length),E=0;E<P.length;++E)P[E]=T[E].listener||T[E];return P}(O):V(O,O.length):[]}function U(R){var N=this._events;if(N){var L=N[R];if(typeof L=="function")return 1;if(L)return L.length}return 0}function V(R,N){for(var L=new Array(N),z=0;z<N;++z)L[z]=R[z];return L}a?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(R){if(typeof R!="number"||R<0||R!=R)throw new TypeError('"defaultMaxListeners" must be a positive number');c=R}}):l.defaultMaxListeners=c,l.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||isNaN(R))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=R,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(R){var N,L,z,O,T,P,E=R==="error";if(P=this._events)E=E&&P.error==null;else if(!E)return!1;if(E){if(arguments.length>1&&(N=arguments[1]),N instanceof Error)throw N;var v=new Error('Unhandled "error" event. ('+N+")");throw v.context=N,v}if(!(L=P[R]))return!1;var x=typeof L=="function";switch(z=arguments.length){case 1:f(L,x,this);break;case 2:m(L,x,this,arguments[1]);break;case 3:y(L,x,this,arguments[1],arguments[2]);break;case 4:p(L,x,this,arguments[1],arguments[2],arguments[3]);break;default:for(O=new Array(z-1),T=1;T<z;T++)O[T-1]=arguments[T];b(L,x,this,O)}return!0},l.prototype.addListener=function(R,N){return g(this,R,N,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(R,N){return g(this,R,N,!0)},l.prototype.once=function(R,N){if(typeof N!="function")throw new TypeError('"listener" argument must be a function');return this.on(R,k(this,R,N)),this},l.prototype.prependOnceListener=function(R,N){if(typeof N!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(R,k(this,R,N)),this},l.prototype.removeListener=function(R,N){var L,z,O,T,P;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(L=z[R]))return this;if(L===N||L.listener===N)--this._eventsCount==0?this._events=s(null):(delete z[R],z.removeListener&&this.emit("removeListener",R,L.listener||N));else if(typeof L!="function"){for(O=-1,T=L.length-1;T>=0;T--)if(L[T]===N||L[T].listener===N){P=L[T].listener,O=T;break}if(O<0)return this;O===0?L.shift():function(E,v){for(var x=v,_=x+1,S=E.length;_<S;x+=1,_+=1)E[x]=E[_];E.pop()}(L,O),L.length===1&&(z[R]=L[0]),z.removeListener&&this.emit("removeListener",R,P||N)}return this},l.prototype.removeAllListeners=function(R){var N,L,z;if(!(L=this._events))return this;if(!L.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):L[R]&&(--this._eventsCount==0?this._events=s(null):delete L[R]),this;if(arguments.length===0){var O,T=o(L);for(z=0;z<T.length;++z)(O=T[z])!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(N=L[R])=="function")this.removeListener(R,N);else if(N)for(z=N.length-1;z>=0;z--)this.removeListener(R,N[z]);return this},l.prototype.listeners=function(R){return A(this,R,!0)},l.prototype.rawListeners=function(R){return A(this,R,!1)},l.listenerCount=function(R,N){return typeof R.listenerCount=="function"?R.listenerCount(N):U.call(R,N)},l.prototype.listenerCount=U,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("md5.js");n.exports=function(u,l,a,c){if(s.isBuffer(u)||(u=s.from(u,"binary")),l&&(s.isBuffer(l)||(l=s.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=a/8,h=s.alloc(d),f=s.alloc(c||0),m=s.alloc(0);d>0||c>0;){var y=new o;y.update(m),y.update(u),l&&y.update(l),m=y.digest();var p=0;if(d>0){var b=h.length-d;p=Math.min(d,m.length),m.copy(h,b,0,p),d-=p}if(p<m.length&&c>0){var g=f.length-c,w=Math.min(c,m.length-p);m.copy(f,g,p,p+w),c-=w}}return m.fill(0),{key:h,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=e("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var o=e("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("readable-stream").Transform;function u(l){o.call(this),this._block=s.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(u,o),u.prototype._transform=function(l,a,c){var d=null;try{this.update(l,a)}catch(h){d=h}c(d)},u.prototype._flush=function(l){var a=null;try{this.push(this.digest())}catch(c){a=c}l(a)},u.prototype.update=function(l,a){if(function(y,p){if(!s.isBuffer(y)&&typeof y!="string")throw new TypeError(p+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(l)||(l=s.from(l,a));for(var c=this._block,d=0;this._blockOffset+l.length-d>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)c[h++]=l[d++];this._update(),this._blockOffset=0}for(;d<l.length;)c[this._blockOffset++]=l[d++];for(var f=0,m=8*l.length;m>0;++f)this._length[f]+=m,(m=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*m);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();l!==void 0&&(a=a.toString(l)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return a},u.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=u},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,i){var s=i;s.utils=e("./hash/utils"),s.common=e("./hash/common"),s.sha=e("./hash/sha"),s.ripemd=e("./hash/ripemd"),s.hmac=e("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,i){var s=e("./utils"),o=e("minimalistic-assert");function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=u,u.prototype.update=function(l,a){if(l=s.toArray(l,a),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var c=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-c,l.length),this.pending.length===0&&(this.pending=null),l=s.join32(l,0,l.length-c,this.endian);for(var d=0;d<l.length;d+=this._delta32)this._update(l,d,d+this._delta32)}return this},u.prototype.digest=function(l){return this.update(this._pad()),o(this.pending===null),this._digest(l)},u.prototype._pad=function(){var l=this.pendingTotal,a=this._delta8,c=a-(l+this.padLength)%a,d=new Array(c+this.padLength);d[0]=128;for(var h=1;h<c;h++)d[h]=0;if(l<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)d[h++]=0;d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=l>>>24&255,d[h++]=l>>>16&255,d[h++]=l>>>8&255,d[h++]=255&l}else for(d[h++]=255&l,d[h++]=l>>>8&255,d[h++]=l>>>16&255,d[h++]=l>>>24&255,d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=0,f=8;f<this.padLength;f++)d[h++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,i){var s=e("./utils"),o=e("minimalistic-assert");function u(l,a,c){if(!(this instanceof u))return new u(l,a,c);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(a,c))}n.exports=u,u.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),o(l.length<=this.blockSize);for(var a=l.length;a<this.blockSize;a++)l.push(0);for(a=0;a<l.length;a++)l[a]^=54;for(this.inner=new this.Hash().update(l),a=0;a<l.length;a++)l[a]^=106;this.outer=new this.Hash().update(l)},u.prototype.update=function(l,a){return this.inner.update(l,a),this},u.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,i){var s=e("./utils"),o=e("./common"),u=s.rotl32,l=s.sum32,a=s.sum32_3,c=s.sum32_4,d=o.BlockHash;function h(){if(!(this instanceof h))return new h;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(k,A,U,V){return k<=15?A^U^V:k<=31?A&U|~A&V:k<=47?(A|~U)^V:k<=63?A&V|U&~V:A^(U|~V)}function m(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}function y(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}s.inherits(h,d),i.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(k,A){for(var U=this.h[0],V=this.h[1],R=this.h[2],N=this.h[3],L=this.h[4],z=U,O=V,T=R,P=N,E=L,v=0;v<80;v++){var x=l(u(c(U,f(v,V,R,N),k[p[v]+A],m(v)),g[v]),L);U=L,L=N,N=u(R,10),R=V,V=x,x=l(u(c(z,f(79-v,O,T,P),k[b[v]+A],y(v)),w[v]),E),z=E,E=P,P=u(T,10),T=O,O=x}x=a(this.h[1],R,P),this.h[1]=a(this.h[2],N,E),this.h[2]=a(this.h[3],L,z),this.h[3]=a(this.h[4],U,O),this.h[4]=a(this.h[0],V,T),this.h[0]=x},h.prototype._digest=function(k){return k==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,i){i.sha1=e("./sha/1"),i.sha224=e("./sha/224"),i.sha256=e("./sha/256"),i.sha384=e("./sha/384"),i.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,i){var s=e("../utils"),o=e("../common"),u=e("./common"),l=s.rotl32,a=s.sum32,c=s.sum32_5,d=u.ft_1,h=o.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function m(){if(!(this instanceof m))return new m;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(m,h),n.exports=m,m.blockSize=512,m.outSize=160,m.hmacStrength=80,m.padLength=64,m.prototype._update=function(y,p){for(var b=this.W,g=0;g<16;g++)b[g]=y[p+g];for(;g<b.length;g++)b[g]=l(b[g-3]^b[g-8]^b[g-14]^b[g-16],1);var w=this.h[0],k=this.h[1],A=this.h[2],U=this.h[3],V=this.h[4];for(g=0;g<b.length;g++){var R=~~(g/20),N=c(l(w,5),d(R,k,A,U),V,b[g],f[R]);V=U,U=A,A=l(k,30),k=w,w=N}this.h[0]=a(this.h[0],w),this.h[1]=a(this.h[1],k),this.h[2]=a(this.h[2],A),this.h[3]=a(this.h[3],U),this.h[4]=a(this.h[4],V)},m.prototype._digest=function(y){return y==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,i){var s=e("../utils"),o=e("./256");function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(u,o),n.exports=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,i){var s=e("../utils"),o=e("../common"),u=e("./common"),l=e("minimalistic-assert"),a=s.sum32,c=s.sum32_4,d=s.sum32_5,h=u.ch32,f=u.maj32,m=u.s0_256,y=u.s1_256,p=u.g0_256,b=u.g1_256,g=o.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}s.inherits(k,g),n.exports=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(A,U){for(var V=this.W,R=0;R<16;R++)V[R]=A[U+R];for(;R<V.length;R++)V[R]=c(b(V[R-2]),V[R-7],p(V[R-15]),V[R-16]);var N=this.h[0],L=this.h[1],z=this.h[2],O=this.h[3],T=this.h[4],P=this.h[5],E=this.h[6],v=this.h[7];for(l(this.k.length===V.length),R=0;R<V.length;R++){var x=d(v,y(T),h(T,P,E),this.k[R],V[R]),_=a(m(N),f(N,L,z));v=E,E=P,P=T,T=a(O,x),O=z,z=L,L=N,N=a(x,_)}this.h[0]=a(this.h[0],N),this.h[1]=a(this.h[1],L),this.h[2]=a(this.h[2],z),this.h[3]=a(this.h[3],O),this.h[4]=a(this.h[4],T),this.h[5]=a(this.h[5],P),this.h[6]=a(this.h[6],E),this.h[7]=a(this.h[7],v)},k.prototype._digest=function(A){return A==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,i){var s=e("../utils"),o=e("./512");function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(u,o),n.exports=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,i){var s=e("../utils"),o=e("../common"),u=e("minimalistic-assert"),l=s.rotr64_hi,a=s.rotr64_lo,c=s.shr64_hi,d=s.shr64_lo,h=s.sum64,f=s.sum64_hi,m=s.sum64_lo,y=s.sum64_4_hi,p=s.sum64_4_lo,b=s.sum64_5_hi,g=s.sum64_5_lo,w=o.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}function U(_,S,C,j,F){var H=_&C^~_&F;return H<0&&(H+=4294967296),H}function V(_,S,C,j,F,H){var W=S&j^~S&H;return W<0&&(W+=4294967296),W}function R(_,S,C,j,F){var H=_&C^_&F^C&F;return H<0&&(H+=4294967296),H}function N(_,S,C,j,F,H){var W=S&j^S&H^j&H;return W<0&&(W+=4294967296),W}function L(_,S){var C=l(_,S,28)^l(S,_,2)^l(S,_,7);return C<0&&(C+=4294967296),C}function z(_,S){var C=a(_,S,28)^a(S,_,2)^a(S,_,7);return C<0&&(C+=4294967296),C}function O(_,S){var C=l(_,S,14)^l(_,S,18)^l(S,_,9);return C<0&&(C+=4294967296),C}function T(_,S){var C=a(_,S,14)^a(_,S,18)^a(S,_,9);return C<0&&(C+=4294967296),C}function P(_,S){var C=l(_,S,1)^l(_,S,8)^c(_,S,7);return C<0&&(C+=4294967296),C}function E(_,S){var C=a(_,S,1)^a(_,S,8)^d(_,S,7);return C<0&&(C+=4294967296),C}function v(_,S){var C=l(_,S,19)^l(S,_,29)^c(_,S,6);return C<0&&(C+=4294967296),C}function x(_,S){var C=a(_,S,19)^a(S,_,29)^d(_,S,6);return C<0&&(C+=4294967296),C}s.inherits(A,w),n.exports=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(_,S){for(var C=this.W,j=0;j<32;j++)C[j]=_[S+j];for(;j<C.length;j+=2){var F=v(C[j-4],C[j-3]),H=x(C[j-4],C[j-3]),W=C[j-14],Y=C[j-13],B=P(C[j-30],C[j-29]),G=E(C[j-30],C[j-29]),D=C[j-32],M=C[j-31];C[j]=y(F,H,W,Y,B,G,D,M),C[j+1]=p(F,H,W,Y,B,G,D,M)}},A.prototype._update=function(_,S){this._prepareBlock(_,S);var C=this.W,j=this.h[0],F=this.h[1],H=this.h[2],W=this.h[3],Y=this.h[4],B=this.h[5],G=this.h[6],D=this.h[7],M=this.h[8],$=this.h[9],X=this.h[10],te=this.h[11],Q=this.h[12],ee=this.h[13],le=this.h[14],oe=this.h[15];u(this.k.length===C.length);for(var J=0;J<C.length;J+=2){var ie=le,ne=oe,ce=O(M,$),ue=T(M,$),fe=U(M,$,X,te,Q),me=V(M,$,X,te,Q,ee),ye=this.k[J],xe=this.k[J+1],Te=C[J],ke=C[J+1],Pe=b(ie,ne,ce,ue,fe,me,ye,xe,Te,ke),We=g(ie,ne,ce,ue,fe,me,ye,xe,Te,ke);ie=L(j,F),ne=z(j,F),ce=R(j,F,H,W,Y),ue=N(j,F,H,W,Y,B);var He=f(ie,ne,ce,ue),Ge=m(ie,ne,ce,ue);le=Q,oe=ee,Q=X,ee=te,X=M,te=$,M=f(G,D,Pe,We),$=m(D,D,Pe,We),G=Y,D=B,Y=H,B=W,H=j,W=F,j=f(Pe,We,He,Ge),F=m(Pe,We,He,Ge)}h(this.h,0,j,F),h(this.h,2,H,W),h(this.h,4,Y,B),h(this.h,6,G,D),h(this.h,8,M,$),h(this.h,10,X,te),h(this.h,12,Q,ee),h(this.h,14,le,oe)},A.prototype._digest=function(_){return _==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,i){var s=e("../utils").rotr32;function o(a,c,d){return a&c^~a&d}function u(a,c,d){return a&c^a&d^c&d}function l(a,c,d){return a^c^d}i.ft_1=function(a,c,d,h){return a===0?o(c,d,h):a===1||a===3?l(c,d,h):a===2?u(c,d,h):void 0},i.ch32=o,i.maj32=u,i.p32=l,i.s0_256=function(a){return s(a,2)^s(a,13)^s(a,22)},i.s1_256=function(a){return s(a,6)^s(a,11)^s(a,25)},i.g0_256=function(a){return s(a,7)^s(a,18)^a>>>3},i.g1_256=function(a){return s(a,17)^s(a,19)^a>>>10}},{"../utils":437}],437:[function(e,n,i){var s=e("minimalistic-assert"),o=e("inherits");function u(d,h){return(64512&d.charCodeAt(h))==55296&&!(h<0||h+1>=d.length)&&(64512&d.charCodeAt(h+1))==56320}function l(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function a(d){return d.length===1?"0"+d:d}function c(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}i.inherits=o,i.toArray=function(d,h){if(Array.isArray(d))return d.slice();if(!d)return[];var f=[];if(typeof d=="string")if(h){if(h==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),y=0;y<d.length;y+=2)f.push(parseInt(d[y]+d[y+1],16))}else for(var m=0,y=0;y<d.length;y++){var p=d.charCodeAt(y);p<128?f[m++]=p:p<2048?(f[m++]=p>>6|192,f[m++]=63&p|128):u(d,y)?(p=65536+((1023&p)<<10)+(1023&d.charCodeAt(++y)),f[m++]=p>>18|240,f[m++]=p>>12&63|128,f[m++]=p>>6&63|128,f[m++]=63&p|128):(f[m++]=p>>12|224,f[m++]=p>>6&63|128,f[m++]=63&p|128)}else for(y=0;y<d.length;y++)f[y]=0|d[y];return f},i.toHex=function(d){for(var h="",f=0;f<d.length;f++)h+=a(d[f].toString(16));return h},i.htonl=l,i.toHex32=function(d,h){for(var f="",m=0;m<d.length;m++){var y=d[m];h==="little"&&(y=l(y)),f+=c(y.toString(16))}return f},i.zero2=a,i.zero8=c,i.join32=function(d,h,f,m){var y=f-h;s(y%4==0);for(var p=new Array(y/4),b=0,g=h;b<p.length;b++,g+=4){var w;w=m==="big"?d[g]<<24|d[g+1]<<16|d[g+2]<<8|d[g+3]:d[g+3]<<24|d[g+2]<<16|d[g+1]<<8|d[g],p[b]=w>>>0}return p},i.split32=function(d,h){for(var f=new Array(4*d.length),m=0,y=0;m<d.length;m++,y+=4){var p=d[m];h==="big"?(f[y]=p>>>24,f[y+1]=p>>>16&255,f[y+2]=p>>>8&255,f[y+3]=255&p):(f[y+3]=p>>>24,f[y+2]=p>>>16&255,f[y+1]=p>>>8&255,f[y]=255&p)}return f},i.rotr32=function(d,h){return d>>>h|d<<32-h},i.rotl32=function(d,h){return d<<h|d>>>32-h},i.sum32=function(d,h){return d+h>>>0},i.sum32_3=function(d,h,f){return d+h+f>>>0},i.sum32_4=function(d,h,f,m){return d+h+f+m>>>0},i.sum32_5=function(d,h,f,m,y){return d+h+f+m+y>>>0},i.sum64=function(d,h,f,m){var y=d[h],p=m+d[h+1]>>>0,b=(p<m?1:0)+f+y;d[h]=b>>>0,d[h+1]=p},i.sum64_hi=function(d,h,f,m){return(h+m>>>0<h?1:0)+d+f>>>0},i.sum64_lo=function(d,h,f,m){return h+m>>>0},i.sum64_4_hi=function(d,h,f,m,y,p,b,g){var w=0,k=h;return w+=(k=k+m>>>0)<h?1:0,w+=(k=k+p>>>0)<p?1:0,d+f+y+b+(w+=(k=k+g>>>0)<g?1:0)>>>0},i.sum64_4_lo=function(d,h,f,m,y,p,b,g){return h+m+p+g>>>0},i.sum64_5_hi=function(d,h,f,m,y,p,b,g,w,k){var A=0,U=h;return A+=(U=U+m>>>0)<h?1:0,A+=(U=U+p>>>0)<p?1:0,A+=(U=U+g>>>0)<g?1:0,d+f+y+b+w+(A+=(U=U+k>>>0)<k?1:0)>>>0},i.sum64_5_lo=function(d,h,f,m,y,p,b,g,w,k){return h+m+p+g+k>>>0},i.rotr64_hi=function(d,h,f){return(h<<32-f|d>>>f)>>>0},i.rotr64_lo=function(d,h,f){return(d<<32-f|h>>>f)>>>0},i.shr64_hi=function(d,h,f){return d>>>f},i.shr64_lo=function(d,h,f){return(d<<32-f|h>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,i){var s=e("hash.js"),o=e("minimalistic-crypto-utils"),u=e("minimalistic-assert");function l(a){if(!(this instanceof l))return new l(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=o.toArray(a.entropy,a.entropyEnc||"hex"),d=o.toArray(a.nonce,a.nonceEnc||"hex"),h=o.toArray(a.pers,a.persEnc||"hex");u(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,d,h)}n.exports=l,l.prototype._init=function(a,c,d){var h=a.concat(c).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},l.prototype._update=function(a){var c=this._hmac().update(this.V).update([0]);a&&(c=c.update(a)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(a,c,d,h){typeof c!="string"&&(h=d,d=c,c=null),a=o.toArray(a,c),d=o.toArray(d,h),u(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(d||[])),this._reseed=1},l.prototype.generate=function(a,c,d,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(h=d,d=c,c=null),d&&(d=o.toArray(d,h||"hex"),this._update(d));for(var f=[];f.length<a;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var m=f.slice(0,a);return this._update(d),this._reseed++,o.encode(m,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,o,u,l,a){var c,d,h=8*a-l-1,f=(1<<h)-1,m=f>>1,y=-7,p=u?a-1:0,b=u?-1:1,g=s[o+p];for(p+=b,c=g&(1<<-y)-1,g>>=-y,y+=h;y>0;c=256*c+s[o+p],p+=b,y-=8);for(d=c&(1<<-y)-1,c>>=-y,y+=l;y>0;d=256*d+s[o+p],p+=b,y-=8);if(c===0)c=1-m;else{if(c===f)return d?NaN:1/0*(g?-1:1);d+=Math.pow(2,l),c-=m}return(g?-1:1)*d*Math.pow(2,c-l)},i.write=function(s,o,u,l,a,c){var d,h,f,m=8*c-a-1,y=(1<<m)-1,p=y>>1,b=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=l?0:c-1,w=l?1:-1,k=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(h=isNaN(o)?1:0,d=y):(d=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-d))<1&&(d--,f*=2),(o+=d+p>=1?b/f:b*Math.pow(2,1-p))*f>=2&&(d++,f/=2),d+p>=y?(h=0,d=y):d+p>=1?(h=(o*f-1)*Math.pow(2,a),d+=p):(h=o*Math.pow(2,p-1)*Math.pow(2,a),d=0));a>=8;s[u+g]=255&h,g+=w,h/=256,a-=8);for(d=d<<a|h,m+=a;m>0;s[u+g]=255&d,g+=w,d/=256,m-=8);s[u+g-w]|=128*k}},{}],440:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,o){if(o){s.super_=o;var u=function(){};u.prototype=o.prototype,s.prototype=new u,s.prototype.constructor=s}}},{}],441:[function(e,n,i){(function(s,o,u,l,a,c,d,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(f){typeof i=="object"&&n!==void 0?n.exports=f():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(m,y,p){function b(k,A){if(!y[k]){if(!m[k]){var U=typeof e=="function"&&e;if(!A&&U)return U(k,!0);if(g)return g(k,!0);var V=new Error("Cannot find module '"+k+"'");throw V.code="MODULE_NOT_FOUND",V}var R=y[k]={exports:{}};m[k][0].call(R.exports,function(N){return b(m[k][1][N]||N)},R,R.exports,f,m,y,p)}return y[k].exports}for(var g=typeof e=="function"&&e,w=0;w<p.length;w++)b(p[w]);return b}({1:[function(f,m,y){var p=f("./utils"),b=f("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(w){for(var k,A,U,V,R,N,L,z=[],O=0,T=w.length,P=T,E=p.getTypeOf(w)!=="string";O<w.length;)P=T-O,U=E?(k=w[O++],A=O<T?w[O++]:0,O<T?w[O++]:0):(k=w.charCodeAt(O++),A=O<T?w.charCodeAt(O++):0,O<T?w.charCodeAt(O++):0),V=k>>2,R=(3&k)<<4|A>>4,N=1<P?(15&A)<<2|U>>6:64,L=2<P?63&U:64,z.push(g.charAt(V)+g.charAt(R)+g.charAt(N)+g.charAt(L));return z.join("")},y.decode=function(w){var k,A,U,V,R,N,L=0,z=0,O="data:";if(w.substr(0,O.length)===O)throw new Error("Invalid base64 input, it looks like a data url.");var T,P=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===g.charAt(64)&&P--,w.charAt(w.length-2)===g.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=b.uint8array?new Uint8Array(0|P):new Array(0|P);L<w.length;)k=g.indexOf(w.charAt(L++))<<2|(V=g.indexOf(w.charAt(L++)))>>4,A=(15&V)<<4|(R=g.indexOf(w.charAt(L++)))>>2,U=(3&R)<<6|(N=g.indexOf(w.charAt(L++))),T[z++]=k,R!==64&&(T[z++]=A),N!==64&&(T[z++]=U);return T}},{"./support":30,"./utils":32}],2:[function(f,m,y){var p=f("./external"),b=f("./stream/DataWorker"),g=f("./stream/Crc32Probe"),w=f("./stream/DataLengthProbe");function k(A,U,V,R,N){this.compressedSize=A,this.uncompressedSize=U,this.crc32=V,this.compression=R,this.compressedContent=N}k.prototype={getContentWorker:function(){var A=new b(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),U=this;return A.on("end",function(){if(this.streamInfo.data_length!==U.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new b(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(A,U,V){return A.pipe(new g).pipe(new w("uncompressedSize")).pipe(U.compressWorker(V)).pipe(new w("compressedSize")).withStreamInfo("compression",U)},m.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,m,y){var p=f("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},y.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,m,y){var p=f("./utils"),b=function(){for(var g,w=[],k=0;k<256;k++){g=k;for(var A=0;A<8;A++)g=1&g?3988292384^g>>>1:g>>>1;w[k]=g}return w}();m.exports=function(g,w){return g!==void 0&&g.length?p.getTypeOf(g)!=="string"?function(k,A,U,V){var R=b,N=0+U;k^=-1;for(var L=0;L<N;L++)k=k>>>8^R[255&(k^A[L])];return-1^k}(0|w,g,g.length):function(k,A,U,V){var R=b,N=0+U;k^=-1;for(var L=0;L<N;L++)k=k>>>8^R[255&(k^A.charCodeAt(L))];return-1^k}(0|w,g,g.length):0}},{"./utils":32}],5:[function(f,m,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(f,m,y){var p;p=typeof Promise<"u"?Promise:f("lie"),m.exports={Promise:p}},{lie:37}],7:[function(f,m,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",b=f("pako"),g=f("./utils"),w=f("./stream/GenericWorker"),k=p?"uint8array":"array";function A(U,V){w.call(this,"FlateWorker/"+U),this._pako=null,this._pakoAction=U,this._pakoOptions=V,this.meta={}}y.magic="\b\0",g.inherits(A,w),A.prototype.processChunk=function(U){this.meta=U.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(k,U.data),!1)},A.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var U=this;this._pako.onData=function(V){U.push({data:V,meta:U.meta})}},y.compressWorker=function(U){return new A("Deflate",U)},y.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,m,y){function p(R,N){var L,z="";for(L=0;L<N;L++)z+=String.fromCharCode(255&R),R>>>=8;return z}function b(R,N,L,z,O,T){var P,E,v=R.file,x=R.compression,_=T!==k.utf8encode,S=g.transformTo("string",T(v.name)),C=g.transformTo("string",k.utf8encode(v.name)),j=v.comment,F=g.transformTo("string",T(j)),H=g.transformTo("string",k.utf8encode(j)),W=C.length!==v.name.length,Y=H.length!==j.length,B="",G="",D="",M=v.dir,$=v.date,X={crc32:0,compressedSize:0,uncompressedSize:0};N&&!L||(X.crc32=R.crc32,X.compressedSize=R.compressedSize,X.uncompressedSize=R.uncompressedSize);var te=0;N&&(te|=8),_||!W&&!Y||(te|=2048);var Q=0,ee=0;M&&(Q|=16),O==="UNIX"?(ee=798,Q|=function(oe,J){var ie=oe;return oe||(ie=J?16893:33204),(65535&ie)<<16}(v.unixPermissions,M)):(ee=20,Q|=function(oe){return 63&(oe||0)}(v.dosPermissions)),P=$.getUTCHours(),P<<=6,P|=$.getUTCMinutes(),P<<=5,P|=$.getUTCSeconds()/2,E=$.getUTCFullYear()-1980,E<<=4,E|=$.getUTCMonth()+1,E<<=5,E|=$.getUTCDate(),W&&(G=p(1,1)+p(A(S),4)+C,B+="up"+p(G.length,2)+G),Y&&(D=p(1,1)+p(A(F),4)+H,B+="uc"+p(D.length,2)+D);var le="";return le+=`
\0`,le+=p(te,2),le+=x.magic,le+=p(P,2),le+=p(E,2),le+=p(X.crc32,4),le+=p(X.compressedSize,4),le+=p(X.uncompressedSize,4),le+=p(S.length,2),le+=p(B.length,2),{fileRecord:U.LOCAL_FILE_HEADER+le+S+B,dirRecord:U.CENTRAL_FILE_HEADER+p(ee,2)+le+p(F.length,2)+"\0\0\0\0"+p(Q,4)+p(z,4)+S+B+F}}var g=f("../utils"),w=f("../stream/GenericWorker"),k=f("../utf8"),A=f("../crc32"),U=f("../signature");function V(R,N,L,z){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=N,this.zipPlatform=L,this.encodeFileName=z,this.streamFiles=R,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(V,w),V.prototype.push=function(R){var N=R.meta.percent||0,L=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(R):(this.bytesWritten+=R.data.length,w.prototype.push.call(this,{data:R.data,meta:{currentFile:this.currentFile,percent:L?(N+100*(L-z-1))/L:100}}))},V.prototype.openedSource=function(R){this.currentSourceOffset=this.bytesWritten,this.currentFile=R.file.name;var N=this.streamFiles&&!R.file.dir;if(N){var L=b(R,N,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:L.fileRecord,meta:{percent:0}})}else this.accumulate=!0},V.prototype.closedSource=function(R){this.accumulate=!1;var N=this.streamFiles&&!R.file.dir,L=b(R,N,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(L.dirRecord),N)this.push({data:function(z){return U.DATA_DESCRIPTOR+p(z.crc32,4)+p(z.compressedSize,4)+p(z.uncompressedSize,4)}(R),meta:{percent:100}});else for(this.push({data:L.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},V.prototype.flush=function(){for(var R=this.bytesWritten,N=0;N<this.dirRecords.length;N++)this.push({data:this.dirRecords[N],meta:{percent:100}});var L=this.bytesWritten-R,z=function(O,T,P,E,v){var x=g.transformTo("string",v(E));return U.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(O,2)+p(O,2)+p(T,4)+p(P,4)+p(x.length,2)+x}(this.dirRecords.length,L,R,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},V.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},V.prototype.registerPrevious=function(R){this._sources.push(R);var N=this;return R.on("data",function(L){N.processChunk(L)}),R.on("end",function(){N.closedSource(N.previous.streamInfo),N._sources.length?N.prepareNextSource():N.end()}),R.on("error",function(L){N.error(L)}),this},V.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},V.prototype.error=function(R){var N=this._sources;if(!w.prototype.error.call(this,R))return!1;for(var L=0;L<N.length;L++)try{N[L].error(R)}catch{}return!0},V.prototype.lock=function(){w.prototype.lock.call(this);for(var R=this._sources,N=0;N<R.length;N++)R[N].lock()},m.exports=V},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,m,y){var p=f("../compressions"),b=f("./ZipFileWorker");y.generateWorker=function(g,w,k){var A=new b(w.streamFiles,k,w.platform,w.encodeFileName),U=0;try{g.forEach(function(V,R){U++;var N=function(T,P){var E=T||P,v=p[E];if(!v)throw new Error(E+" is not a valid compression method !");return v}(R.options.compression,w.compression),L=R.options.compressionOptions||w.compressionOptions||{},z=R.dir,O=R.date;R._compressWorker(N,L).withStreamInfo("file",{name:V,dir:z,date:O,comment:R.comment||"",unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions}).pipe(A)}),A.entriesCount=U}catch(V){A.error(V)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,m,y){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new p;for(var g in this)typeof this[g]!="function"&&(b[g]=this[g]);return b}}(p.prototype=f("./object")).loadAsync=f("./load"),p.support=f("./support"),p.defaults=f("./defaults"),p.version="3.10.1",p.loadAsync=function(b,g){return new p().loadAsync(b,g)},p.external=f("./external"),m.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,m,y){var p=f("./utils"),b=f("./external"),g=f("./utf8"),w=f("./zipEntries"),k=f("./stream/Crc32Probe"),A=f("./nodejsUtils");function U(V){return new b.Promise(function(R,N){var L=V.decompressed.getContentWorker().pipe(new k);L.on("error",function(z){N(z)}).on("end",function(){L.streamInfo.crc32!==V.decompressed.crc32?N(new Error("Corrupted zip : CRC32 mismatch")):R()}).resume()})}m.exports=function(V,R){var N=this;return R=p.extend(R||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),A.isNode&&A.isStream(V)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",V,!0,R.optimizedBinaryString,R.base64).then(function(L){var z=new w(R);return z.load(L),z}).then(function(L){var z=[b.Promise.resolve(L)],O=L.files;if(R.checkCRC32)for(var T=0;T<O.length;T++)z.push(U(O[T]));return b.Promise.all(z)}).then(function(L){for(var z=L.shift(),O=z.files,T=0;T<O.length;T++){var P=O[T],E=P.fileNameStr,v=p.resolve(P.fileNameStr);N.file(v,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:R.createFolders}),P.dir||(N.file(v).unsafeOriginalName=E)}return z.zipComment.length&&(N.comment=z.zipComment),N})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,m,y){var p=f("../utils"),b=f("../stream/GenericWorker");function g(w,k){b.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(k)}p.inherits(g,b),g.prototype._bindStream=function(w){var k=this;(this._stream=w).pause(),w.on("data",function(A){k.push({data:A,meta:{percent:0}})}).on("error",function(A){k.isPaused?this.generatedError=A:k.error(A)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},g.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,m,y){var p=f("readable-stream").Readable;function b(g,w,k){p.call(this,w),this._helper=g;var A=this;g.on("data",function(U,V){A.push(U)||A._helper.pause(),k&&k(V)}).on("error",function(U){A.emit("error",U)}).on("end",function(){A.push(null)})}f("../utils").inherits(b,p),b.prototype._read=function(){this._helper.resume()},m.exports=b},{"../utils":32,"readable-stream":16}],14:[function(f,m,y){m.exports={isNode:u!==void 0,newBufferFrom:function(p,b){if(u.from&&u.from!==Uint8Array.from)return u.from(p,b);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new u(p,b)},allocBuffer:function(p){if(u.alloc)return u.alloc(p);var b=new u(p);return b.fill(0),b},isBuffer:function(p){return u.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(f,m,y){function p(v,x,_){var S,C=g.getTypeOf(x),j=g.extend(_||{},A);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(v=O(v)),j.createFolders&&(S=z(v))&&T.call(this,S,!0);var F=C==="string"&&j.binary===!1&&j.base64===!1;_&&_.binary!==void 0||(j.binary=!F),(x instanceof U&&x.uncompressedSize===0||j.dir||!x||x.length===0)&&(j.base64=!1,j.binary=!0,x="",j.compression="STORE",C="string");var H;H=x instanceof U||x instanceof w?x:N.isNode&&N.isStream(x)?new L(v,x):g.prepareContent(v,x,j.binary,j.optimizedBinaryString,j.base64);var W=new V(v,H,j);this.files[v]=W}var b=f("./utf8"),g=f("./utils"),w=f("./stream/GenericWorker"),k=f("./stream/StreamHelper"),A=f("./defaults"),U=f("./compressedObject"),V=f("./zipObject"),R=f("./generate"),N=f("./nodejsUtils"),L=f("./nodejs/NodejsStreamInputAdapter"),z=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var x=v.lastIndexOf("/");return 0<x?v.substring(0,x):""},O=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},T=function(v,x){return x=x!==void 0?x:A.createFolders,v=O(v),this.files[v]||p.call(this,v,null,{dir:!0,createFolders:x}),this.files[v]};function P(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var x,_,S;for(x in this.files)S=this.files[x],(_=x.slice(this.root.length,x.length))&&x.slice(0,this.root.length)===this.root&&v(_,S)},filter:function(v){var x=[];return this.forEach(function(_,S){v(_,S)&&x.push(S)}),x},file:function(v,x,_){if(arguments.length!==1)return v=this.root+v,p.call(this,v,x,_),this;if(P(v)){var S=v;return this.filter(function(j,F){return!F.dir&&S.test(j)})}var C=this.files[this.root+v];return C&&!C.dir?C:null},folder:function(v){if(!v)return this;if(P(v))return this.filter(function(C,j){return j.dir&&v.test(C)});var x=this.root+v,_=T.call(this,x),S=this.clone();return S.root=_.name,S},remove:function(v){v=this.root+v;var x=this.files[v];if(x||(v.slice(-1)!=="/"&&(v+="/"),x=this.files[v]),x&&!x.dir)delete this.files[v];else for(var _=this.filter(function(C,j){return j.name.slice(0,v.length)===v}),S=0;S<_.length;S++)delete this.files[_[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var x,_={};try{if((_=g.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");g.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var S=_.comment||this.comment||"";x=R.generateWorker(this,_,S)}catch(C){(x=new w("error")).error(C)}return new k(x,_.type||"string",_.mimeType)},generateAsync:function(v,x){return this.generateInternalStream(v).accumulate(x)},generateNodeStream:function(v,x){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(x)}};m.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,m,y){m.exports=f("stream")},{stream:void 0}],17:[function(f,m,y){var p=f("./DataReader");function b(g){p.call(this,g);for(var w=0;w<this.data.length;w++)g[w]=255&g[w]}f("../utils").inherits(b,p),b.prototype.byteAt=function(g){return this.data[this.zero+g]},b.prototype.lastIndexOfSignature=function(g){for(var w=g.charCodeAt(0),k=g.charCodeAt(1),A=g.charCodeAt(2),U=g.charCodeAt(3),V=this.length-4;0<=V;--V)if(this.data[V]===w&&this.data[V+1]===k&&this.data[V+2]===A&&this.data[V+3]===U)return V-this.zero;return-1},b.prototype.readAndCheckSignature=function(g){var w=g.charCodeAt(0),k=g.charCodeAt(1),A=g.charCodeAt(2),U=g.charCodeAt(3),V=this.readData(4);return w===V[0]&&k===V[1]&&A===V[2]&&U===V[3]},b.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,w},m.exports=b},{"../utils":32,"./DataReader":18}],18:[function(f,m,y){var p=f("../utils");function b(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var w,k=0;for(this.checkOffset(g),w=this.index+g-1;w>=this.index;w--)k=(k<<8)+this.byteAt(w);return this.index+=g,k},readString:function(g){return p.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},m.exports=b},{"../utils":32}],19:[function(f,m,y){var p=f("./Uint8ArrayReader");function b(g){p.call(this,g)}f("../utils").inherits(b,p),b.prototype.readData=function(g){this.checkOffset(g);var w=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,w},m.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,m,y){var p=f("./DataReader");function b(g){p.call(this,g)}f("../utils").inherits(b,p),b.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},b.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},b.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},b.prototype.readData=function(g){this.checkOffset(g);var w=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,w},m.exports=b},{"../utils":32,"./DataReader":18}],21:[function(f,m,y){var p=f("./ArrayReader");function b(g){p.call(this,g)}f("../utils").inherits(b,p),b.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,w},m.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(f,m,y){var p=f("../utils"),b=f("../support"),g=f("./ArrayReader"),w=f("./StringReader"),k=f("./NodeBufferReader"),A=f("./Uint8ArrayReader");m.exports=function(U){var V=p.getTypeOf(U);return p.checkSupport(V),V!=="string"||b.uint8array?V==="nodebuffer"?new k(U):b.uint8array?new A(p.transformTo("uint8array",U)):new g(p.transformTo("array",U)):new w(U)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,m,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,m,y){var p=f("./GenericWorker"),b=f("../utils");function g(w){p.call(this,"ConvertWorker to "+w),this.destType=w}b.inherits(g,p),g.prototype.processChunk=function(w){this.push({data:b.transformTo(this.destType,w.data),meta:w.meta})},m.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(f,m,y){var p=f("./GenericWorker"),b=f("../crc32");function g(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(g,p),g.prototype.processChunk=function(w){this.streamInfo.crc32=b(w.data,this.streamInfo.crc32||0),this.push(w)},m.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,m,y){var p=f("../utils"),b=f("./GenericWorker");function g(w){b.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}p.inherits(g,b),g.prototype.processChunk=function(w){if(w){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+w.data.length}b.prototype.processChunk.call(this,w)},m.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(f,m,y){var p=f("../utils"),b=f("./GenericWorker");function g(w){b.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then(function(A){k.dataIsReady=!0,k.data=A,k.max=A&&A.length||0,k.type=p.getTypeOf(A),k.isPaused||k._tickAndRepeat()},function(A){k.error(A)})}p.inherits(g,b),g.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,k);break;case"uint8array":w=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":w=this.data.slice(this.index,k)}return this.index=k,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(f,m,y){function p(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(b){this.emit("error",b)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,g){return this._listeners[b].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(b,g){if(this._listeners[b])for(var w=0;w<this._listeners[b].length;w++)this._listeners[b][w].call(this,g)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo,this.mergeStreamInfo(),this.previous=b;var g=this;return b.on("data",function(w){g.processChunk(w)}),b.on("end",function(){g.end()}),b.on("error",function(w){g.error(w)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,g){return this.extraStreamInfo[b]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,b)&&(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}},m.exports=p},{}],29:[function(f,m,y){var p=f("../utils"),b=f("./ConvertWorker"),g=f("./GenericWorker"),w=f("../base64"),k=f("../support"),A=f("../external"),U=null;if(k.nodestream)try{U=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function V(R,N,L){var z=N;switch(N){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=N,this._mimeType=L,p.checkSupport(z),this._worker=R.pipe(new b(z)),R.lock()}catch(O){this._worker=new g("error"),this._worker.error(O)}}V.prototype={accumulate:function(R){return function(N,L){return new A.Promise(function(z,O){var T=[],P=N._internalType,E=N._outputType,v=N._mimeType;N.on("data",function(x,_){T.push(x),L&&L(_)}).on("error",function(x){T=[],O(x)}).on("end",function(){try{var x=function(_,S,C){switch(_){case"blob":return p.newBlob(p.transformTo("arraybuffer",S),C);case"base64":return w.encode(S);default:return p.transformTo(_,S)}}(E,function(_,S){var C,j=0,F=null,H=0;for(C=0;C<S.length;C++)H+=S[C].length;switch(_){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(F=new Uint8Array(H),C=0;C<S.length;C++)F.set(S[C],j),j+=S[C].length;return F;case"nodebuffer":return u.concat(S);default:throw new Error("concat : unsupported type '"+_+"'")}}(P,T),v);z(x)}catch(_){O(_)}T=[]}).resume()})}(this,R)},on:function(R,N){var L=this;return R==="data"?this._worker.on(R,function(z){N.call(L,z.data,z.meta)}):this._worker.on(R,function(){p.delay(N,arguments,L)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new U(this,{objectMode:this._outputType!=="nodebuffer"},R)}},m.exports=V},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,m,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=u!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var p=new ArrayBuffer(0);try{y.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(p),y.blob=b.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!f("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(f,m,y){for(var p=f("./utils"),b=f("./support"),g=f("./nodejsUtils"),w=f("./stream/GenericWorker"),k=new Array(256),A=0;A<256;A++)k[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function U(){w.call(this,"utf-8 decode"),this.leftOver=null}function V(){w.call(this,"utf-8 encode")}k[254]=k[254]=1,y.utf8encode=function(R){return b.nodebuffer?g.newBufferFrom(R,"utf-8"):function(N){var L,z,O,T,P,E=N.length,v=0;for(T=0;T<E;T++)(64512&(z=N.charCodeAt(T)))==55296&&T+1<E&&(64512&(O=N.charCodeAt(T+1)))==56320&&(z=65536+(z-55296<<10)+(O-56320),T++),v+=z<128?1:z<2048?2:z<65536?3:4;for(L=b.uint8array?new Uint8Array(v):new Array(v),T=P=0;P<v;T++)(64512&(z=N.charCodeAt(T)))==55296&&T+1<E&&(64512&(O=N.charCodeAt(T+1)))==56320&&(z=65536+(z-55296<<10)+(O-56320),T++),z<128?L[P++]=z:(z<2048?L[P++]=192|z>>>6:(z<65536?L[P++]=224|z>>>12:(L[P++]=240|z>>>18,L[P++]=128|z>>>12&63),L[P++]=128|z>>>6&63),L[P++]=128|63&z);return L}(R)},y.utf8decode=function(R){return b.nodebuffer?p.transformTo("nodebuffer",R).toString("utf-8"):function(N){var L,z,O,T,P=N.length,E=new Array(2*P);for(L=z=0;L<P;)if((O=N[L++])<128)E[z++]=O;else if(4<(T=k[O]))E[z++]=65533,L+=T-1;else{for(O&=T===2?31:T===3?15:7;1<T&&L<P;)O=O<<6|63&N[L++],T--;1<T?E[z++]=65533:O<65536?E[z++]=O:(O-=65536,E[z++]=55296|O>>10&1023,E[z++]=56320|1023&O)}return E.length!==z&&(E.subarray?E=E.subarray(0,z):E.length=z),p.applyFromCharCode(E)}(R=p.transformTo(b.uint8array?"uint8array":"array",R))},p.inherits(U,w),U.prototype.processChunk=function(R){var N=p.transformTo(b.uint8array?"uint8array":"array",R.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var L=N;(N=new Uint8Array(L.length+this.leftOver.length)).set(this.leftOver,0),N.set(L,this.leftOver.length)}else N=this.leftOver.concat(N);this.leftOver=null}var z=function(T,P){var E;for((P=P||T.length)>T.length&&(P=T.length),E=P-1;0<=E&&(192&T[E])==128;)E--;return E<0||E===0?P:E+k[T[E]]>P?E:P}(N),O=N;z!==N.length&&(b.uint8array?(O=N.subarray(0,z),this.leftOver=N.subarray(z,N.length)):(O=N.slice(0,z),this.leftOver=N.slice(z,N.length))),this.push({data:y.utf8decode(O),meta:R.meta})},U.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=U,p.inherits(V,w),V.prototype.processChunk=function(R){this.push({data:y.utf8encode(R.data),meta:R.meta})},y.Utf8EncodeWorker=V},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,m,y){var p=f("./support"),b=f("./base64"),g=f("./nodejsUtils"),w=f("./external");function k(L){return L}function A(L,z){for(var O=0;O<L.length;++O)z[O]=255&L.charCodeAt(O);return z}f("setimmediate"),y.newBlob=function(L,z){y.checkSupport("blob");try{return new Blob([L],{type:z})}catch{try{var O=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return O.append(L),O.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var U={stringifyByChunk:function(L,z,O){var T=[],P=0,E=L.length;if(E<=O)return String.fromCharCode.apply(null,L);for(;P<E;)z==="array"||z==="nodebuffer"?T.push(String.fromCharCode.apply(null,L.slice(P,Math.min(P+O,E)))):T.push(String.fromCharCode.apply(null,L.subarray(P,Math.min(P+O,E)))),P+=O;return T.join("")},stringifyByChar:function(L){for(var z="",O=0;O<L.length;O++)z+=String.fromCharCode(L[O]);return z},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function V(L){var z=65536,O=y.getTypeOf(L),T=!0;if(O==="uint8array"?T=U.applyCanBeUsed.uint8array:O==="nodebuffer"&&(T=U.applyCanBeUsed.nodebuffer),T)for(;1<z;)try{return U.stringifyByChunk(L,O,z)}catch{z=Math.floor(z/2)}return U.stringifyByChar(L)}function R(L,z){for(var O=0;O<L.length;O++)z[O]=L[O];return z}y.applyFromCharCode=V;var N={};N.string={string:k,array:function(L){return A(L,new Array(L.length))},arraybuffer:function(L){return N.string.uint8array(L).buffer},uint8array:function(L){return A(L,new Uint8Array(L.length))},nodebuffer:function(L){return A(L,g.allocBuffer(L.length))}},N.array={string:V,array:k,arraybuffer:function(L){return new Uint8Array(L).buffer},uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return g.newBufferFrom(L)}},N.arraybuffer={string:function(L){return V(new Uint8Array(L))},array:function(L){return R(new Uint8Array(L),new Array(L.byteLength))},arraybuffer:k,uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return g.newBufferFrom(new Uint8Array(L))}},N.uint8array={string:V,array:function(L){return R(L,new Array(L.length))},arraybuffer:function(L){return L.buffer},uint8array:k,nodebuffer:function(L){return g.newBufferFrom(L)}},N.nodebuffer={string:V,array:function(L){return R(L,new Array(L.length))},arraybuffer:function(L){return N.nodebuffer.uint8array(L).buffer},uint8array:function(L){return R(L,new Uint8Array(L.length))},nodebuffer:k},y.transformTo=function(L,z){if(z=z||"",!L)return z;y.checkSupport(L);var O=y.getTypeOf(z);return N[O][L](z)},y.resolve=function(L){for(var z=L.split("/"),O=[],T=0;T<z.length;T++){var P=z[T];P==="."||P===""&&T!==0&&T!==z.length-1||(P===".."?O.pop():O.push(P))}return O.join("/")},y.getTypeOf=function(L){return typeof L=="string"?"string":Object.prototype.toString.call(L)==="[object Array]"?"array":p.nodebuffer&&g.isBuffer(L)?"nodebuffer":p.uint8array&&L instanceof Uint8Array?"uint8array":p.arraybuffer&&L instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(L){if(!p[L.toLowerCase()])throw new Error(L+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(L){var z,O,T="";for(O=0;O<(L||"").length;O++)T+="\\x"+((z=L.charCodeAt(O))<16?"0":"")+z.toString(16).toUpperCase();return T},y.delay=function(L,z,O){h(function(){L.apply(O||null,z||[])})},y.inherits=function(L,z){function O(){}O.prototype=z.prototype,L.prototype=new O},y.extend=function(){var L,z,O={};for(L=0;L<arguments.length;L++)for(z in arguments[L])Object.prototype.hasOwnProperty.call(arguments[L],z)&&O[z]===void 0&&(O[z]=arguments[L][z]);return O},y.prepareContent=function(L,z,O,T,P){return w.Promise.resolve(z).then(function(E){return p.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new w.Promise(function(v,x){var _=new FileReader;_.onload=function(S){v(S.target.result)},_.onerror=function(S){x(S.target.error)},_.readAsArrayBuffer(E)}):E}).then(function(E){var v=y.getTypeOf(E);return v?(v==="arraybuffer"?E=y.transformTo("uint8array",E):v==="string"&&(P?E=b.decode(E):O&&T!==!0&&(E=function(x){return A(x,p.uint8array?new Uint8Array(x.length):new Array(x.length))}(E))),E):w.Promise.reject(new Error("Can't read the data of '"+L+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,m,y){var p=f("./reader/readerFor"),b=f("./utils"),g=f("./signature"),w=f("./zipEntry"),k=f("./support");function A(U){this.files=[],this.loadOptions=U}A.prototype={checkSignature:function(U){if(!this.reader.readAndCheckSignature(U)){this.reader.index-=4;var V=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(V)+", expected "+b.pretty(U)+")")}},isSignature:function(U,V){var R=this.reader.index;this.reader.setIndex(U);var N=this.reader.readString(4)===V;return this.reader.setIndex(R),N},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var U=this.reader.readData(this.zipCommentLength),V=k.uint8array?"uint8array":"array",R=b.transformTo(V,U);this.zipComment=this.loadOptions.decodeFileName(R)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var U,V,R,N=this.zip64EndOfCentralSize-44;0<N;)U=this.reader.readInt(2),V=this.reader.readInt(4),R=this.reader.readData(V),this.zip64ExtensibleData[U]={id:U,length:V,value:R}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var U,V;for(U=0;U<this.files.length;U++)V=this.files[U],this.reader.setIndex(V.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),V.readLocalPart(this.reader),V.handleUTF8(),V.processAttributes()},readCentralDir:function(){var U;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(U=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(U);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var U=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(U<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(U);var V=U;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(U=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(U),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var R=this.centralDirOffset+this.centralDirSize;this.zip64&&(R+=20,R+=12+this.zip64EndOfCentralSize);var N=V-R;if(0<N)this.isSignature(V,g.CENTRAL_FILE_HEADER)||(this.reader.zero=N);else if(N<0)throw new Error("Corrupted zip: missing "+Math.abs(N)+" bytes.")},prepareReader:function(U){this.reader=p(U)},load:function(U){this.prepareReader(U),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,m,y){var p=f("./reader/readerFor"),b=f("./utils"),g=f("./compressedObject"),w=f("./crc32"),k=f("./utf8"),A=f("./compressions"),U=f("./support");function V(R,N){this.options=R,this.loadOptions=N}V.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(R){var N,L;if(R.skip(22),this.fileNameLength=R.readInt(2),L=R.readInt(2),this.fileName=R.readData(this.fileNameLength),R.skip(L),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((N=function(z){for(var O in A)if(Object.prototype.hasOwnProperty.call(A,O)&&A[O].magic===z)return A[O];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,N,R.readData(this.compressedSize))},readCentralPart:function(R){this.versionMadeBy=R.readInt(2),R.skip(2),this.bitFlag=R.readInt(2),this.compressionMethod=R.readString(2),this.date=R.readDate(),this.crc32=R.readInt(4),this.compressedSize=R.readInt(4),this.uncompressedSize=R.readInt(4);var N=R.readInt(2);if(this.extraFieldsLength=R.readInt(2),this.fileCommentLength=R.readInt(2),this.diskNumberStart=R.readInt(2),this.internalFileAttributes=R.readInt(2),this.externalFileAttributes=R.readInt(4),this.localHeaderOffset=R.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");R.skip(N),this.readExtraFields(R),this.parseZIP64ExtraField(R),this.fileComment=R.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var R=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),R==0&&(this.dosPermissions=63&this.externalFileAttributes),R==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var R=p(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=R.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=R.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=R.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=R.readInt(4))}},readExtraFields:function(R){var N,L,z,O=R.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});R.index+4<O;)N=R.readInt(2),L=R.readInt(2),z=R.readData(L),this.extraFields[N]={id:N,length:L,value:z};R.setIndex(O)},handleUTF8:function(){var R=U.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var N=this.findExtraFieldUnicodePath();if(N!==null)this.fileNameStr=N;else{var L=b.transformTo(R,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(L)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var O=b.transformTo(R,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(O)}}},findExtraFieldUnicodePath:function(){var R=this.extraFields[28789];if(R){var N=p(R.value);return N.readInt(1)!==1||w(this.fileName)!==N.readInt(4)?null:k.utf8decode(N.readData(R.length-5))}return null},findExtraFieldUnicodeComment:function(){var R=this.extraFields[25461];if(R){var N=p(R.value);return N.readInt(1)!==1||w(this.fileComment)!==N.readInt(4)?null:k.utf8decode(N.readData(R.length-5))}return null}},m.exports=V},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,m,y){function p(N,L,z){this.name=N,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=L,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var b=f("./stream/StreamHelper"),g=f("./stream/DataWorker"),w=f("./utf8"),k=f("./compressedObject"),A=f("./stream/GenericWorker");p.prototype={internalStream:function(N){var L=null,z="string";try{if(!N)throw new Error("No output type specified.");var O=(z=N.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),L=this._decompressWorker();var T=!this._dataBinary;T&&!O&&(L=L.pipe(new w.Utf8EncodeWorker)),!T&&O&&(L=L.pipe(new w.Utf8DecodeWorker))}catch(P){(L=new A("error")).error(P)}return new b(L,z,"")},async:function(N,L){return this.internalStream(N).accumulate(L)},nodeStream:function(N,L){return this.internalStream(N||"nodebuffer").toNodejsStream(L)},_compressWorker:function(N,L){if(this._data instanceof k&&this._data.compression.magic===N.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new w.Utf8EncodeWorker)),k.createWorkerFrom(z,N,L)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof A?this._data:new g(this._data)}};for(var U=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],V=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},R=0;R<U.length;R++)p.prototype[U[R]]=V;m.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,m,y){(function(p){var b,g,w=p.MutationObserver||p.WebKitMutationObserver;if(w){var k=0,A=new w(N),U=p.document.createTextNode("");A.observe(U,{characterData:!0}),b=function(){U.data=k=++k%2}}else if(p.setImmediate||p.MessageChannel===void 0)b="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var L=p.document.createElement("script");L.onreadystatechange=function(){N(),L.onreadystatechange=null,L.parentNode.removeChild(L),L=null},p.document.documentElement.appendChild(L)}:function(){setTimeout(N,0)};else{var V=new p.MessageChannel;V.port1.onmessage=N,b=function(){V.port2.postMessage(0)}}var R=[];function N(){var L,z;g=!0;for(var O=R.length;O;){for(z=R,R=[],L=-1;++L<O;)z[L]();O=R.length}g=!1}m.exports=function(L){R.push(L)!==1||g||b()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,m,y){var p=f("immediate");function b(){}var g={},w=["REJECTED"],k=["FULFILLED"],A=["PENDING"];function U(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,O!==b&&L(this,O)}function V(O,T,P){this.promise=O,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function R(O,T,P){p(function(){var E;try{E=T(P)}catch(v){return g.reject(O,v)}E===O?g.reject(O,new TypeError("Cannot resolve promise with itself")):g.resolve(O,E)})}function N(O){var T=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof T=="function")return function(){T.apply(O,arguments)}}function L(O,T){var P=!1;function E(_){P||(P=!0,g.reject(O,_))}function v(_){P||(P=!0,g.resolve(O,_))}var x=z(function(){T(v,E)});x.status==="error"&&E(x.value)}function z(O,T){var P={};try{P.value=O(T),P.status="success"}catch(E){P.status="error",P.value=E}return P}(m.exports=U).prototype.finally=function(O){if(typeof O!="function")return this;var T=this.constructor;return this.then(function(P){return T.resolve(O()).then(function(){return P})},function(P){return T.resolve(O()).then(function(){throw P})})},U.prototype.catch=function(O){return this.then(null,O)},U.prototype.then=function(O,T){if(typeof O!="function"&&this.state===k||typeof T!="function"&&this.state===w)return this;var P=new this.constructor(b);return this.state!==A?R(P,this.state===k?O:T,this.outcome):this.queue.push(new V(P,O,T)),P},V.prototype.callFulfilled=function(O){g.resolve(this.promise,O)},V.prototype.otherCallFulfilled=function(O){R(this.promise,this.onFulfilled,O)},V.prototype.callRejected=function(O){g.reject(this.promise,O)},V.prototype.otherCallRejected=function(O){R(this.promise,this.onRejected,O)},g.resolve=function(O,T){var P=z(N,T);if(P.status==="error")return g.reject(O,P.value);var E=P.value;if(E)L(O,E);else{O.state=k,O.outcome=T;for(var v=-1,x=O.queue.length;++v<x;)O.queue[v].callFulfilled(T)}return O},g.reject=function(O,T){O.state=w,O.outcome=T;for(var P=-1,E=O.queue.length;++P<E;)O.queue[P].callRejected(T);return O},U.resolve=function(O){return O instanceof this?O:g.resolve(new this(b),O)},U.reject=function(O){var T=new this(b);return g.reject(T,O)},U.all=function(O){var T=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=O.length,E=!1;if(!P)return this.resolve([]);for(var v=new Array(P),x=0,_=-1,S=new this(b);++_<P;)C(O[_],_);return S;function C(j,F){T.resolve(j).then(function(H){v[F]=H,++x!==P||E||(E=!0,g.resolve(S,v))},function(H){E||(E=!0,g.reject(S,H))})}},U.race=function(O){if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=O.length,P=!1;if(!T)return this.resolve([]);for(var E,v=-1,x=new this(b);++v<T;)E=O[v],this.resolve(E).then(function(_){P||(P=!0,g.resolve(x,_))},function(_){P||(P=!0,g.reject(x,_))});return x}},{immediate:36}],38:[function(f,m,y){var p={};(0,f("./lib/utils/common").assign)(p,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),m.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,m,y){var p=f("./zlib/deflate"),b=f("./utils/common"),g=f("./utils/strings"),w=f("./zlib/messages"),k=f("./zlib/zstream"),A=Object.prototype.toString;function U(R){if(!(this instanceof U))return new U(R);this.options=b.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},R||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var L=p.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(L!==0)throw new Error(w[L]);if(N.header&&p.deflateSetHeader(this.strm,N.header),N.dictionary){var z;if(z=typeof N.dictionary=="string"?g.string2buf(N.dictionary):A.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(L=p.deflateSetDictionary(this.strm,z))!==0)throw new Error(w[L]);this._dict_set=!0}}function V(R,N){var L=new U(N);if(L.push(R,!0),L.err)throw L.msg||w[L.err];return L.result}U.prototype.push=function(R,N){var L,z,O=this.strm,T=this.options.chunkSize;if(this.ended)return!1;z=N===~~N?N:N===!0?4:0,typeof R=="string"?O.input=g.string2buf(R):A.call(R)==="[object ArrayBuffer]"?O.input=new Uint8Array(R):O.input=R,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new b.Buf8(T),O.next_out=0,O.avail_out=T),(L=p.deflate(O,z))!==1&&L!==0)return this.onEnd(L),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(b.shrinkBuf(O.output,O.next_out))):this.onData(b.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&L!==1);return z===4?(L=p.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===0):z!==2||(this.onEnd(0),!(O.avail_out=0))},U.prototype.onData=function(R){this.chunks.push(R)},U.prototype.onEnd=function(R){R===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},y.Deflate=U,y.deflate=V,y.deflateRaw=function(R,N){return(N=N||{}).raw=!0,V(R,N)},y.gzip=function(R,N){return(N=N||{}).gzip=!0,V(R,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,m,y){var p=f("./zlib/inflate"),b=f("./utils/common"),g=f("./utils/strings"),w=f("./zlib/constants"),k=f("./zlib/messages"),A=f("./zlib/zstream"),U=f("./zlib/gzheader"),V=Object.prototype.toString;function R(L){if(!(this instanceof R))return new R(L);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},L||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||L&&L.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&!(15&z.windowBits)&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var O=p.inflateInit2(this.strm,z.windowBits);if(O!==w.Z_OK)throw new Error(k[O]);this.header=new U,p.inflateGetHeader(this.strm,this.header)}function N(L,z){var O=new R(z);if(O.push(L,!0),O.err)throw O.msg||k[O.err];return O.result}R.prototype.push=function(L,z){var O,T,P,E,v,x,_=this.strm,S=this.options.chunkSize,C=this.options.dictionary,j=!1;if(this.ended)return!1;T=z===~~z?z:z===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof L=="string"?_.input=g.binstring2buf(L):V.call(L)==="[object ArrayBuffer]"?_.input=new Uint8Array(L):_.input=L,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new b.Buf8(S),_.next_out=0,_.avail_out=S),(O=p.inflate(_,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&C&&(x=typeof C=="string"?g.string2buf(C):V.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,O=p.inflateSetDictionary(this.strm,x)),O===w.Z_BUF_ERROR&&j===!0&&(O=w.Z_OK,j=!1),O!==w.Z_STREAM_END&&O!==w.Z_OK)return this.onEnd(O),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&O!==w.Z_STREAM_END&&(_.avail_in!==0||T!==w.Z_FINISH&&T!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=g.utf8border(_.output,_.next_out),E=_.next_out-P,v=g.buf2string(_.output,P),_.next_out=E,_.avail_out=S-E,E&&b.arraySet(_.output,_.output,P,E,0),this.onData(v)):this.onData(b.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(j=!0)}while((0<_.avail_in||_.avail_out===0)&&O!==w.Z_STREAM_END);return O===w.Z_STREAM_END&&(T=w.Z_FINISH),T===w.Z_FINISH?(O=p.inflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===w.Z_OK):T!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(_.avail_out=0))},R.prototype.onData=function(L){this.chunks.push(L)},R.prototype.onEnd=function(L){L===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},y.Inflate=R,y.inflate=N,y.inflateRaw=function(L,z){return(z=z||{}).raw=!0,N(L,z)},y.ungzip=N},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,m,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(w){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var A=k.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var U in A)A.hasOwnProperty(U)&&(w[U]=A[U])}}return w},y.shrinkBuf=function(w,k){return w.length===k?w:w.subarray?w.subarray(0,k):(w.length=k,w)};var b={arraySet:function(w,k,A,U,V){if(k.subarray&&w.subarray)w.set(k.subarray(A,A+U),V);else for(var R=0;R<U;R++)w[V+R]=k[A+R]},flattenChunks:function(w){var k,A,U,V,R,N;for(k=U=0,A=w.length;k<A;k++)U+=w[k].length;for(N=new Uint8Array(U),k=V=0,A=w.length;k<A;k++)R=w[k],N.set(R,V),V+=R.length;return N}},g={arraySet:function(w,k,A,U,V){for(var R=0;R<U;R++)w[V+R]=k[A+R]},flattenChunks:function(w){return[].concat.apply([],w)}};y.setTyped=function(w){w?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,b)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,g))},y.setTyped(p)},{}],42:[function(f,m,y){var p=f("./common"),b=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var w=new p.Buf8(256),k=0;k<256;k++)w[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function A(U,V){if(V<65537&&(U.subarray&&g||!U.subarray&&b))return String.fromCharCode.apply(null,p.shrinkBuf(U,V));for(var R="",N=0;N<V;N++)R+=String.fromCharCode(U[N]);return R}w[254]=w[254]=1,y.string2buf=function(U){var V,R,N,L,z,O=U.length,T=0;for(L=0;L<O;L++)(64512&(R=U.charCodeAt(L)))==55296&&L+1<O&&(64512&(N=U.charCodeAt(L+1)))==56320&&(R=65536+(R-55296<<10)+(N-56320),L++),T+=R<128?1:R<2048?2:R<65536?3:4;for(V=new p.Buf8(T),L=z=0;z<T;L++)(64512&(R=U.charCodeAt(L)))==55296&&L+1<O&&(64512&(N=U.charCodeAt(L+1)))==56320&&(R=65536+(R-55296<<10)+(N-56320),L++),R<128?V[z++]=R:(R<2048?V[z++]=192|R>>>6:(R<65536?V[z++]=224|R>>>12:(V[z++]=240|R>>>18,V[z++]=128|R>>>12&63),V[z++]=128|R>>>6&63),V[z++]=128|63&R);return V},y.buf2binstring=function(U){return A(U,U.length)},y.binstring2buf=function(U){for(var V=new p.Buf8(U.length),R=0,N=V.length;R<N;R++)V[R]=U.charCodeAt(R);return V},y.buf2string=function(U,V){var R,N,L,z,O=V||U.length,T=new Array(2*O);for(R=N=0;R<O;)if((L=U[R++])<128)T[N++]=L;else if(4<(z=w[L]))T[N++]=65533,R+=z-1;else{for(L&=z===2?31:z===3?15:7;1<z&&R<O;)L=L<<6|63&U[R++],z--;1<z?T[N++]=65533:L<65536?T[N++]=L:(L-=65536,T[N++]=55296|L>>10&1023,T[N++]=56320|1023&L)}return A(T,N)},y.utf8border=function(U,V){var R;for((V=V||U.length)>U.length&&(V=U.length),R=V-1;0<=R&&(192&U[R])==128;)R--;return R<0||R===0?V:R+w[U[R]]>V?R:V}},{"./common":41}],43:[function(f,m,y){m.exports=function(p,b,g,w){for(var k=65535&p|0,A=p>>>16&65535|0,U=0;g!==0;){for(g-=U=2e3<g?2e3:g;A=A+(k=k+b[w++]|0)|0,--U;);k%=65521,A%=65521}return k|A<<16|0}},{}],44:[function(f,m,y){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,m,y){var p=function(){for(var b,g=[],w=0;w<256;w++){b=w;for(var k=0;k<8;k++)b=1&b?3988292384^b>>>1:b>>>1;g[w]=b}return g}();m.exports=function(b,g,w,k){var A=p,U=k+w;b^=-1;for(var V=k;V<U;V++)b=b>>>8^A[255&(b^g[V])];return-1^b}},{}],46:[function(f,m,y){var p,b=f("../utils/common"),g=f("./trees"),w=f("./adler32"),k=f("./crc32"),A=f("./messages"),U=-2,V=258,R=262,N=113;function L(B,G){return B.msg=A[G],G}function z(B){return(B<<1)-(4<B?9:0)}function O(B){for(var G=B.length;0<=--G;)B[G]=0}function T(B){var G=B.state,D=G.pending;D>B.avail_out&&(D=B.avail_out),D!==0&&(b.arraySet(B.output,G.pending_buf,G.pending_out,D,B.next_out),B.next_out+=D,G.pending_out+=D,B.total_out+=D,B.avail_out-=D,G.pending-=D,G.pending===0&&(G.pending_out=0))}function P(B,G){g._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,G),B.block_start=B.strstart,T(B.strm)}function E(B,G){B.pending_buf[B.pending++]=G}function v(B,G){B.pending_buf[B.pending++]=G>>>8&255,B.pending_buf[B.pending++]=255&G}function x(B,G){var D,M,$=B.max_chain_length,X=B.strstart,te=B.prev_length,Q=B.nice_match,ee=B.strstart>B.w_size-R?B.strstart-(B.w_size-R):0,le=B.window,oe=B.w_mask,J=B.prev,ie=B.strstart+V,ne=le[X+te-1],ce=le[X+te];B.prev_length>=B.good_match&&($>>=2),Q>B.lookahead&&(Q=B.lookahead);do if(le[(D=G)+te]===ce&&le[D+te-1]===ne&&le[D]===le[X]&&le[++D]===le[X+1]){X+=2,D++;do;while(le[++X]===le[++D]&&le[++X]===le[++D]&&le[++X]===le[++D]&&le[++X]===le[++D]&&le[++X]===le[++D]&&le[++X]===le[++D]&&le[++X]===le[++D]&&le[++X]===le[++D]&&X<ie);if(M=V-(ie-X),X=ie-V,te<M){if(B.match_start=G,Q<=(te=M))break;ne=le[X+te-1],ce=le[X+te]}}while((G=J[G&oe])>ee&&--$!=0);return te<=B.lookahead?te:B.lookahead}function _(B){var G,D,M,$,X,te,Q,ee,le,oe,J=B.w_size;do{if($=B.window_size-B.lookahead-B.strstart,B.strstart>=J+(J-R)){for(b.arraySet(B.window,B.window,J,J,0),B.match_start-=J,B.strstart-=J,B.block_start-=J,G=D=B.hash_size;M=B.head[--G],B.head[G]=J<=M?M-J:0,--D;);for(G=D=J;M=B.prev[--G],B.prev[G]=J<=M?M-J:0,--D;);$+=J}if(B.strm.avail_in===0)break;if(te=B.strm,Q=B.window,ee=B.strstart+B.lookahead,oe=void 0,(le=$)<(oe=te.avail_in)&&(oe=le),D=oe===0?0:(te.avail_in-=oe,b.arraySet(Q,te.input,te.next_in,oe,ee),te.state.wrap===1?te.adler=w(te.adler,Q,oe,ee):te.state.wrap===2&&(te.adler=k(te.adler,Q,oe,ee)),te.next_in+=oe,te.total_in+=oe,oe),B.lookahead+=D,B.lookahead+B.insert>=3)for(X=B.strstart-B.insert,B.ins_h=B.window[X],B.ins_h=(B.ins_h<<B.hash_shift^B.window[X+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[X+3-1])&B.hash_mask,B.prev[X&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=X,X++,B.insert--,!(B.lookahead+B.insert<3)););}while(B.lookahead<R&&B.strm.avail_in!==0)}function S(B,G){for(var D,M;;){if(B.lookahead<R){if(_(B),B.lookahead<R&&G===0)return 1;if(B.lookahead===0)break}if(D=0,B.lookahead>=3&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,D=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),D!==0&&B.strstart-D<=B.w_size-R&&(B.match_length=x(B,D)),B.match_length>=3)if(M=g._tr_tally(B,B.strstart-B.match_start,B.match_length-3),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=3){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,D=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else M=g._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(M&&(P(B,!1),B.strm.avail_out===0))return 1}return B.insert=B.strstart<2?B.strstart:2,G===4?(P(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?1:2}function C(B,G){for(var D,M,$;;){if(B.lookahead<R){if(_(B),B.lookahead<R&&G===0)return 1;if(B.lookahead===0)break}if(D=0,B.lookahead>=3&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,D=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=2,D!==0&&B.prev_length<B.max_lazy_match&&B.strstart-D<=B.w_size-R&&(B.match_length=x(B,D),B.match_length<=5&&(B.strategy===1||B.match_length===3&&4096<B.strstart-B.match_start)&&(B.match_length=2)),B.prev_length>=3&&B.match_length<=B.prev_length){for($=B.strstart+B.lookahead-3,M=g._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-3),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=$&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,D=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=2,B.strstart++,M&&(P(B,!1),B.strm.avail_out===0))return 1}else if(B.match_available){if((M=g._tr_tally(B,0,B.window[B.strstart-1]))&&P(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return 1}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(M=g._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<2?B.strstart:2,G===4?(P(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?1:2}function j(B,G,D,M,$){this.good_length=B,this.max_lazy=G,this.nice_length=D,this.max_chain=M,this.func=$}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(1146),this.dyn_dtree=new b.Buf16(122),this.bl_tree=new b.Buf16(78),O(this.dyn_ltree),O(this.dyn_dtree),O(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(16),this.heap=new b.Buf16(573),O(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(573),O(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(B){var G;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=2,(G=B.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?42:N,B.adler=G.wrap===2?0:1,G.last_flush=0,g._tr_init(G),0):L(B,U)}function W(B){var G=H(B);return G===0&&function(D){D.window_size=2*D.w_size,O(D.head),D.max_lazy_match=p[D.level].max_lazy,D.good_match=p[D.level].good_length,D.nice_match=p[D.level].nice_length,D.max_chain_length=p[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=2,D.match_available=0,D.ins_h=0}(B.state),G}function Y(B,G,D,M,$,X){if(!B)return U;var te=1;if(G===-1&&(G=6),M<0?(te=0,M=-M):15<M&&(te=2,M-=16),$<1||9<$||D!==8||M<8||15<M||G<0||9<G||X<0||4<X)return L(B,U);M===8&&(M=9);var Q=new F;return(B.state=Q).strm=B,Q.wrap=te,Q.gzhead=null,Q.w_bits=M,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=$+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+3-1)/3),Q.window=new b.Buf8(2*Q.w_size),Q.head=new b.Buf16(Q.hash_size),Q.prev=new b.Buf16(Q.w_size),Q.lit_bufsize=1<<$+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new b.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=G,Q.strategy=X,Q.method=D,W(B)}p=[new j(0,0,0,0,function(B,G){var D=65535;for(D>B.pending_buf_size-5&&(D=B.pending_buf_size-5);;){if(B.lookahead<=1){if(_(B),B.lookahead===0&&G===0)return 1;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var M=B.block_start+D;if((B.strstart===0||B.strstart>=M)&&(B.lookahead=B.strstart-M,B.strstart=M,P(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-R&&(P(B,!1),B.strm.avail_out===0))return 1}return B.insert=0,G===4?(P(B,!0),B.strm.avail_out===0?3:4):(B.strstart>B.block_start&&(P(B,!1),B.strm.avail_out),1)}),new j(4,4,8,4,S),new j(4,5,16,8,S),new j(4,6,32,32,S),new j(4,4,16,16,C),new j(8,16,32,32,C),new j(8,16,128,128,C),new j(8,32,128,256,C),new j(32,128,258,1024,C),new j(32,258,258,4096,C)],y.deflateInit=function(B,G){return Y(B,G,8,15,8,0)},y.deflateInit2=Y,y.deflateReset=W,y.deflateResetKeep=H,y.deflateSetHeader=function(B,G){return B&&B.state?B.state.wrap!==2?U:(B.state.gzhead=G,0):U},y.deflate=function(B,G){var D,M,$,X;if(!B||!B.state||5<G||G<0)return B?L(B,U):U;if(M=B.state,!B.output||!B.input&&B.avail_in!==0||M.status===666&&G!==4)return L(B,B.avail_out===0?-5:U);if(M.strm=B,D=M.last_flush,M.last_flush=G,M.status===42)if(M.wrap===2)B.adler=0,E(M,31),E(M,139),E(M,8),M.gzhead?(E(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),E(M,255&M.gzhead.time),E(M,M.gzhead.time>>8&255),E(M,M.gzhead.time>>16&255),E(M,M.gzhead.time>>24&255),E(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),E(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(E(M,255&M.gzhead.extra.length),E(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(B.adler=k(B.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(E(M,0),E(M,0),E(M,0),E(M,0),E(M,0),E(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),E(M,3),M.status=N);else{var te=8+(M.w_bits-8<<4)<<8;te|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(te|=32),te+=31-te%31,M.status=N,v(M,te),M.strstart!==0&&(v(M,B.adler>>>16),v(M,65535&B.adler)),B.adler=1}if(M.status===69)if(M.gzhead.extra){for($=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>$&&(B.adler=k(B.adler,M.pending_buf,M.pending-$,$)),T(B),$=M.pending,M.pending!==M.pending_buf_size));)E(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>$&&(B.adler=k(B.adler,M.pending_buf,M.pending-$,$)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){$=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>$&&(B.adler=k(B.adler,M.pending_buf,M.pending-$,$)),T(B),$=M.pending,M.pending===M.pending_buf_size)){X=1;break}X=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,E(M,X)}while(X!==0);M.gzhead.hcrc&&M.pending>$&&(B.adler=k(B.adler,M.pending_buf,M.pending-$,$)),X===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){$=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>$&&(B.adler=k(B.adler,M.pending_buf,M.pending-$,$)),T(B),$=M.pending,M.pending===M.pending_buf_size)){X=1;break}X=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,E(M,X)}while(X!==0);M.gzhead.hcrc&&M.pending>$&&(B.adler=k(B.adler,M.pending_buf,M.pending-$,$)),X===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&T(B),M.pending+2<=M.pending_buf_size&&(E(M,255&B.adler),E(M,B.adler>>8&255),B.adler=0,M.status=N)):M.status=N),M.pending!==0){if(T(B),B.avail_out===0)return M.last_flush=-1,0}else if(B.avail_in===0&&z(G)<=z(D)&&G!==4)return L(B,-5);if(M.status===666&&B.avail_in!==0)return L(B,-5);if(B.avail_in!==0||M.lookahead!==0||G!==0&&M.status!==666){var Q=M.strategy===2?function(ee,le){for(var oe;;){if(ee.lookahead===0&&(_(ee),ee.lookahead===0)){if(le===0)return 1;break}if(ee.match_length=0,oe=g._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,oe&&(P(ee,!1),ee.strm.avail_out===0))return 1}return ee.insert=0,le===4?(P(ee,!0),ee.strm.avail_out===0?3:4):ee.last_lit&&(P(ee,!1),ee.strm.avail_out===0)?1:2}(M,G):M.strategy===3?function(ee,le){for(var oe,J,ie,ne,ce=ee.window;;){if(ee.lookahead<=V){if(_(ee),ee.lookahead<=V&&le===0)return 1;if(ee.lookahead===0)break}if(ee.match_length=0,ee.lookahead>=3&&0<ee.strstart&&(J=ce[ie=ee.strstart-1])===ce[++ie]&&J===ce[++ie]&&J===ce[++ie]){ne=ee.strstart+V;do;while(J===ce[++ie]&&J===ce[++ie]&&J===ce[++ie]&&J===ce[++ie]&&J===ce[++ie]&&J===ce[++ie]&&J===ce[++ie]&&J===ce[++ie]&&ie<ne);ee.match_length=V-(ne-ie),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=3?(oe=g._tr_tally(ee,1,ee.match_length-3),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(oe=g._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),oe&&(P(ee,!1),ee.strm.avail_out===0))return 1}return ee.insert=0,le===4?(P(ee,!0),ee.strm.avail_out===0?3:4):ee.last_lit&&(P(ee,!1),ee.strm.avail_out===0)?1:2}(M,G):p[M.level].func(M,G);if(Q!==3&&Q!==4||(M.status=666),Q===1||Q===3)return B.avail_out===0&&(M.last_flush=-1),0;if(Q===2&&(G===1?g._tr_align(M):G!==5&&(g._tr_stored_block(M,0,0,!1),G===3&&(O(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),T(B),B.avail_out===0))return M.last_flush=-1,0}return G!==4?0:M.wrap<=0?1:(M.wrap===2?(E(M,255&B.adler),E(M,B.adler>>8&255),E(M,B.adler>>16&255),E(M,B.adler>>24&255),E(M,255&B.total_in),E(M,B.total_in>>8&255),E(M,B.total_in>>16&255),E(M,B.total_in>>24&255)):(v(M,B.adler>>>16),v(M,65535&B.adler)),T(B),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?0:1)},y.deflateEnd=function(B){var G;return B&&B.state?(G=B.state.status)!==42&&G!==69&&G!==73&&G!==91&&G!==103&&G!==N&&G!==666?L(B,U):(B.state=null,G===N?L(B,-3):0):U},y.deflateSetDictionary=function(B,G){var D,M,$,X,te,Q,ee,le,oe=G.length;if(!B||!B.state||(X=(D=B.state).wrap)===2||X===1&&D.status!==42||D.lookahead)return U;for(X===1&&(B.adler=w(B.adler,G,oe,0)),D.wrap=0,oe>=D.w_size&&(X===0&&(O(D.head),D.strstart=0,D.block_start=0,D.insert=0),le=new b.Buf8(D.w_size),b.arraySet(le,G,oe-D.w_size,D.w_size,0),G=le,oe=D.w_size),te=B.avail_in,Q=B.next_in,ee=B.input,B.avail_in=oe,B.next_in=0,B.input=G,_(D);D.lookahead>=3;){for(M=D.strstart,$=D.lookahead-2;D.ins_h=(D.ins_h<<D.hash_shift^D.window[M+3-1])&D.hash_mask,D.prev[M&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=M,M++,--$;);D.strstart=M,D.lookahead=2,_(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=2,D.match_available=0,B.next_in=Q,B.input=ee,B.avail_in=te,D.wrap=X,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,m,y){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,m,y){m.exports=function(p,b){var g,w,k,A,U,V,R,N,L,z,O,T,P,E,v,x,_,S,C,j,F,H,W,Y,B;g=p.state,w=p.next_in,Y=p.input,k=w+(p.avail_in-5),A=p.next_out,B=p.output,U=A-(b-p.avail_out),V=A+(p.avail_out-257),R=g.dmax,N=g.wsize,L=g.whave,z=g.wnext,O=g.window,T=g.hold,P=g.bits,E=g.lencode,v=g.distcode,x=(1<<g.lenbits)-1,_=(1<<g.distbits)-1;e:do{P<15&&(T+=Y[w++]<<P,P+=8,T+=Y[w++]<<P,P+=8),S=E[T&x];t:for(;;){if(T>>>=C=S>>>24,P-=C,(C=S>>>16&255)==0)B[A++]=65535&S;else{if(!(16&C)){if(!(64&C)){S=E[(65535&S)+(T&(1<<C)-1)];continue t}if(32&C){g.mode=12;break e}p.msg="invalid literal/length code",g.mode=30;break e}j=65535&S,(C&=15)&&(P<C&&(T+=Y[w++]<<P,P+=8),j+=T&(1<<C)-1,T>>>=C,P-=C),P<15&&(T+=Y[w++]<<P,P+=8,T+=Y[w++]<<P,P+=8),S=v[T&_];r:for(;;){if(T>>>=C=S>>>24,P-=C,!(16&(C=S>>>16&255))){if(!(64&C)){S=v[(65535&S)+(T&(1<<C)-1)];continue r}p.msg="invalid distance code",g.mode=30;break e}if(F=65535&S,P<(C&=15)&&(T+=Y[w++]<<P,(P+=8)<C&&(T+=Y[w++]<<P,P+=8)),R<(F+=T&(1<<C)-1)){p.msg="invalid distance too far back",g.mode=30;break e}if(T>>>=C,P-=C,(C=A-U)<F){if(L<(C=F-C)&&g.sane){p.msg="invalid distance too far back",g.mode=30;break e}if(W=O,(H=0)===z){if(H+=N-C,C<j){for(j-=C;B[A++]=O[H++],--C;);H=A-F,W=B}}else if(z<C){if(H+=N+z-C,(C-=z)<j){for(j-=C;B[A++]=O[H++],--C;);if(H=0,z<j){for(j-=C=z;B[A++]=O[H++],--C;);H=A-F,W=B}}}else if(H+=z-C,C<j){for(j-=C;B[A++]=O[H++],--C;);H=A-F,W=B}for(;2<j;)B[A++]=W[H++],B[A++]=W[H++],B[A++]=W[H++],j-=3;j&&(B[A++]=W[H++],1<j&&(B[A++]=W[H++]))}else{for(H=A-F;B[A++]=B[H++],B[A++]=B[H++],B[A++]=B[H++],2<(j-=3););j&&(B[A++]=B[H++],1<j&&(B[A++]=B[H++]))}break}}break}}while(w<k&&A<V);w-=j=P>>3,T&=(1<<(P-=j<<3))-1,p.next_in=w,p.next_out=A,p.avail_in=w<k?k-w+5:5-(w-k),p.avail_out=A<V?V-A+257:257-(A-V),g.hold=T,g.bits=P}},{}],49:[function(f,m,y){var p=f("../utils/common"),b=f("./adler32"),g=f("./crc32"),w=f("./inffast"),k=f("./inftrees"),A=-2;function U(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function V(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(x){var _;return x&&x.state?(_=x.state,x.total_in=x.total_out=_.total=0,x.msg="",_.wrap&&(x.adler=1&_.wrap),_.mode=1,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new p.Buf32(852),_.distcode=_.distdyn=new p.Buf32(592),_.sane=1,_.back=-1,0):A}function N(x){var _;return x&&x.state?((_=x.state).wsize=0,_.whave=0,_.wnext=0,R(x)):A}function L(x,_){var S,C;return x&&x.state?(C=x.state,_<0?(S=0,_=-_):(S=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?A:(C.window!==null&&C.wbits!==_&&(C.window=null),C.wrap=S,C.wbits=_,N(x))):A}function z(x,_){var S,C;return x?(C=new V,(x.state=C).window=null,(S=L(x,_))!==0&&(x.state=null),S):A}var O,T,P=!0;function E(x){if(P){var _;for(O=new p.Buf32(512),T=new p.Buf32(32),_=0;_<144;)x.lens[_++]=8;for(;_<256;)x.lens[_++]=9;for(;_<280;)x.lens[_++]=7;for(;_<288;)x.lens[_++]=8;for(k(1,x.lens,0,288,O,0,x.work,{bits:9}),_=0;_<32;)x.lens[_++]=5;k(2,x.lens,0,32,T,0,x.work,{bits:5}),P=!1}x.lencode=O,x.lenbits=9,x.distcode=T,x.distbits=5}function v(x,_,S,C){var j,F=x.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new p.Buf8(F.wsize)),C>=F.wsize?(p.arraySet(F.window,_,S-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(C<(j=F.wsize-F.wnext)&&(j=C),p.arraySet(F.window,_,S-C,j,F.wnext),(C-=j)?(p.arraySet(F.window,_,S-C,C,0),F.wnext=C,F.whave=F.wsize):(F.wnext+=j,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=j))),0}y.inflateReset=N,y.inflateReset2=L,y.inflateResetKeep=R,y.inflateInit=function(x){return z(x,15)},y.inflateInit2=z,y.inflate=function(x,_){var S,C,j,F,H,W,Y,B,G,D,M,$,X,te,Q,ee,le,oe,J,ie,ne,ce,ue,fe,me=0,ye=new p.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return A;(S=x.state).mode===12&&(S.mode=13),H=x.next_out,j=x.output,Y=x.avail_out,F=x.next_in,C=x.input,W=x.avail_in,B=S.hold,G=S.bits,D=W,M=Y,ce=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;G<16;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if(2&S.wrap&&B===35615){ye[S.check=0]=255&B,ye[1]=B>>>8&255,S.check=g(S.check,ye,2,0),G=B=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&B)<<8)+(B>>8))%31){x.msg="incorrect header check",S.mode=30;break}if((15&B)!=8){x.msg="unknown compression method",S.mode=30;break}if(G-=4,ne=8+(15&(B>>>=4)),S.wbits===0)S.wbits=ne;else if(ne>S.wbits){x.msg="invalid window size",S.mode=30;break}S.dmax=1<<ne,x.adler=S.check=1,S.mode=512&B?10:12,G=B=0;break;case 2:for(;G<16;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if(S.flags=B,(255&S.flags)!=8){x.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){x.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=B>>8&1),512&S.flags&&(ye[0]=255&B,ye[1]=B>>>8&255,S.check=g(S.check,ye,2,0)),G=B=0,S.mode=3;case 3:for(;G<32;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}S.head&&(S.head.time=B),512&S.flags&&(ye[0]=255&B,ye[1]=B>>>8&255,ye[2]=B>>>16&255,ye[3]=B>>>24&255,S.check=g(S.check,ye,4,0)),G=B=0,S.mode=4;case 4:for(;G<16;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}S.head&&(S.head.xflags=255&B,S.head.os=B>>8),512&S.flags&&(ye[0]=255&B,ye[1]=B>>>8&255,S.check=g(S.check,ye,2,0)),G=B=0,S.mode=5;case 5:if(1024&S.flags){for(;G<16;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}S.length=B,S.head&&(S.head.extra_len=B),512&S.flags&&(ye[0]=255&B,ye[1]=B>>>8&255,S.check=g(S.check,ye,2,0)),G=B=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(W<($=S.length)&&($=W),$&&(S.head&&(ne=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),p.arraySet(S.head.extra,C,F,$,ne)),512&S.flags&&(S.check=g(S.check,C,$,F)),W-=$,F+=$,S.length-=$),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(W===0)break e;for($=0;ne=C[F+$++],S.head&&ne&&S.length<65536&&(S.head.name+=String.fromCharCode(ne)),ne&&$<W;);if(512&S.flags&&(S.check=g(S.check,C,$,F)),W-=$,F+=$,ne)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(W===0)break e;for($=0;ne=C[F+$++],S.head&&ne&&S.length<65536&&(S.head.comment+=String.fromCharCode(ne)),ne&&$<W;);if(512&S.flags&&(S.check=g(S.check,C,$,F)),W-=$,F+=$,ne)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;G<16;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if(B!==(65535&S.check)){x.msg="header crc mismatch",S.mode=30;break}G=B=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),x.adler=S.check=0,S.mode=12;break;case 10:for(;G<32;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}x.adler=S.check=U(B),G=B=0,S.mode=11;case 11:if(S.havedict===0)return x.next_out=H,x.avail_out=Y,x.next_in=F,x.avail_in=W,S.hold=B,S.bits=G,2;x.adler=S.check=1,S.mode=12;case 12:if(_===5||_===6)break e;case 13:if(S.last){B>>>=7&G,G-=7&G,S.mode=27;break}for(;G<3;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}switch(S.last=1&B,G-=1,3&(B>>>=1)){case 0:S.mode=14;break;case 1:if(E(S),S.mode=20,_!==6)break;B>>>=2,G-=2;break e;case 2:S.mode=17;break;case 3:x.msg="invalid block type",S.mode=30}B>>>=2,G-=2;break;case 14:for(B>>>=7&G,G-=7&G;G<32;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if((65535&B)!=(B>>>16^65535)){x.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&B,G=B=0,S.mode=15,_===6)break e;case 15:S.mode=16;case 16:if($=S.length){if(W<$&&($=W),Y<$&&($=Y),$===0)break e;p.arraySet(j,C,F,$,H),W-=$,F+=$,Y-=$,H+=$,S.length-=$;break}S.mode=12;break;case 17:for(;G<14;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if(S.nlen=257+(31&B),B>>>=5,G-=5,S.ndist=1+(31&B),B>>>=5,G-=5,S.ncode=4+(15&B),B>>>=4,G-=4,286<S.nlen||30<S.ndist){x.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;G<3;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}S.lens[xe[S.have++]]=7&B,B>>>=3,G-=3}for(;S.have<19;)S.lens[xe[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ue={bits:S.lenbits},ce=k(0,S.lens,0,19,S.lencode,0,S.work,ue),S.lenbits=ue.bits,ce){x.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ee=(me=S.lencode[B&(1<<S.lenbits)-1])>>>16&255,le=65535&me,!((Q=me>>>24)<=G);){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if(le<16)B>>>=Q,G-=Q,S.lens[S.have++]=le;else{if(le===16){for(fe=Q+2;G<fe;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if(B>>>=Q,G-=Q,S.have===0){x.msg="invalid bit length repeat",S.mode=30;break}ne=S.lens[S.have-1],$=3+(3&B),B>>>=2,G-=2}else if(le===17){for(fe=Q+3;G<fe;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}G-=Q,ne=0,$=3+(7&(B>>>=Q)),B>>>=3,G-=3}else{for(fe=Q+7;G<fe;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}G-=Q,ne=0,$=11+(127&(B>>>=Q)),B>>>=7,G-=7}if(S.have+$>S.nlen+S.ndist){x.msg="invalid bit length repeat",S.mode=30;break}for(;$--;)S.lens[S.have++]=ne}}if(S.mode===30)break;if(S.lens[256]===0){x.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ue={bits:S.lenbits},ce=k(1,S.lens,0,S.nlen,S.lencode,0,S.work,ue),S.lenbits=ue.bits,ce){x.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ue={bits:S.distbits},ce=k(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ue),S.distbits=ue.bits,ce){x.msg="invalid distances set",S.mode=30;break}if(S.mode=20,_===6)break e;case 20:S.mode=21;case 21:if(6<=W&&258<=Y){x.next_out=H,x.avail_out=Y,x.next_in=F,x.avail_in=W,S.hold=B,S.bits=G,w(x,M),H=x.next_out,j=x.output,Y=x.avail_out,F=x.next_in,C=x.input,W=x.avail_in,B=S.hold,G=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ee=(me=S.lencode[B&(1<<S.lenbits)-1])>>>16&255,le=65535&me,!((Q=me>>>24)<=G);){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if(ee&&!(240&ee)){for(oe=Q,J=ee,ie=le;ee=(me=S.lencode[ie+((B&(1<<oe+J)-1)>>oe)])>>>16&255,le=65535&me,!(oe+(Q=me>>>24)<=G);){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}B>>>=oe,G-=oe,S.back+=oe}if(B>>>=Q,G-=Q,S.back+=Q,S.length=le,ee===0){S.mode=26;break}if(32&ee){S.back=-1,S.mode=12;break}if(64&ee){x.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ee,S.mode=22;case 22:if(S.extra){for(fe=S.extra;G<fe;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}S.length+=B&(1<<S.extra)-1,B>>>=S.extra,G-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ee=(me=S.distcode[B&(1<<S.distbits)-1])>>>16&255,le=65535&me,!((Q=me>>>24)<=G);){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if(!(240&ee)){for(oe=Q,J=ee,ie=le;ee=(me=S.distcode[ie+((B&(1<<oe+J)-1)>>oe)])>>>16&255,le=65535&me,!(oe+(Q=me>>>24)<=G);){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}B>>>=oe,G-=oe,S.back+=oe}if(B>>>=Q,G-=Q,S.back+=Q,64&ee){x.msg="invalid distance code",S.mode=30;break}S.offset=le,S.extra=15&ee,S.mode=24;case 24:if(S.extra){for(fe=S.extra;G<fe;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}S.offset+=B&(1<<S.extra)-1,B>>>=S.extra,G-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){x.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Y===0)break e;if($=M-Y,S.offset>$){if(($=S.offset-$)>S.whave&&S.sane){x.msg="invalid distance too far back",S.mode=30;break}X=$>S.wnext?($-=S.wnext,S.wsize-$):S.wnext-$,$>S.length&&($=S.length),te=S.window}else te=j,X=H-S.offset,$=S.length;for(Y<$&&($=Y),Y-=$,S.length-=$;j[H++]=te[X++],--$;);S.length===0&&(S.mode=21);break;case 26:if(Y===0)break e;j[H++]=S.length,Y--,S.mode=21;break;case 27:if(S.wrap){for(;G<32;){if(W===0)break e;W--,B|=C[F++]<<G,G+=8}if(M-=Y,x.total_out+=M,S.total+=M,M&&(x.adler=S.check=S.flags?g(S.check,j,M,H-M):b(S.check,j,M,H-M)),M=Y,(S.flags?B:U(B))!==S.check){x.msg="incorrect data check",S.mode=30;break}G=B=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;G<32;){if(W===0)break e;W--,B+=C[F++]<<G,G+=8}if(B!==(4294967295&S.total)){x.msg="incorrect length check",S.mode=30;break}G=B=0}S.mode=29;case 29:ce=1;break e;case 30:ce=-3;break e;case 31:return-4;case 32:default:return A}return x.next_out=H,x.avail_out=Y,x.next_in=F,x.avail_in=W,S.hold=B,S.bits=G,(S.wsize||M!==x.avail_out&&S.mode<30&&(S.mode<27||_!==4))&&v(x,x.output,x.next_out,M-x.avail_out)?(S.mode=31,-4):(D-=x.avail_in,M-=x.avail_out,x.total_in+=D,x.total_out+=M,S.total+=M,S.wrap&&M&&(x.adler=S.check=S.flags?g(S.check,j,M,x.next_out-M):b(S.check,j,M,x.next_out-M)),x.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(D==0&&M===0||_===4)&&ce===0&&(ce=-5),ce)},y.inflateEnd=function(x){if(!x||!x.state)return A;var _=x.state;return _.window&&(_.window=null),x.state=null,0},y.inflateGetHeader=function(x,_){var S;return x&&x.state&&2&(S=x.state).wrap?((S.head=_).done=!1,0):A},y.inflateSetDictionary=function(x,_){var S,C=_.length;return x&&x.state?(S=x.state).wrap!==0&&S.mode!==11?A:S.mode===11&&b(1,_,C,0)!==S.check?-3:v(x,_,C,C)?(S.mode=31,-4):(S.havedict=1,0):A},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,m,y){var p=f("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(A,U,V,R,N,L,z,O){var T,P,E,v,x,_,S,C,j,F=O.bits,H=0,W=0,Y=0,B=0,G=0,D=0,M=0,$=0,X=0,te=0,Q=null,ee=0,le=new p.Buf16(16),oe=new p.Buf16(16),J=null,ie=0;for(H=0;H<=15;H++)le[H]=0;for(W=0;W<R;W++)le[U[V+W]]++;for(G=F,B=15;1<=B&&le[B]===0;B--);if(B<G&&(G=B),B===0)return N[L++]=20971520,N[L++]=20971520,O.bits=1,0;for(Y=1;Y<B&&le[Y]===0;Y++);for(G<Y&&(G=Y),H=$=1;H<=15;H++)if($<<=1,($-=le[H])<0)return-1;if(0<$&&(A===0||B!==1))return-1;for(oe[1]=0,H=1;H<15;H++)oe[H+1]=oe[H]+le[H];for(W=0;W<R;W++)U[V+W]!==0&&(z[oe[U[V+W]]++]=W);if(_=A===0?(Q=J=z,19):A===1?(Q=b,ee-=257,J=g,ie-=257,256):(Q=w,J=k,-1),H=Y,x=L,M=W=te=0,E=-1,v=(X=1<<(D=G))-1,A===1&&852<X||A===2&&592<X)return 1;for(;;){for(S=H-M,j=z[W]<_?(C=0,z[W]):z[W]>_?(C=J[ie+z[W]],Q[ee+z[W]]):(C=96,0),T=1<<H-M,Y=P=1<<D;N[x+(te>>M)+(P-=T)]=S<<24|C<<16|j|0,P!==0;);for(T=1<<H-1;te&T;)T>>=1;if(T!==0?(te&=T-1,te+=T):te=0,W++,--le[H]==0){if(H===B)break;H=U[V+z[W]]}if(G<H&&(te&v)!==E){for(M===0&&(M=G),x+=Y,$=1<<(D=H-M);D+M<B&&!(($-=le[D+M])<=0);)D++,$<<=1;if(X+=1<<D,A===1&&852<X||A===2&&592<X)return 1;N[E=te&v]=G<<24|D<<16|x-L|0}}return te!==0&&(N[x+te]=H-M<<24|64<<16|0),O.bits=G,0}},{"../utils/common":41}],51:[function(f,m,y){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,m,y){var p=f("../utils/common");function b(J){for(var ie=J.length;0<=--ie;)J[ie]=0}var g=256,w=286,k=30,A=15,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(576);b(L);var z=new Array(60);b(z);var O=new Array(512);b(O);var T=new Array(256);b(T);var P=new Array(29);b(P);var E,v,x,_=new Array(k);function S(J,ie,ne,ce,ue){this.static_tree=J,this.extra_bits=ie,this.extra_base=ne,this.elems=ce,this.max_length=ue,this.has_stree=J&&J.length}function C(J,ie){this.dyn_tree=J,this.max_code=0,this.stat_desc=ie}function j(J){return J<256?O[J]:O[256+(J>>>7)]}function F(J,ie){J.pending_buf[J.pending++]=255&ie,J.pending_buf[J.pending++]=ie>>>8&255}function H(J,ie,ne){J.bi_valid>16-ne?(J.bi_buf|=ie<<J.bi_valid&65535,F(J,J.bi_buf),J.bi_buf=ie>>16-J.bi_valid,J.bi_valid+=ne-16):(J.bi_buf|=ie<<J.bi_valid&65535,J.bi_valid+=ne)}function W(J,ie,ne){H(J,ne[2*ie],ne[2*ie+1])}function Y(J,ie){for(var ne=0;ne|=1&J,J>>>=1,ne<<=1,0<--ie;);return ne>>>1}function B(J,ie,ne){var ce,ue,fe=new Array(16),me=0;for(ce=1;ce<=A;ce++)fe[ce]=me=me+ne[ce-1]<<1;for(ue=0;ue<=ie;ue++){var ye=J[2*ue+1];ye!==0&&(J[2*ue]=Y(fe[ye]++,ye))}}function G(J){var ie;for(ie=0;ie<w;ie++)J.dyn_ltree[2*ie]=0;for(ie=0;ie<k;ie++)J.dyn_dtree[2*ie]=0;for(ie=0;ie<19;ie++)J.bl_tree[2*ie]=0;J.dyn_ltree[512]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function D(J){8<J.bi_valid?F(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function M(J,ie,ne,ce){var ue=2*ie,fe=2*ne;return J[ue]<J[fe]||J[ue]===J[fe]&&ce[ie]<=ce[ne]}function $(J,ie,ne){for(var ce=J.heap[ne],ue=ne<<1;ue<=J.heap_len&&(ue<J.heap_len&&M(ie,J.heap[ue+1],J.heap[ue],J.depth)&&ue++,!M(ie,ce,J.heap[ue],J.depth));)J.heap[ne]=J.heap[ue],ne=ue,ue<<=1;J.heap[ne]=ce}function X(J,ie,ne){var ce,ue,fe,me,ye=0;if(J.last_lit!==0)for(;ce=J.pending_buf[J.d_buf+2*ye]<<8|J.pending_buf[J.d_buf+2*ye+1],ue=J.pending_buf[J.l_buf+ye],ye++,ce===0?W(J,ue,ie):(W(J,(fe=T[ue])+g+1,ie),(me=U[fe])!==0&&H(J,ue-=P[fe],me),W(J,fe=j(--ce),ne),(me=V[fe])!==0&&H(J,ce-=_[fe],me)),ye<J.last_lit;);W(J,256,ie)}function te(J,ie){var ne,ce,ue,fe=ie.dyn_tree,me=ie.stat_desc.static_tree,ye=ie.stat_desc.has_stree,xe=ie.stat_desc.elems,Te=-1;for(J.heap_len=0,J.heap_max=573,ne=0;ne<xe;ne++)fe[2*ne]!==0?(J.heap[++J.heap_len]=Te=ne,J.depth[ne]=0):fe[2*ne+1]=0;for(;J.heap_len<2;)fe[2*(ue=J.heap[++J.heap_len]=Te<2?++Te:0)]=1,J.depth[ue]=0,J.opt_len--,ye&&(J.static_len-=me[2*ue+1]);for(ie.max_code=Te,ne=J.heap_len>>1;1<=ne;ne--)$(J,fe,ne);for(ue=xe;ne=J.heap[1],J.heap[1]=J.heap[J.heap_len--],$(J,fe,1),ce=J.heap[1],J.heap[--J.heap_max]=ne,J.heap[--J.heap_max]=ce,fe[2*ue]=fe[2*ne]+fe[2*ce],J.depth[ue]=(J.depth[ne]>=J.depth[ce]?J.depth[ne]:J.depth[ce])+1,fe[2*ne+1]=fe[2*ce+1]=ue,J.heap[1]=ue++,$(J,fe,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(ke,Pe){var We,He,Ge,ze,De,Re,je=Pe.dyn_tree,$e=Pe.max_code,Fe=Pe.stat_desc.static_tree,mt=Pe.stat_desc.has_stree,Rt=Pe.stat_desc.extra_bits,Ke=Pe.stat_desc.extra_base,gt=Pe.stat_desc.max_length,pt=0;for(ze=0;ze<=A;ze++)ke.bl_count[ze]=0;for(je[2*ke.heap[ke.heap_max]+1]=0,We=ke.heap_max+1;We<573;We++)gt<(ze=je[2*je[2*(He=ke.heap[We])+1]+1]+1)&&(ze=gt,pt++),je[2*He+1]=ze,$e<He||(ke.bl_count[ze]++,De=0,Ke<=He&&(De=Rt[He-Ke]),Re=je[2*He],ke.opt_len+=Re*(ze+De),mt&&(ke.static_len+=Re*(Fe[2*He+1]+De)));if(pt!==0){do{for(ze=gt-1;ke.bl_count[ze]===0;)ze--;ke.bl_count[ze]--,ke.bl_count[ze+1]+=2,ke.bl_count[gt]--,pt-=2}while(0<pt);for(ze=gt;ze!==0;ze--)for(He=ke.bl_count[ze];He!==0;)$e<(Ge=ke.heap[--We])||(je[2*Ge+1]!==ze&&(ke.opt_len+=(ze-je[2*Ge+1])*je[2*Ge],je[2*Ge+1]=ze),He--)}}(J,ie),B(fe,Te,J.bl_count)}function Q(J,ie,ne){var ce,ue,fe=-1,me=ie[1],ye=0,xe=7,Te=4;for(me===0&&(xe=138,Te=3),ie[2*(ne+1)+1]=65535,ce=0;ce<=ne;ce++)ue=me,me=ie[2*(ce+1)+1],++ye<xe&&ue===me||(ye<Te?J.bl_tree[2*ue]+=ye:ue!==0?(ue!==fe&&J.bl_tree[2*ue]++,J.bl_tree[32]++):ye<=10?J.bl_tree[34]++:J.bl_tree[36]++,fe=ue,Te=(ye=0)===me?(xe=138,3):ue===me?(xe=6,3):(xe=7,4))}function ee(J,ie,ne){var ce,ue,fe=-1,me=ie[1],ye=0,xe=7,Te=4;for(me===0&&(xe=138,Te=3),ce=0;ce<=ne;ce++)if(ue=me,me=ie[2*(ce+1)+1],!(++ye<xe&&ue===me)){if(ye<Te)for(;W(J,ue,J.bl_tree),--ye!=0;);else ue!==0?(ue!==fe&&(W(J,ue,J.bl_tree),ye--),W(J,16,J.bl_tree),H(J,ye-3,2)):ye<=10?(W(J,17,J.bl_tree),H(J,ye-3,3)):(W(J,18,J.bl_tree),H(J,ye-11,7));fe=ue,Te=(ye=0)===me?(xe=138,3):ue===me?(xe=6,3):(xe=7,4)}}b(_);var le=!1;function oe(J,ie,ne,ce){H(J,0+(ce?1:0),3),function(ue,fe,me,ye){D(ue),F(ue,me),F(ue,~me),p.arraySet(ue.pending_buf,ue.window,fe,me,ue.pending),ue.pending+=me}(J,ie,ne)}y._tr_init=function(J){le||(function(){var ie,ne,ce,ue,fe,me=new Array(16);for(ue=ce=0;ue<28;ue++)for(P[ue]=ce,ie=0;ie<1<<U[ue];ie++)T[ce++]=ue;for(T[ce-1]=ue,ue=fe=0;ue<16;ue++)for(_[ue]=fe,ie=0;ie<1<<V[ue];ie++)O[fe++]=ue;for(fe>>=7;ue<k;ue++)for(_[ue]=fe<<7,ie=0;ie<1<<V[ue]-7;ie++)O[256+fe++]=ue;for(ne=0;ne<=A;ne++)me[ne]=0;for(ie=0;ie<=143;)L[2*ie+1]=8,ie++,me[8]++;for(;ie<=255;)L[2*ie+1]=9,ie++,me[9]++;for(;ie<=279;)L[2*ie+1]=7,ie++,me[7]++;for(;ie<=287;)L[2*ie+1]=8,ie++,me[8]++;for(B(L,287,me),ie=0;ie<k;ie++)z[2*ie+1]=5,z[2*ie]=Y(ie,5);E=new S(L,U,257,w,A),v=new S(z,V,0,k,A),x=new S(new Array(0),R,0,19,7)}(),le=!0),J.l_desc=new C(J.dyn_ltree,E),J.d_desc=new C(J.dyn_dtree,v),J.bl_desc=new C(J.bl_tree,x),J.bi_buf=0,J.bi_valid=0,G(J)},y._tr_stored_block=oe,y._tr_flush_block=function(J,ie,ne,ce){var ue,fe,me=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(ye){var xe,Te=4093624447;for(xe=0;xe<=31;xe++,Te>>>=1)if(1&Te&&ye.dyn_ltree[2*xe]!==0)return 0;if(ye.dyn_ltree[18]!==0||ye.dyn_ltree[20]!==0||ye.dyn_ltree[26]!==0)return 1;for(xe=32;xe<g;xe++)if(ye.dyn_ltree[2*xe]!==0)return 1;return 0}(J)),te(J,J.l_desc),te(J,J.d_desc),me=function(ye){var xe;for(Q(ye,ye.dyn_ltree,ye.l_desc.max_code),Q(ye,ye.dyn_dtree,ye.d_desc.max_code),te(ye,ye.bl_desc),xe=18;3<=xe&&ye.bl_tree[2*N[xe]+1]===0;xe--);return ye.opt_len+=3*(xe+1)+5+5+4,xe}(J),ue=J.opt_len+3+7>>>3,(fe=J.static_len+3+7>>>3)<=ue&&(ue=fe)):ue=fe=ne+5,ne+4<=ue&&ie!==-1?oe(J,ie,ne,ce):J.strategy===4||fe===ue?(H(J,2+(ce?1:0),3),X(J,L,z)):(H(J,4+(ce?1:0),3),function(ye,xe,Te,ke){var Pe;for(H(ye,xe-257,5),H(ye,Te-1,5),H(ye,ke-4,4),Pe=0;Pe<ke;Pe++)H(ye,ye.bl_tree[2*N[Pe]+1],3);ee(ye,ye.dyn_ltree,xe-1),ee(ye,ye.dyn_dtree,Te-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,me+1),X(J,J.dyn_ltree,J.dyn_dtree)),G(J),ce&&D(J)},y._tr_tally=function(J,ie,ne){return J.pending_buf[J.d_buf+2*J.last_lit]=ie>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&ie,J.pending_buf[J.l_buf+J.last_lit]=255&ne,J.last_lit++,ie===0?J.dyn_ltree[2*ne]++:(J.matches++,ie--,J.dyn_ltree[2*(T[ne]+g+1)]++,J.dyn_dtree[2*j(ie)]++),J.last_lit===J.lit_bufsize-1},y._tr_align=function(J){H(J,2,3),W(J,256,L),function(ie){ie.bi_valid===16?(F(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(f,m,y){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,m,y){(function(p){(function(b,g){if(!b.setImmediate){var w,k,A,U,V=1,R={},N=!1,L=b.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(b);z=z&&z.setTimeout?z:b,w={}.toString.call(b.process)==="[object process]"?function(E){s.nextTick(function(){T(E)})}:function(){if(b.postMessage&&!b.importScripts){var E=!0,v=b.onmessage;return b.onmessage=function(){E=!1},b.postMessage("","*"),b.onmessage=v,E}}()?(U="setImmediate$"+Math.random()+"$",b.addEventListener?b.addEventListener("message",P,!1):b.attachEvent("onmessage",P),function(E){b.postMessage(U+E,"*")}):b.MessageChannel?((A=new MessageChannel).port1.onmessage=function(E){T(E.data)},function(E){A.port2.postMessage(E)}):L&&"onreadystatechange"in L.createElement("script")?(k=L.documentElement,function(E){var v=L.createElement("script");v.onreadystatechange=function(){T(E),v.onreadystatechange=null,k.removeChild(v),v=null},k.appendChild(v)}):function(E){setTimeout(T,0,E)},z.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var v=new Array(arguments.length-1),x=0;x<v.length;x++)v[x]=arguments[x+1];var _={callback:E,args:v};return R[V]=_,w(V),V++},z.clearImmediate=O}function O(E){delete R[E]}function T(E){if(N)setTimeout(T,0,E);else{var v=R[E];if(v){N=!0;try{(function(x){var _=x.callback,S=x.args;switch(S.length){case 0:_();break;case 1:_(S[0]);break;case 2:_(S[0],S[1]);break;case 3:_(S[0],S[1],S[2]);break;default:_.apply(void 0,S)}})(v)}finally{O(E),N=!1}}}}function P(E){E.source===b&&typeof E.data=="string"&&E.data.indexOf(U)===0&&T(+E.data.slice(U.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,i){(function(s){(function(){var o=/[\\^$.*+?()[\]{}|]/g,u=RegExp(o.source),l=typeof s=="object"&&s&&s.Object===Object&&s,a=typeof self=="object"&&self&&self.Object===Object&&self,c=l||a||Function("return this")(),d=Object.prototype.toString,h=c.Symbol,f=h?h.prototype:void 0,m=f?f.toString:void 0;function y(p){if(typeof p=="string")return p;if(function(g){return typeof g=="symbol"||function(w){return!!w&&typeof w=="object"}(g)&&d.call(g)=="[object Symbol]"}(p))return m?m.call(p):"";var b=p+"";return b=="0"&&1/p==-1/0?"-0":b}n.exports=function(p){var b;return(p=(b=p)==null?"":y(b))&&u.test(p)?p.replace(o,"\\$&"):p}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,i){(function(s){(function(){var o="[object Arguments]",u="[object Map]",l="[object Object]",a="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,h=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[o]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b[u]=b["[object Number]"]=b[l]=b["[object RegExp]"]=b[a]=b["[object String]"]=b["[object WeakMap]"]=!1;var g=typeof s=="object"&&s&&s.Object===Object&&s,w=typeof self=="object"&&self&&self.Object===Object&&self,k=g||w||Function("return this")(),A=typeof i=="object"&&i&&!i.nodeType&&i,U=A&&typeof n=="object"&&n&&!n.nodeType&&n,V=U&&U.exports===A&&g.process,R=function(){try{return V&&V.binding("util")}catch{}}(),N=R&&R.isTypedArray;function L(re,de,ve,Se){for(var Be=-1,Ce=re?re.length:0;++Be<Ce;){var Me=re[Be];de(Se,Me,ve(Me),re)}return Se}function z(re,de){for(var ve=-1,Se=re?re.length:0;++ve<Se;)if(de(re[ve],ve,re))return!0;return!1}function O(re){var de=!1;if(re!=null&&typeof re.toString!="function")try{de=!!(re+"")}catch{}return de}function T(re){var de=-1,ve=Array(re.size);return re.forEach(function(Se,Be){ve[++de]=[Be,Se]}),ve}function P(re){var de=-1,ve=Array(re.size);return re.forEach(function(Se){ve[++de]=Se}),ve}var E,v,x,_=Array.prototype,S=Function.prototype,C=Object.prototype,j=k["__core-js_shared__"],F=(E=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",H=S.toString,W=C.hasOwnProperty,Y=C.toString,B=RegExp("^"+H.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=k.Symbol,D=k.Uint8Array,M=C.propertyIsEnumerable,$=_.splice,X=(v=Object.keys,x=Object,function(re){return v(x(re))}),te=Xe(k,"DataView"),Q=Xe(k,"Map"),ee=Xe(k,"Promise"),le=Xe(k,"Set"),oe=Xe(k,"WeakMap"),J=Xe(Object,"create"),ie=he(te),ne=he(Q),ce=he(ee),ue=he(le),fe=he(oe),me=G?G.prototype:void 0,ye=me?me.valueOf:void 0,xe=me?me.toString:void 0;function Te(re){var de=-1,ve=re?re.length:0;for(this.clear();++de<ve;){var Se=re[de];this.set(Se[0],Se[1])}}function ke(re){var de=-1,ve=re?re.length:0;for(this.clear();++de<ve;){var Se=re[de];this.set(Se[0],Se[1])}}function Pe(re){var de=-1,ve=re?re.length:0;for(this.clear();++de<ve;){var Se=re[de];this.set(Se[0],Se[1])}}function We(re){var de=-1,ve=re?re.length:0;for(this.__data__=new Pe;++de<ve;)this.add(re[de])}function He(re){this.__data__=new ke(re)}function Ge(re,de){var ve=Qe(re)||tt(re)?function(Me,vt){for(var ut=-1,dt=Array(Me);++ut<Me;)dt[ut]=vt(ut);return dt}(re.length,String):[],Se=ve.length,Be=!!Se;for(var Ce in re)!W.call(re,Ce)||Be&&(Ce=="length"||Ct(Ce,Se))||ve.push(Ce);return ve}function ze(re,de){for(var ve=re.length;ve--;)if(Ne(re[ve][0],de))return ve;return-1}function De(re,de,ve,Se){return je(re,function(Be,Ce,Me){de(Se,Be,ve(Be),Me)}),Se}Te.prototype.clear=function(){this.__data__=J?J(null):{}},Te.prototype.delete=function(re){return this.has(re)&&delete this.__data__[re]},Te.prototype.get=function(re){var de=this.__data__;if(J){var ve=de[re];return ve==="__lodash_hash_undefined__"?void 0:ve}return W.call(de,re)?de[re]:void 0},Te.prototype.has=function(re){var de=this.__data__;return J?de[re]!==void 0:W.call(de,re)},Te.prototype.set=function(re,de){return this.__data__[re]=J&&de===void 0?"__lodash_hash_undefined__":de,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(re){var de=this.__data__,ve=ze(de,re);return!(ve<0)&&(ve==de.length-1?de.pop():$.call(de,ve,1),!0)},ke.prototype.get=function(re){var de=this.__data__,ve=ze(de,re);return ve<0?void 0:de[ve][1]},ke.prototype.has=function(re){return ze(this.__data__,re)>-1},ke.prototype.set=function(re,de){var ve=this.__data__,Se=ze(ve,re);return Se<0?ve.push([re,de]):ve[Se][1]=de,this},Pe.prototype.clear=function(){this.__data__={hash:new Te,map:new(Q||ke),string:new Te}},Pe.prototype.delete=function(re){return xt(this,re).delete(re)},Pe.prototype.get=function(re){return xt(this,re).get(re)},Pe.prototype.has=function(re){return xt(this,re).has(re)},Pe.prototype.set=function(re,de){return xt(this,re).set(re,de),this},We.prototype.add=We.prototype.push=function(re){return this.__data__.set(re,"__lodash_hash_undefined__"),this},We.prototype.has=function(re){return this.__data__.has(re)},He.prototype.clear=function(){this.__data__=new ke},He.prototype.delete=function(re){return this.__data__.delete(re)},He.prototype.get=function(re){return this.__data__.get(re)},He.prototype.has=function(re){return this.__data__.has(re)},He.prototype.set=function(re,de){var ve=this.__data__;if(ve instanceof ke){var Se=ve.__data__;if(!Q||Se.length<199)return Se.push([re,de]),this;ve=this.__data__=new Pe(Se)}return ve.set(re,de),this};var Re,je=(Re=function(re,de){return re&&$e(re,de,tr)},function(re,de){if(re==null)return re;if(!qe(re))return Re(re,de);for(var ve=re.length,Se=-1,Be=Object(re);++Se<ve&&de(Be[Se],Se,Be)!==!1;);return re}),$e=function(re){return function(de,ve,Se){for(var Be=-1,Ce=Object(de),Me=Se(de),vt=Me.length;vt--;){var ut=Me[++Be];if(ve(Ce[ut],ut,Ce)===!1)break}return de}}();function Fe(re,de){for(var ve=0,Se=(de=rt(de,re)?[de]:nt(de)).length;re!=null&&ve<Se;)re=re[se(de[ve++])];return ve&&ve==Se?re:void 0}function mt(re,de){return re!=null&&de in Object(re)}function Rt(re,de,ve,Se,Be){return re===de||(re==null||de==null||!ft(re)&&!qt(de)?re!=re&&de!=de:function(Ce,Me,vt,ut,dt,Je){var At=Qe(Ce),Pt=Qe(Me),jt="[object Array]",zt="[object Array]";At||(jt=(jt=bt(Ce))==o?l:jt),Pt||(zt=(zt=bt(Me))==o?l:zt);var cr=jt==l&&!O(Ce),Er=zt==l&&!O(Me),Qr=jt==zt;if(Qr&&!cr)return Je||(Je=new He),At||Yt(Ce)?_t(Ce,Me,vt,ut,dt,Je):function(It,yt,kn,Nt,ai,gr,$r){switch(kn){case"[object DataView]":if(It.byteLength!=yt.byteLength||It.byteOffset!=yt.byteOffset)return!1;It=It.buffer,yt=yt.buffer;case"[object ArrayBuffer]":return!(It.byteLength!=yt.byteLength||!Nt(new D(It),new D(yt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ne(+It,+yt);case"[object Error]":return It.name==yt.name&&It.message==yt.message;case"[object RegExp]":case"[object String]":return It==yt+"";case u:var zn=T;case a:var Ii=2&gr;if(zn||(zn=P),It.size!=yt.size&&!Ii)return!1;var to=$r.get(It);if(to)return to==yt;gr|=1,$r.set(It,yt);var Ri=_t(zn(It),zn(yt),Nt,ai,gr,$r);return $r.delete(It),Ri;case"[object Symbol]":if(ye)return ye.call(It)==ye.call(yt)}return!1}(Ce,Me,jt,vt,ut,dt,Je);if(!(2&dt)){var Un=cr&&W.call(Ce,"__wrapped__"),Ci=Er&&W.call(Me,"__wrapped__");if(Un||Ci){var Jr=Un?Ce.value():Ce,Mr=Ci?Me.value():Me;return Je||(Je=new He),vt(Jr,Mr,ut,dt,Je)}}return Qr?(Je||(Je=new He),function(It,yt,kn,Nt,ai,gr){var $r=2&ai,zn=tr(It),Ii=zn.length,to=tr(yt).length;if(Ii!=to&&!$r)return!1;for(var Ri=Ii;Ri--;){var $n=zn[Ri];if(!($r?$n in yt:W.call(yt,$n)))return!1}var Ll=gr.get(It);if(Ll&&gr.get(yt))return Ll==yt;var Hn=!0;gr.set(It,yt),gr.set(yt,It);for(var bn=$r;++Ri<Ii;){$n=zn[Ri];var ws=It[$n],_s=yt[$n];if(Nt)var oa=$r?Nt(_s,ws,$n,yt,It,gr):Nt(ws,_s,$n,It,yt,gr);if(!(oa===void 0?ws===_s||kn(ws,_s,Nt,ai,gr):oa)){Hn=!1;break}bn||(bn=$n=="constructor")}if(Hn&&!bn){var Cn=It.constructor,ro=yt.constructor;Cn==ro||!("constructor"in It)||!("constructor"in yt)||typeof Cn=="function"&&Cn instanceof Cn&&typeof ro=="function"&&ro instanceof ro||(Hn=!1)}return gr.delete(It),gr.delete(yt),Hn}(Ce,Me,vt,ut,dt,Je)):!1}(re,de,Rt,ve,Se,Be))}function Ke(re){return!(!ft(re)||function(de){return!!F&&F in de}(re))&&(st(re)||O(re)?B:y).test(he(re))}function gt(re){return typeof re=="function"?re:re==null?Sr:typeof re=="object"?Qe(re)?function(Se,Be){return rt(Se)&&at(Be)?Dt(se(Se),Be):function(Ce){var Me=function(vt,ut,dt){var Je=vt==null?void 0:Fe(vt,ut);return Je===void 0?dt:Je}(Ce,Se);return Me===void 0&&Me===Be?function(vt,ut){return vt!=null&&function(dt,Je,At){Je=rt(Je,dt)?[Je]:nt(Je);for(var Pt,jt=-1,zt=Je.length;++jt<zt;){var cr=se(Je[jt]);if(!(Pt=dt!=null&&At(dt,cr)))break;dt=dt[cr]}return Pt||!!(zt=dt?dt.length:0)&&Ye(zt)&&Ct(cr,zt)&&(Qe(dt)||tt(dt))}(vt,ut,mt)}(Ce,Se):Rt(Be,Me,void 0,3)}}(re[0],re[1]):function(Se){var Be=function(Ce){for(var Me=tr(Ce),vt=Me.length;vt--;){var ut=Me[vt],dt=Ce[ut];Me[vt]=[ut,dt,at(dt)]}return Me}(Se);return Be.length==1&&Be[0][2]?Dt(Be[0][0],Be[0][1]):function(Ce){return Ce===Se||function(Me,vt,ut,dt){var Je=ut.length,At=Je;if(Me==null)return!At;for(Me=Object(Me);Je--;){var Pt=ut[Je];if(Pt[2]?Pt[1]!==Me[Pt[0]]:!(Pt[0]in Me))return!1}for(;++Je<At;){var jt=(Pt=ut[Je])[0],zt=Me[jt],cr=Pt[1];if(Pt[2]){if(zt===void 0&&!(jt in Me))return!1}else{var Er=new He,Qr;if(!(Qr===void 0?Rt(cr,zt,dt,3,Er):Qr))return!1}}return!0}(Ce,Se,Be)}}(re):rt(de=re)?(ve=se(de),function(Se){return Se==null?void 0:Se[ve]}):function(Se){return function(Be){return Fe(Be,Se)}}(de);var de,ve}function pt(re){if(ve=(de=re)&&de.constructor,Se=typeof ve=="function"&&ve.prototype||C,de!==Se)return X(re);var de,ve,Se,Be=[];for(var Ce in Object(re))W.call(re,Ce)&&Ce!="constructor"&&Be.push(Ce);return Be}function nt(re){return Qe(re)?re:it(re)}function _t(re,de,ve,Se,Be,Ce){var Me=2&Be,vt=re.length,ut=de.length;if(vt!=ut&&!(Me&&ut>vt))return!1;var dt=Ce.get(re);if(dt&&Ce.get(de))return dt==de;var Je=-1,At=!0,Pt=1&Be?new We:void 0;for(Ce.set(re,de),Ce.set(de,re);++Je<vt;){var jt=re[Je],zt=de[Je];if(Se)var cr=Me?Se(zt,jt,Je,de,re,Ce):Se(jt,zt,Je,re,de,Ce);if(cr!==void 0){if(cr)continue;At=!1;break}if(Pt){if(!z(de,function(Er,Qr){if(!Pt.has(Qr)&&(jt===Er||ve(jt,Er,Se,Be,Ce)))return Pt.add(Qr)})){At=!1;break}}else if(jt!==zt&&!ve(jt,zt,Se,Be,Ce)){At=!1;break}}return Ce.delete(re),Ce.delete(de),At}function xt(re,de){var ve,Se,Be=re.__data__;return((Se=typeof(ve=de))=="string"||Se=="number"||Se=="symbol"||Se=="boolean"?ve!=="__proto__":ve===null)?Be[typeof de=="string"?"string":"hash"]:Be.map}function Xe(re,de){var ve=function(Se,Be){return Se==null?void 0:Se[Be]}(re,de);return Ke(ve)?ve:void 0}var bt=function(re){return Y.call(re)};function Ct(re,de){return!!(de=de??9007199254740991)&&(typeof re=="number"||p.test(re))&&re>-1&&re%1==0&&re<de}function rt(re,de){if(Qe(re))return!1;var ve=typeof re;return!(ve!="number"&&ve!="symbol"&&ve!="boolean"&&re!=null&&!Ft(re))||d.test(re)||!c.test(re)||de!=null&&re in Object(de)}function at(re){return re==re&&!ft(re)}function Dt(re,de){return function(ve){return ve!=null&&ve[re]===de&&(de!==void 0||re in Object(ve))}}(te&&bt(new te(new ArrayBuffer(1)))!="[object DataView]"||Q&&bt(new Q)!=u||ee&&bt(ee.resolve())!="[object Promise]"||le&&bt(new le)!=a||oe&&bt(new oe)!="[object WeakMap]")&&(bt=function(re){var de=Y.call(re),ve=de==l?re.constructor:void 0,Se=ve?he(ve):void 0;if(Se)switch(Se){case ie:return"[object DataView]";case ne:return u;case ce:return"[object Promise]";case ue:return a;case fe:return"[object WeakMap]"}return de});var it=Ze(function(re){var de;re=(de=re)==null?"":function(Se){if(typeof Se=="string")return Se;if(Ft(Se))return xe?xe.call(Se):"";var Be=Se+"";return Be=="0"&&1/Se==-1/0?"-0":Be}(de);var ve=[];return h.test(re)&&ve.push(""),re.replace(f,function(Se,Be,Ce,Me){ve.push(Ce?Me.replace(m,"$1"):Be||Se)}),ve});function se(re){if(typeof re=="string"||Ft(re))return re;var de=re+"";return de=="0"&&1/re==-1/0?"-0":de}function he(re){if(re!=null){try{return H.call(re)}catch{}try{return re+""}catch{}}return""}var be,Ae=(be=function(re,de,ve){W.call(re,ve)?re[ve].push(de):re[ve]=[de]},function(re,de){var ve=Qe(re)?L:De,Se={};return ve(re,be,gt(de),Se)});function Ze(re,de){if(typeof re!="function"||de&&typeof de!="function")throw new TypeError("Expected a function");var ve=function(){var Se=arguments,Be=de?de.apply(this,Se):Se[0],Ce=ve.cache;if(Ce.has(Be))return Ce.get(Be);var Me=re.apply(this,Se);return ve.cache=Ce.set(Be,Me),Me};return ve.cache=new(Ze.Cache||Pe),ve}function Ne(re,de){return re===de||re!=re&&de!=de}function tt(re){return function(de){return qt(de)&&qe(de)}(re)&&W.call(re,"callee")&&(!M.call(re,"callee")||Y.call(re)==o)}Ze.Cache=Pe;var Qe=Array.isArray;function qe(re){return re!=null&&Ye(re.length)&&!st(re)}function st(re){var de=ft(re)?Y.call(re):"";return de=="[object Function]"||de=="[object GeneratorFunction]"}function Ye(re){return typeof re=="number"&&re>-1&&re%1==0&&re<=9007199254740991}function ft(re){var de=typeof re;return!!re&&(de=="object"||de=="function")}function qt(re){return!!re&&typeof re=="object"}function Ft(re){return typeof re=="symbol"||qt(re)&&Y.call(re)=="[object Symbol]"}var Yt=N?function(re){return function(de){return re(de)}}(N):function(re){return qt(re)&&Ye(re.length)&&!!b[Y.call(re)]};function tr(re){return qe(re)?Ge(re):pt(re)}function Sr(re){return re}n.exports=Ae}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,i){var s=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||function(u){return!!u&&typeof u=="object"}(o)&&s.call(o)=="[object Boolean]"}},{}],445:[function(e,n,i){(function(s){(function(){var o="[object Arguments]",u="[object Map]",l="[object Object]",a="[object Set]",c=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[o]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[u]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[a]=h["[object String]"]=h["[object WeakMap]"]=!1;var f=typeof s=="object"&&s&&s.Object===Object&&s,m=typeof self=="object"&&self&&self.Object===Object&&self,y=f||m||Function("return this")(),p=typeof i=="object"&&i&&!i.nodeType&&i,b=p&&typeof n=="object"&&n&&!n.nodeType&&n,g=b&&b.exports===p,w=g&&f.process,k=function(){try{return w&&w.binding&&w.binding("util")}catch{}}(),A=k&&k.isTypedArray;function U(se,he){for(var be=-1,Ae=se==null?0:se.length;++be<Ae;)if(he(se[be],be,se))return!0;return!1}function V(se){var he=-1,be=Array(se.size);return se.forEach(function(Ae,Ze){be[++he]=[Ze,Ae]}),be}function R(se){var he=-1,be=Array(se.size);return se.forEach(function(Ae){be[++he]=Ae}),be}var N,L,z,O=Array.prototype,T=Function.prototype,P=Object.prototype,E=y["__core-js_shared__"],v=T.toString,x=P.hasOwnProperty,_=(N=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",S=P.toString,C=RegExp("^"+v.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=g?y.Buffer:void 0,F=y.Symbol,H=y.Uint8Array,W=P.propertyIsEnumerable,Y=O.splice,B=F?F.toStringTag:void 0,G=Object.getOwnPropertySymbols,D=j?j.isBuffer:void 0,M=(L=Object.keys,z=Object,function(se){return L(z(se))}),$=mt(y,"DataView"),X=mt(y,"Map"),te=mt(y,"Promise"),Q=mt(y,"Set"),ee=mt(y,"WeakMap"),le=mt(Object,"create"),oe=pt($),J=pt(X),ie=pt(te),ne=pt(Q),ce=pt(ee),ue=F?F.prototype:void 0,fe=ue?ue.valueOf:void 0;function me(se){var he=-1,be=se==null?0:se.length;for(this.clear();++he<be;){var Ae=se[he];this.set(Ae[0],Ae[1])}}function ye(se){var he=-1,be=se==null?0:se.length;for(this.clear();++he<be;){var Ae=se[he];this.set(Ae[0],Ae[1])}}function xe(se){var he=-1,be=se==null?0:se.length;for(this.clear();++he<be;){var Ae=se[he];this.set(Ae[0],Ae[1])}}function Te(se){var he=-1,be=se==null?0:se.length;for(this.__data__=new xe;++he<be;)this.add(se[he])}function ke(se){var he=this.__data__=new ye(se);this.size=he.size}function Pe(se,he){var be=xt(se),Ae=!be&&_t(se),Ze=!be&&!Ae&&Xe(se),Ne=!be&&!Ae&&!Ze&&Dt(se),tt=be||Ae||Ze||Ne,Qe=tt?function(Ye,ft){for(var qt=-1,Ft=Array(Ye);++qt<Ye;)Ft[qt]=ft(qt);return Ft}(se.length,String):[],qe=Qe.length;for(var st in se)!x.call(se,st)||tt&&(st=="length"||Ze&&(st=="offset"||st=="parent")||Ne&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||gt(st,qe))||Qe.push(st);return Qe}function We(se,he){for(var be=se.length;be--;)if(nt(se[be][0],he))return be;return-1}function He(se){return se==null?se===void 0?"[object Undefined]":"[object Null]":B&&B in Object(se)?function(he){var be=x.call(he,B),Ae=he[B];try{he[B]=void 0;var Ze=!0}catch{}var Ne=S.call(he);return Ze&&(be?he[B]=Ae:delete he[B]),Ne}(se):function(he){return S.call(he)}(se)}function Ge(se){return at(se)&&He(se)==o}function ze(se,he,be,Ae,Ze){return se===he||(se==null||he==null||!at(se)&&!at(he)?se!=se&&he!=he:function(Ne,tt,Qe,qe,st,Ye){var ft=xt(Ne),qt=xt(tt),Ft=ft?"[object Array]":Ke(Ne),Yt=qt?"[object Array]":Ke(tt),tr=(Ft=Ft==o?l:Ft)==l,Sr=(Yt=Yt==o?l:Yt)==l,re=Ft==Yt;if(re&&Xe(Ne)){if(!Xe(tt))return!1;ft=!0,tr=!1}if(re&&!tr)return Ye||(Ye=new ke),ft||Dt(Ne)?je(Ne,tt,Qe,qe,st,Ye):function(Ce,Me,vt,ut,dt,Je,At){switch(vt){case"[object DataView]":if(Ce.byteLength!=Me.byteLength||Ce.byteOffset!=Me.byteOffset)return!1;Ce=Ce.buffer,Me=Me.buffer;case"[object ArrayBuffer]":return!(Ce.byteLength!=Me.byteLength||!Je(new H(Ce),new H(Me)));case"[object Boolean]":case"[object Date]":case"[object Number]":return nt(+Ce,+Me);case"[object Error]":return Ce.name==Me.name&&Ce.message==Me.message;case"[object RegExp]":case"[object String]":return Ce==Me+"";case u:var Pt=V;case a:var jt=1&ut;if(Pt||(Pt=R),Ce.size!=Me.size&&!jt)return!1;var zt=At.get(Ce);if(zt)return zt==Me;ut|=2,At.set(Ce,Me);var cr=je(Pt(Ce),Pt(Me),ut,dt,Je,At);return At.delete(Ce),cr;case"[object Symbol]":if(fe)return fe.call(Ce)==fe.call(Me)}return!1}(Ne,tt,Ft,Qe,qe,st,Ye);if(!(1&Qe)){var de=tr&&x.call(Ne,"__wrapped__"),ve=Sr&&x.call(tt,"__wrapped__");if(de||ve){var Se=de?Ne.value():Ne,Be=ve?tt.value():tt;return Ye||(Ye=new ke),st(Se,Be,Qe,qe,Ye)}}return re?(Ye||(Ye=new ke),function(Ce,Me,vt,ut,dt,Je){var At=1&vt,Pt=$e(Ce),jt=Pt.length,zt=$e(Me).length;if(jt!=zt&&!At)return!1;for(var cr=jt;cr--;){var Er=Pt[cr];if(!(At?Er in Me:x.call(Me,Er)))return!1}var Qr=Je.get(Ce);if(Qr&&Je.get(Me))return Qr==Me;var Un=!0;Je.set(Ce,Me),Je.set(Me,Ce);for(var Ci=At;++cr<jt;){Er=Pt[cr];var Jr=Ce[Er],Mr=Me[Er];if(ut)var It=At?ut(Mr,Jr,Er,Me,Ce,Je):ut(Jr,Mr,Er,Ce,Me,Je);if(!(It===void 0?Jr===Mr||dt(Jr,Mr,vt,ut,Je):It)){Un=!1;break}Ci||(Ci=Er=="constructor")}if(Un&&!Ci){var yt=Ce.constructor,kn=Me.constructor;yt==kn||!("constructor"in Ce)||!("constructor"in Me)||typeof yt=="function"&&yt instanceof yt&&typeof kn=="function"&&kn instanceof kn||(Un=!1)}return Je.delete(Ce),Je.delete(Me),Un}(Ne,tt,Qe,qe,st,Ye)):!1}(se,he,be,Ae,ze,Ze))}function De(se){return!(!rt(se)||function(he){return!!_&&_ in he}(se))&&(bt(se)?C:c).test(pt(se))}function Re(se){if(be=(he=se)&&he.constructor,Ae=typeof be=="function"&&be.prototype||P,he!==Ae)return M(se);var he,be,Ae,Ze=[];for(var Ne in Object(se))x.call(se,Ne)&&Ne!="constructor"&&Ze.push(Ne);return Ze}function je(se,he,be,Ae,Ze,Ne){var tt=1&be,Qe=se.length,qe=he.length;if(Qe!=qe&&!(tt&&qe>Qe))return!1;var st=Ne.get(se);if(st&&Ne.get(he))return st==he;var Ye=-1,ft=!0,qt=2&be?new Te:void 0;for(Ne.set(se,he),Ne.set(he,se);++Ye<Qe;){var Ft=se[Ye],Yt=he[Ye];if(Ae)var tr=tt?Ae(Yt,Ft,Ye,he,se,Ne):Ae(Ft,Yt,Ye,se,he,Ne);if(tr!==void 0){if(tr)continue;ft=!1;break}if(qt){if(!U(he,function(Sr,re){if(de=re,!qt.has(de)&&(Ft===Sr||Ze(Ft,Sr,be,Ae,Ne)))return qt.push(re);var de})){ft=!1;break}}else if(Ft!==Yt&&!Ze(Ft,Yt,be,Ae,Ne)){ft=!1;break}}return Ne.delete(se),Ne.delete(he),ft}function $e(se){return function(he,be,Ae){var Ze=be(he);return xt(he)?Ze:function(Ne,tt){for(var Qe=-1,qe=tt.length,st=Ne.length;++Qe<qe;)Ne[st+Qe]=tt[Qe];return Ne}(Ze,Ae(he))}(se,it,Rt)}function Fe(se,he){var be,Ae,Ze=se.__data__;return((Ae=typeof(be=he))=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?be!=="__proto__":be===null)?Ze[typeof he=="string"?"string":"hash"]:Ze.map}function mt(se,he){var be=function(Ae,Ze){return Ae==null?void 0:Ae[Ze]}(se,he);return De(be)?be:void 0}me.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},me.prototype.delete=function(se){var he=this.has(se)&&delete this.__data__[se];return this.size-=he?1:0,he},me.prototype.get=function(se){var he=this.__data__;if(le){var be=he[se];return be==="__lodash_hash_undefined__"?void 0:be}return x.call(he,se)?he[se]:void 0},me.prototype.has=function(se){var he=this.__data__;return le?he[se]!==void 0:x.call(he,se)},me.prototype.set=function(se,he){var be=this.__data__;return this.size+=this.has(se)?0:1,be[se]=le&&he===void 0?"__lodash_hash_undefined__":he,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(se){var he=this.__data__,be=We(he,se);return!(be<0)&&(be==he.length-1?he.pop():Y.call(he,be,1),--this.size,!0)},ye.prototype.get=function(se){var he=this.__data__,be=We(he,se);return be<0?void 0:he[be][1]},ye.prototype.has=function(se){return We(this.__data__,se)>-1},ye.prototype.set=function(se,he){var be=this.__data__,Ae=We(be,se);return Ae<0?(++this.size,be.push([se,he])):be[Ae][1]=he,this},xe.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(X||ye),string:new me}},xe.prototype.delete=function(se){var he=Fe(this,se).delete(se);return this.size-=he?1:0,he},xe.prototype.get=function(se){return Fe(this,se).get(se)},xe.prototype.has=function(se){return Fe(this,se).has(se)},xe.prototype.set=function(se,he){var be=Fe(this,se),Ae=be.size;return be.set(se,he),this.size+=be.size==Ae?0:1,this},Te.prototype.add=Te.prototype.push=function(se){return this.__data__.set(se,"__lodash_hash_undefined__"),this},Te.prototype.has=function(se){return this.__data__.has(se)},ke.prototype.clear=function(){this.__data__=new ye,this.size=0},ke.prototype.delete=function(se){var he=this.__data__,be=he.delete(se);return this.size=he.size,be},ke.prototype.get=function(se){return this.__data__.get(se)},ke.prototype.has=function(se){return this.__data__.has(se)},ke.prototype.set=function(se,he){var be=this.__data__;if(be instanceof ye){var Ae=be.__data__;if(!X||Ae.length<199)return Ae.push([se,he]),this.size=++be.size,this;be=this.__data__=new xe(Ae)}return be.set(se,he),this.size=be.size,this};var Rt=G?function(se){return se==null?[]:(se=Object(se),function(he,be){for(var Ae=-1,Ze=he==null?0:he.length,Ne=0,tt=[];++Ae<Ze;){var Qe=he[Ae];be(Qe,Ae,he)&&(tt[Ne++]=Qe)}return tt}(G(se),function(he){return W.call(se,he)}))}:function(){return[]},Ke=He;function gt(se,he){return!!(he=he??9007199254740991)&&(typeof se=="number"||d.test(se))&&se>-1&&se%1==0&&se<he}function pt(se){if(se!=null){try{return v.call(se)}catch{}try{return se+""}catch{}}return""}function nt(se,he){return se===he||se!=se&&he!=he}($&&Ke(new $(new ArrayBuffer(1)))!="[object DataView]"||X&&Ke(new X)!=u||te&&Ke(te.resolve())!="[object Promise]"||Q&&Ke(new Q)!=a||ee&&Ke(new ee)!="[object WeakMap]")&&(Ke=function(se){var he=He(se),be=he==l?se.constructor:void 0,Ae=be?pt(be):"";if(Ae)switch(Ae){case oe:return"[object DataView]";case J:return u;case ie:return"[object Promise]";case ne:return a;case ce:return"[object WeakMap]"}return he});var _t=Ge(function(){return arguments}())?Ge:function(se){return at(se)&&x.call(se,"callee")&&!W.call(se,"callee")},xt=Array.isArray,Xe=D||function(){return!1};function bt(se){if(!rt(se))return!1;var he=He(se);return he=="[object Function]"||he=="[object GeneratorFunction]"||he=="[object AsyncFunction]"||he=="[object Proxy]"}function Ct(se){return typeof se=="number"&&se>-1&&se%1==0&&se<=9007199254740991}function rt(se){var he=typeof se;return se!=null&&(he=="object"||he=="function")}function at(se){return se!=null&&typeof se=="object"}var Dt=A?function(se){return function(he){return se(he)}}(A):function(se){return at(se)&&Ct(se.length)&&!!h[He(se)]};function it(se){return(he=se)!=null&&Ct(he.length)&&!bt(he)?Pe(se):Re(se);var he}n.exports=function(se,he){return ze(se,he)}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,i){(function(s){(function(){var o=typeof s=="object"&&s&&s.Object===Object&&s,u=typeof self=="object"&&self&&self.Object===Object&&self,l=o||u||Function("return this")(),a=Object.prototype,c=a.hasOwnProperty,d=a.toString,h=l.Symbol,f=h?h.toStringTag:void 0;function m(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":f&&f in Object(y)?function(p){var b=c.call(p,f),g=p[f];try{p[f]=void 0;var w=!0}catch{}var k=d.call(p);return w&&(b?p[f]=g:delete p[f]),k}(y):function(p){return d.call(p)}(y)}n.exports=function(y){if(!function(b){var g=typeof b;return b!=null&&(g=="object"||g=="function")}(y))return!1;var p=m(y);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,i){n.exports=function(s){return s==null}},{}],448:[function(e,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(e,n,i){(function(s){(function(){var o=/^\[object .+?Constructor\]$/,u=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,a=u||l||Function("return this")();function c(F,H){return!!(F&&F.length)&&function(W,Y,B){if(Y!=Y)return function(M,$,X,te){for(var Q=M.length,ee=X+-1;++ee<Q;)if($(M[ee],ee,M))return ee;return-1}(W,d,B);for(var G=B-1,D=W.length;++G<D;)if(W[G]===Y)return G;return-1}(F,H,0)>-1}function d(F){return F!=F}function h(F,H){return F.has(H)}function f(F){var H=-1,W=Array(F.size);return F.forEach(function(Y){W[++H]=Y}),W}var m,y=Array.prototype,p=Function.prototype,b=Object.prototype,g=a["__core-js_shared__"],w=(m=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",k=p.toString,A=b.hasOwnProperty,U=b.toString,V=RegExp("^"+k.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=y.splice,N=C(a,"Map"),L=C(a,"Set"),z=C(Object,"create");function O(F){var H=-1,W=F?F.length:0;for(this.clear();++H<W;){var Y=F[H];this.set(Y[0],Y[1])}}function T(F){var H=-1,W=F?F.length:0;for(this.clear();++H<W;){var Y=F[H];this.set(Y[0],Y[1])}}function P(F){var H=-1,W=F?F.length:0;for(this.clear();++H<W;){var Y=F[H];this.set(Y[0],Y[1])}}function E(F){var H=-1,W=F?F.length:0;for(this.__data__=new P;++H<W;)this.add(F[H])}function v(F,H){for(var W,Y,B=F.length;B--;)if((W=F[B][0])===(Y=H)||W!=W&&Y!=Y)return B;return-1}function x(F){return!(!j(F)||(H=F,w&&w in H))&&(function(W){var Y=j(W)?U.call(W):"";return Y=="[object Function]"||Y=="[object GeneratorFunction]"}(F)||function(W){var Y=!1;if(W!=null&&typeof W.toString!="function")try{Y=!!(W+"")}catch{}return Y}(F)?V:o).test(function(W){if(W!=null){try{return k.call(W)}catch{}try{return W+""}catch{}}return""}(F));var H}O.prototype.clear=function(){this.__data__=z?z(null):{}},O.prototype.delete=function(F){return this.has(F)&&delete this.__data__[F]},O.prototype.get=function(F){var H=this.__data__;if(z){var W=H[F];return W==="__lodash_hash_undefined__"?void 0:W}return A.call(H,F)?H[F]:void 0},O.prototype.has=function(F){var H=this.__data__;return z?H[F]!==void 0:A.call(H,F)},O.prototype.set=function(F,H){return this.__data__[F]=z&&H===void 0?"__lodash_hash_undefined__":H,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(F){var H=this.__data__,W=v(H,F);return!(W<0)&&(W==H.length-1?H.pop():R.call(H,W,1),!0)},T.prototype.get=function(F){var H=this.__data__,W=v(H,F);return W<0?void 0:H[W][1]},T.prototype.has=function(F){return v(this.__data__,F)>-1},T.prototype.set=function(F,H){var W=this.__data__,Y=v(W,F);return Y<0?W.push([F,H]):W[Y][1]=H,this},P.prototype.clear=function(){this.__data__={hash:new O,map:new(N||T),string:new O}},P.prototype.delete=function(F){return S(this,F).delete(F)},P.prototype.get=function(F){return S(this,F).get(F)},P.prototype.has=function(F){return S(this,F).has(F)},P.prototype.set=function(F,H){return S(this,F).set(F,H),this},E.prototype.add=E.prototype.push=function(F){return this.__data__.set(F,"__lodash_hash_undefined__"),this},E.prototype.has=function(F){return this.__data__.has(F)};var _=L&&1/f(new L([,-0]))[1]==1/0?function(F){return new L(F)}:function(){};function S(F,H){var W,Y,B=F.__data__;return((Y=typeof(W=H))=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?W!=="__proto__":W===null)?B[typeof H=="string"?"string":"hash"]:B.map}function C(F,H){var W=function(Y,B){return Y==null?void 0:Y[B]}(F,H);return x(W)?W:void 0}function j(F){var H=typeof F;return!!F&&(H=="object"||H=="function")}n.exports=function(F){return F&&F.length?function(H,W,Y){var B=-1,G=c,D=H.length,M=!0,$=[],X=$;if(D>=200){var te=_(H);if(te)return f(te);M=!1,G=h,X=new E}else X=$;e:for(;++B<D;){var Q=H[B],ee=Q;if(Q=Q!==0?Q:0,M&&ee==ee){for(var le=X.length;le--;)if(X[le]===ee)continue e;$.push(Q)}else G(X,ee,Y)||(X!==$&&X.push(ee),$.push(Q))}return $}(F):[]}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,i){var s=e("inherits"),o=e("hash-base"),u=e("safe-buffer").Buffer,l=new Array(16);function a(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(y,p){return y<<p|y>>>32-p}function d(y,p,b,g,w,k,A){return c(y+(p&b|~p&g)+w+k|0,A)+p|0}function h(y,p,b,g,w,k,A){return c(y+(p&g|b&~g)+w+k|0,A)+p|0}function f(y,p,b,g,w,k,A){return c(y+(p^b^g)+w+k|0,A)+p|0}function m(y,p,b,g,w,k,A){return c(y+(b^(p|~g))+w+k|0,A)+p|0}s(a,o),a.prototype._update=function(){for(var y=l,p=0;p<16;++p)y[p]=this._block.readInt32LE(4*p);var b=this._a,g=this._b,w=this._c,k=this._d;b=d(b,g,w,k,y[0],3614090360,7),k=d(k,b,g,w,y[1],3905402710,12),w=d(w,k,b,g,y[2],606105819,17),g=d(g,w,k,b,y[3],3250441966,22),b=d(b,g,w,k,y[4],4118548399,7),k=d(k,b,g,w,y[5],1200080426,12),w=d(w,k,b,g,y[6],2821735955,17),g=d(g,w,k,b,y[7],4249261313,22),b=d(b,g,w,k,y[8],1770035416,7),k=d(k,b,g,w,y[9],2336552879,12),w=d(w,k,b,g,y[10],4294925233,17),g=d(g,w,k,b,y[11],2304563134,22),b=d(b,g,w,k,y[12],1804603682,7),k=d(k,b,g,w,y[13],4254626195,12),w=d(w,k,b,g,y[14],2792965006,17),b=h(b,g=d(g,w,k,b,y[15],1236535329,22),w,k,y[1],4129170786,5),k=h(k,b,g,w,y[6],3225465664,9),w=h(w,k,b,g,y[11],643717713,14),g=h(g,w,k,b,y[0],3921069994,20),b=h(b,g,w,k,y[5],3593408605,5),k=h(k,b,g,w,y[10],38016083,9),w=h(w,k,b,g,y[15],3634488961,14),g=h(g,w,k,b,y[4],3889429448,20),b=h(b,g,w,k,y[9],568446438,5),k=h(k,b,g,w,y[14],3275163606,9),w=h(w,k,b,g,y[3],4107603335,14),g=h(g,w,k,b,y[8],1163531501,20),b=h(b,g,w,k,y[13],2850285829,5),k=h(k,b,g,w,y[2],4243563512,9),w=h(w,k,b,g,y[7],1735328473,14),b=f(b,g=h(g,w,k,b,y[12],2368359562,20),w,k,y[5],4294588738,4),k=f(k,b,g,w,y[8],2272392833,11),w=f(w,k,b,g,y[11],1839030562,16),g=f(g,w,k,b,y[14],4259657740,23),b=f(b,g,w,k,y[1],2763975236,4),k=f(k,b,g,w,y[4],1272893353,11),w=f(w,k,b,g,y[7],4139469664,16),g=f(g,w,k,b,y[10],3200236656,23),b=f(b,g,w,k,y[13],681279174,4),k=f(k,b,g,w,y[0],3936430074,11),w=f(w,k,b,g,y[3],3572445317,16),g=f(g,w,k,b,y[6],76029189,23),b=f(b,g,w,k,y[9],3654602809,4),k=f(k,b,g,w,y[12],3873151461,11),w=f(w,k,b,g,y[15],530742520,16),b=m(b,g=f(g,w,k,b,y[2],3299628645,23),w,k,y[0],4096336452,6),k=m(k,b,g,w,y[7],1126891415,10),w=m(w,k,b,g,y[14],2878612391,15),g=m(g,w,k,b,y[5],4237533241,21),b=m(b,g,w,k,y[12],1700485571,6),k=m(k,b,g,w,y[3],2399980690,10),w=m(w,k,b,g,y[10],4293915773,15),g=m(g,w,k,b,y[1],2240044497,21),b=m(b,g,w,k,y[8],1873313359,6),k=m(k,b,g,w,y[15],4264355552,10),w=m(w,k,b,g,y[6],2734768916,15),g=m(g,w,k,b,y[13],1309151649,21),b=m(b,g,w,k,y[4],4149444226,6),k=m(k,b,g,w,y[11],3174756917,10),w=m(w,k,b,g,y[2],718787259,15),g=m(g,w,k,b,y[9],3951481745,21),this._a=this._a+b|0,this._b=this._b+g|0,this._c=this._c+w|0,this._d=this._d+k|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=u.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},n.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,i){var s=e("bn.js"),o=e("brorand");function u(l){this.rand=l||new o.Rand}n.exports=u,u.create=function(l){return new u(l)},u.prototype._randbelow=function(l){var a=l.bitLength(),c=Math.ceil(a/8);do var d=new s(this.rand.generate(c));while(d.cmp(l)>=0);return d},u.prototype._randrange=function(l,a){var c=a.sub(l);return l.add(this._randbelow(c))},u.prototype.test=function(l,a,c){var d=l.bitLength(),h=s.mont(l),f=new s(1).toRed(h);a||(a=Math.max(1,d/48|0));for(var m=l.subn(1),y=0;!m.testn(y);y++);for(var p=l.shrn(y),b=m.toRed(h);a>0;a--){var g=this._randrange(new s(2),m);c&&c(g);var w=g.toRed(h).redPow(p);if(w.cmp(f)!==0&&w.cmp(b)!==0){for(var k=1;k<y;k++){if((w=w.redSqr()).cmp(f)===0)return!1;if(w.cmp(b)===0)break}if(k===y)return!1}}return!0},u.prototype.getDivisor=function(l,a){var c=l.bitLength(),d=s.mont(l),h=new s(1).toRed(d);a||(a=Math.max(1,c/48|0));for(var f=l.subn(1),m=0;!f.testn(m);m++);for(var y=l.shrn(m),p=f.toRed(d);a>0;a--){var b=this._randrange(new s(2),f),g=l.gcd(b);if(g.cmpn(1)!==0)return g;var w=b.toRed(d).redPow(y);if(w.cmp(h)!==0&&w.cmp(p)!==0){for(var k=1;k<m;k++){if((w=w.redSqr()).cmp(h)===0)return w.fromRed().subn(1).gcd(l);if(w.cmp(p)===0)break}if(k===m)return(w=w.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(e,n,i){function s(o,u){if(!o)throw new Error(u||"Assertion failed")}n.exports=s,s.equal=function(o,u,l){if(o!=u)throw new Error(l||"Assertion failed: "+o+" != "+u)}},{}],454:[function(e,n,i){var s=i;function o(l){return l.length===1?"0"+l:l}function u(l){for(var a="",c=0;c<l.length;c++)a+=o(l[c].toString(16));return a}s.toArray=function(l,a){if(Array.isArray(l))return l.slice();if(!l)return[];var c=[];if(typeof l!="string"){for(var d=0;d<l.length;d++)c[d]=0|l[d];return c}if(a==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),d=0;d<l.length;d+=2)c.push(parseInt(l[d]+l[d+1],16));else for(d=0;d<l.length;d++){var h=l.charCodeAt(d),f=h>>8,m=255&h;f?c.push(f,m):c.push(m)}return c},s.zero2=o,s.toHex=u,s.encode=function(l,a){return a==="hex"?u(l):l}},{}],455:[function(e,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,i){var s=e("asn1.js");i.certificate=e("./certificate");var o=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=o;var u=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=u;var l=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var a=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});i.PrivateKey=c;var d=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=d;var h=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=h,i.DSAparam=s.define("DSAparam",function(){this.int()});var f=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(m),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=f;var m=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,i){var s=e("asn1.js"),o=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),u=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),c=s.define("RelativeDistinguishedName",function(){this.setof(u)}),d=s.define("RDNSequence",function(){this.seqof(c)}),h=s.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),f=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),m=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(f),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(m).optional())}),p=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=p},{"asn1.js":170}],458:[function(e,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=e("evp_bytestokey"),a=e("browserify-aes"),c=e("safe-buffer").Buffer;n.exports=function(d,h){var f,m=d.toString(),y=m.match(s);if(y){var p="aes"+y[1],b=c.from(y[2],"hex"),g=c.from(y[3].replace(/[\r\n]/g,""),"base64"),w=l(h,b.slice(0,8),parseInt(y[1],10)).key,k=[],A=a.createDecipheriv(p,w,b);k.push(A.update(g)),k.push(A.final()),f=c.concat(k)}else{var U=m.match(u);f=c.from(U[2].replace(/[\r\n]/g,""),"base64")}return{tag:m.match(o)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,i){var s=e("./asn1"),o=e("./aesid.json"),u=e("./fixProc"),l=e("browserify-aes"),a=e("pbkdf2"),c=e("safe-buffer").Buffer;function d(h){var f;typeof h!="object"||c.isBuffer(h)||(f=h.passphrase,h=h.key),typeof h=="string"&&(h=c.from(h));var m,y,p=u(h,f),b=p.tag,g=p.data;switch(b){case"CERTIFICATE":y=s.certificate.decode(g,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=s.PublicKey.decode(g,"der")),m=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=s.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+m)}case"ENCRYPTED PRIVATE KEY":g=function(w,k){var A=w.algorithm.decrypt.kde.kdeparams.salt,U=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=o[w.algorithm.decrypt.cipher.algo.join(".")],R=w.algorithm.decrypt.cipher.iv,N=w.subjectPrivateKey,L=parseInt(V.split("-")[1],10)/8,z=a.pbkdf2Sync(k,A,U,L,"sha1"),O=l.createDecipheriv(V,z,R),T=[];return T.push(O.update(N)),T.push(O.final()),c.concat(T)}(g=s.EncryptedPrivateKey.decode(g,"der"),f);case"PRIVATE KEY":switch(m=(y=s.PrivateKey.decode(g,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:s.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=s.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+m)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(g,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(g,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(g,"der")};case"EC PRIVATE KEY":return{curve:(g=s.ECPrivateKey.decode(g,"der")).parameters.value,privateKey:g.privateKey};default:throw new Error("unknown key type "+b)}}n.exports=d,d.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,i){i.pbkdf2=e("./lib/async"),i.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,i){(function(s){(function(){var o,u,l=e("safe-buffer").Buffer,a=e("./precondition"),c=e("./default-encoding"),d=e("./sync"),h=e("./to-buffer"),f=s.crypto&&s.crypto.subtle,m={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function p(){return u||(u=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function b(g,w,k,A,U){return f.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function(V){return f.deriveBits({name:"PBKDF2",salt:w,iterations:k,hash:{name:U}},V,A<<3)}).then(function(V){return l.from(V)})}n.exports=function(g,w,k,A,U,V){typeof U=="function"&&(V=U,U=void 0);var R=m[(U=U||"sha1").toLowerCase()];if(R&&typeof s.Promise=="function"){if(a(k,A),g=h(g,c,"Password"),w=h(w,c,"Salt"),typeof V!="function")throw new Error("No callback provided to pbkdf2");(function(N,L){N.then(function(z){p()(function(){L(null,z)})},function(z){p()(function(){L(z)})})})(function(N){if(s.process&&!s.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(y[N]!==void 0)return y[N];var L=b(o=o||l.alloc(8),o,10,128,N).then(function(){return!0}).catch(function(){return!1});return y[N]=L,L}(R).then(function(N){return N?b(g,w,k,A,R):d(g,w,k,A,U)}),V)}else p()(function(){var N;try{N=d(g,w,k,A,U)}catch(L){return V(L)}V(null,N)})}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,i){(function(s,o){(function(){var u;o.process&&o.process.browser?u="utf-8":o.process&&o.process.version?u=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":u="utf-8",n.exports=u}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,i){var s=Math.pow(2,30)-1;n.exports=function(o,u){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof u!="number")throw new TypeError("Key length not a number");if(u<0||u>s||u!=u)throw new TypeError("Bad key length")}},{}],464:[function(e,n,i){var s=e("create-hash/md5"),o=e("ripemd160"),u=e("sha.js"),l=e("safe-buffer").Buffer,a=e("./precondition"),c=e("./default-encoding"),d=e("./to-buffer"),h=l.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function m(y,p,b){var g=function(R){function N(L){return u(R).update(L).digest()}return R==="rmd160"||R==="ripemd160"?function(L){return new o().update(L).digest()}:R==="md5"?s:N}(y),w=y==="sha512"||y==="sha384"?128:64;p.length>w?p=g(p):p.length<w&&(p=l.concat([p,h],w));for(var k=l.allocUnsafe(w+f[y]),A=l.allocUnsafe(w+f[y]),U=0;U<w;U++)k[U]=54^p[U],A[U]=92^p[U];var V=l.allocUnsafe(w+b+4);k.copy(V,0,0,w),this.ipad1=V,this.ipad2=k,this.opad=A,this.alg=y,this.blocksize=w,this.hash=g,this.size=f[y]}m.prototype.run=function(y,p){return y.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(y,p,b,g,w){a(b,g);var k=new m(w=w||"sha1",y=d(y,c,"Password"),(p=d(p,c,"Salt")).length),A=l.allocUnsafe(g),U=l.allocUnsafe(p.length+4);p.copy(U,0,0,p.length);for(var V=0,R=f[w],N=Math.ceil(g/R),L=1;L<=N;L++){U.writeUInt32BE(L,p.length);for(var z=k.run(U,k.ipad1),O=z,T=1;T<b;T++){O=k.run(O,k.ipad2);for(var P=0;P<R;P++)z[P]^=O[P]}z.copy(A,V),V+=R}return A}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,i){var s=e("safe-buffer").Buffer;n.exports=function(o,u,l){if(s.isBuffer(o))return o;if(typeof o=="string")return s.from(o,u);if(ArrayBuffer.isView(o))return s.from(o.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,u,l,a){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var c,d,h=arguments.length;switch(h){case 0:case 1:return s.nextTick(o);case 2:return s.nextTick(function(){o.call(null,u)});case 3:return s.nextTick(function(){o.call(null,u,l)});case 4:return s.nextTick(function(){o.call(null,u,l,a)});default:for(c=new Array(h-1),d=0;d<c.length;)c[d++]=arguments[d];return s.nextTick(function(){o.apply(null,c)})}}}:n.exports=s}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,i){var s,o,u=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(w){if(s===setTimeout)return setTimeout(w,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(w,0);try{return s(w,0)}catch{try{return s.call(null,w,0)}catch{return s.call(this,w,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:l}catch{s=l}try{o=typeof clearTimeout=="function"?clearTimeout:a}catch{o=a}})();var d,h=[],f=!1,m=-1;function y(){f&&d&&(f=!1,d.length?h=d.concat(h):m=-1,h.length&&p())}function p(){if(!f){var w=c(y);f=!0;for(var k=h.length;k;){for(d=h,h=[];++m<k;)d&&d[m].run();m=-1,k=h.length}d=null,f=!1,function(A){if(o===clearTimeout)return clearTimeout(A);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(A);try{o(A)}catch{try{return o.call(null,A)}catch{return o.call(this,A)}}}(w)}}function b(w,k){this.fun=w,this.array=k}function g(){}u.nextTick=function(w){var k=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)k[A-1]=arguments[A];h.push(new b(w,k)),h.length!==1||f||c(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=g,u.addListener=g,u.once=g,u.off=g,u.removeListener=g,u.removeAllListeners=g,u.emit=g,u.prependListener=g,u.prependOnceListener=g,u.listeners=function(w){return[]},u.binding=function(w){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(w){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],468:[function(e,n,i){i.publicEncrypt=e("./publicEncrypt"),i.privateDecrypt=e("./privateDecrypt"),i.privateEncrypt=function(s,o){return i.publicEncrypt(s,o,!0)},i.publicDecrypt=function(s,o){return i.privateDecrypt(s,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,i){var s=e("create-hash"),o=e("safe-buffer").Buffer;function u(l){var a=o.allocUnsafe(4);return a.writeUInt32BE(l,0),a}n.exports=function(l,a){for(var c,d=o.alloc(0),h=0;d.length<a;)c=u(h++),d=o.concat([d,s("sha1").update(l).update(c).digest()]);return d.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(e,n,i){var s=e("parse-asn1"),o=e("./mgf"),u=e("./xor"),l=e("bn.js"),a=e("browserify-rsa"),c=e("create-hash"),d=e("./withPublic"),h=e("safe-buffer").Buffer;n.exports=function(f,m,y){var p;p=f.padding?f.padding:y?1:4;var b,g=s(f),w=g.modulus.byteLength();if(m.length>w||new l(m).cmp(g.modulus)>=0)throw new Error("decryption error");b=y?d(new l(m),g):a(m,g);var k=h.alloc(w-b.length);if(b=h.concat([k,b],w),p===4)return function(A,U){var V=A.modulus.byteLength(),R=c("sha1").update(h.alloc(0)).digest(),N=R.length;if(U[0]!==0)throw new Error("decryption error");var L=U.slice(1,N+1),z=U.slice(N+1),O=u(L,o(z,N)),T=u(z,o(O,V-N-1));if(function(E,v){E=h.from(E),v=h.from(v);var x=0,_=E.length;E.length!==v.length&&(x++,_=Math.min(E.length,v.length));for(var S=-1;++S<_;)x+=E[S]^v[S];return x}(R,T.slice(0,N)))throw new Error("decryption error");for(var P=N;T[P]===0;)P++;if(T[P++]!==1)throw new Error("decryption error");return T.slice(P)}(g,b);if(p===1)return function(A,U,V){for(var R=U.slice(0,2),N=2,L=0;U[N++]!==0;)if(N>=U.length){L++;break}var z=U.slice(2,N-1);if((R.toString("hex")!=="0002"&&!V||R.toString("hex")!=="0001"&&V)&&L++,z.length<8&&L++,L)throw new Error("decryption error");return U.slice(N)}(0,b,y);if(p===3)return b;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,i){var s=e("parse-asn1"),o=e("randombytes"),u=e("create-hash"),l=e("./mgf"),a=e("./xor"),c=e("bn.js"),d=e("./withPublic"),h=e("browserify-rsa"),f=e("safe-buffer").Buffer;n.exports=function(m,y,p){var b;b=m.padding?m.padding:p?1:4;var g,w=s(m);if(b===4)g=function(k,A){var U=k.modulus.byteLength(),V=A.length,R=u("sha1").update(f.alloc(0)).digest(),N=R.length,L=2*N;if(V>U-L-2)throw new Error("message too long");var z=f.alloc(U-V-L-2),O=U-N-1,T=o(N),P=a(f.concat([R,z,f.alloc(1,1),A],O),l(T,O)),E=a(T,l(P,N));return new c(f.concat([f.alloc(1),E,P],U))}(w,y);else if(b===1)g=function(k,A,U){var V,R=A.length,N=k.modulus.byteLength();if(R>N-11)throw new Error("message too long");return V=U?f.alloc(N-R-3,255):function(L){for(var z,O=f.allocUnsafe(L),T=0,P=o(2*L),E=0;T<L;)E===P.length&&(P=o(2*L),E=0),(z=P[E++])&&(O[T++]=z);return O}(N-R-3),new c(f.concat([f.from([0,U?1:2]),V,f.alloc(1),A],N))}(w,y,p);else{if(b!==3)throw new Error("unknown padding");if((g=new c(y)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return p?h(g,w):d(g,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,i){var s=e("bn.js"),o=e("safe-buffer").Buffer;n.exports=function(u,l){return o.from(u.toRed(s.mont(l.modulus)).redPow(new s(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,i){n.exports=function(s,o){for(var u=s.length,l=-1;++l<u;)s[l]^=o[l];return s}},{}],475:[function(e,n,i){(function(s,o){(function(){var u=e("safe-buffer").Buffer,l=o.crypto||o.msCrypto;l&&l.getRandomValues?n.exports=function(a,c){if(a>4294967295)throw new RangeError("requested too many random bytes");var d=u.allocUnsafe(a);if(a>0)if(a>65536)for(var h=0;h<a;h+=65536)l.getRandomValues(d.slice(h,h+65536));else l.getRandomValues(d);return typeof c=="function"?s.nextTick(function(){c(null,d)}):d}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,i){(function(s,o){(function(){function u(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=e("safe-buffer"),a=e("randombytes"),c=l.Buffer,d=l.kMaxLength,h=o.crypto||o.msCrypto,f=Math.pow(2,32)-1;function m(b,g){if(typeof b!="number"||b!=b)throw new TypeError("offset must be a number");if(b>f||b<0)throw new TypeError("offset must be a uint32");if(b>d||b>g)throw new RangeError("offset out of range")}function y(b,g,w){if(typeof b!="number"||b!=b)throw new TypeError("size must be a number");if(b>f||b<0)throw new TypeError("size must be a uint32");if(b+g>w||b>d)throw new RangeError("buffer too small")}function p(b,g,w,k){if(s.browser){var A=b.buffer,U=new Uint8Array(A,g,w);return h.getRandomValues(U),k?void s.nextTick(function(){k(null,b)}):b}if(!k)return a(w).copy(b,g),b;a(w,function(V,R){if(V)return k(V);R.copy(b,g),k(null,b)})}h&&h.getRandomValues||!s.browser?(i.randomFill=function(b,g,w,k){if(!(c.isBuffer(b)||b instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")k=g,g=0,w=b.length;else if(typeof w=="function")k=w,w=b.length-g;else if(typeof k!="function")throw new TypeError('"cb" argument must be a function');return m(g,b.length),y(w,g,b.length),p(b,g,w,k)},i.randomFillSync=function(b,g,w){if(g===void 0&&(g=0),!(c.isBuffer(b)||b instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return m(g,b.length),w===void 0&&(w=b.length-g),y(w,g,b.length),p(b,g,w)}):(i.randomFill=u,i.randomFillSync=u)}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,i){var s={};function o(l,a,c){c||(c=Error);var d=function(h){var f,m;function y(p,b,g){return h.call(this,function(w,k,A){return typeof a=="string"?a:a(w,k,A)}(p,b,g))||this}return m=h,(f=y).prototype=Object.create(m.prototype),f.prototype.constructor=f,f.__proto__=m,y}(c);d.prototype.name=c.name,d.prototype.code=l,s[l]=d}function u(l,a){if(Array.isArray(l)){var c=l.length;return l=l.map(function(d){return String(d)}),c>2?"one of ".concat(a," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(a," ").concat(l[0]," or ").concat(l[1]):"of ".concat(a," ").concat(l[0])}return"of ".concat(a," ").concat(String(l))}o("ERR_INVALID_OPT_VALUE",function(l,a){return'The value "'+a+'" is invalid for option "'+l+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(l,a,c){var d,h,f;if(typeof a=="string"&&(h="not ",a.substr(0,h.length)===h)?(d="must not be",a=a.replace(/^not /,"")):d="must be",function(y,p,b){return(b===void 0||b>y.length)&&(b=y.length),y.substring(b-p.length,b)===p}(l," argument"))f="The ".concat(l," ").concat(d," ").concat(u(a,"type"));else{var m=function(y,p,b){return typeof b!="number"&&(b=0),!(b+p.length>y.length)&&y.indexOf(p,b)!==-1}(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(m," ").concat(d," ").concat(u(a,"type"))}return f+=". Received type ".concat(typeof c)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(e,n,i){(function(s){(function(){var o=Object.keys||function(y){var p=[];for(var b in y)p.push(b);return p};n.exports=h;var u=e("./_stream_readable"),l=e("./_stream_writable");e("inherits")(h,u);for(var a=o(l.prototype),c=0;c<a.length;c++){var d=a[c];h.prototype[d]||(h.prototype[d]=l.prototype[d])}function h(y){if(!(this instanceof h))return new h(y);u.call(this,y),l.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||s.nextTick(m,this)}function m(y){y.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,i){n.exports=o;var s=e("./_stream_transform");function o(u){if(!(this instanceof o))return new o(u);s.call(this,u)}e("inherits")(o,s),o.prototype._transform=function(u,l,a){a(null,u)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,i){(function(s,o){(function(){var u;n.exports=O,O.ReadableState=z,e("events").EventEmitter;var l=function(D,M){return D.listeners(M).length},a=e("./internal/streams/stream"),c=e("buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,f=e("util");h=f&&f.debuglog?f.debuglog("stream"):function(){};var m,y,p,b=e("./internal/streams/buffer_list"),g=e("./internal/streams/destroy"),w=e("./internal/streams/state").getHighWaterMark,k=e("../errors").codes,A=k.ERR_INVALID_ARG_TYPE,U=k.ERR_STREAM_PUSH_AFTER_EOF,V=k.ERR_METHOD_NOT_IMPLEMENTED,R=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(O,a);var N=g.errorOrDestroy,L=["error","close","destroy","pause","resume"];function z(D,M,$){u=u||e("./_stream_duplex"),D=D||{},typeof $!="boolean"&&($=M instanceof u),this.objectMode=!!D.objectMode,$&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=w(this,D,"readableHighWaterMark",$),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(m||(m=e("string_decoder/").StringDecoder),this.decoder=new m(D.encoding),this.encoding=D.encoding)}function O(D){if(u=u||e("./_stream_duplex"),!(this instanceof O))return new O(D);var M=this instanceof u;this._readableState=new z(D,this,M),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),a.call(this)}function T(D,M,$,X,te){h("readableAddChunk",M);var Q,ee=D._readableState;if(M===null)ee.reading=!1,function(le,oe){if(h("onEofChunk"),!oe.ended){if(oe.decoder){var J=oe.decoder.end();J&&J.length&&(oe.buffer.push(J),oe.length+=oe.objectMode?1:J.length)}oe.ended=!0,oe.sync?v(le):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,x(le)))}}(D,ee);else if(te||(Q=function(le,oe){var J;ie=oe,c.isBuffer(ie)||ie instanceof d||typeof oe=="string"||oe===void 0||le.objectMode||(J=new A("chunk",["string","Buffer","Uint8Array"],oe));var ie;return J}(ee,M)),Q)N(D,Q);else if(ee.objectMode||M&&M.length>0)if(typeof M=="string"||ee.objectMode||Object.getPrototypeOf(M)===c.prototype||(M=function(le){return c.from(le)}(M)),X)ee.endEmitted?N(D,new R):P(D,ee,M,!0);else if(ee.ended)N(D,new U);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!$?(M=ee.decoder.write(M),ee.objectMode||M.length!==0?P(D,ee,M,!1):_(D,ee)):P(D,ee,M,!1)}else X||(ee.reading=!1,_(D,ee));return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function P(D,M,$,X){M.flowing&&M.length===0&&!M.sync?(M.awaitDrain=0,D.emit("data",$)):(M.length+=M.objectMode?1:$.length,X?M.buffer.unshift($):M.buffer.push($),M.needReadable&&v(D)),_(D,M)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),O.prototype.destroy=g.destroy,O.prototype._undestroy=g.undestroy,O.prototype._destroy=function(D,M){M(D)},O.prototype.push=function(D,M){var $,X=this._readableState;return X.objectMode?$=!0:typeof D=="string"&&((M=M||X.defaultEncoding)!==X.encoding&&(D=c.from(D,M),M=""),$=!0),T(this,D,M,!1,$)},O.prototype.unshift=function(D){return T(this,D,null,!0,!1)},O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(D){m||(m=e("string_decoder/").StringDecoder);var M=new m(D);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;for(var $=this._readableState.buffer.head,X="";$!==null;)X+=M.write($.data),$=$.next;return this._readableState.buffer.clear(),X!==""&&this._readableState.buffer.push(X),this._readableState.length=X.length,this};function E(D,M){return D<=0||M.length===0&&M.ended?0:M.objectMode?1:D!=D?M.flowing&&M.length?M.buffer.head.data.length:M.length:(D>M.highWaterMark&&(M.highWaterMark=function($){return $>=1073741824?$=1073741824:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}(D)),D<=M.length?D:M.ended?M.length:(M.needReadable=!0,0))}function v(D){var M=D._readableState;h("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(h("emitReadable",M.flowing),M.emittedReadable=!0,s.nextTick(x,D))}function x(D){var M=D._readableState;h("emitReadable_",M.destroyed,M.length,M.ended),M.destroyed||!M.length&&!M.ended||(D.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,H(D)}function _(D,M){M.readingMore||(M.readingMore=!0,s.nextTick(S,D,M))}function S(D,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){var $=M.length;if(h("maybeReadMore read 0"),D.read(0),$===M.length)break}M.readingMore=!1}function C(D){var M=D._readableState;M.readableListening=D.listenerCount("readable")>0,M.resumeScheduled&&!M.paused?M.flowing=!0:D.listenerCount("data")>0&&D.resume()}function j(D){h("readable nexttick read 0"),D.read(0)}function F(D,M){h("resume",M.reading),M.reading||D.read(0),M.resumeScheduled=!1,D.emit("resume"),H(D),M.flowing&&!M.reading&&D.read(0)}function H(D){var M=D._readableState;for(h("flow",M.flowing);M.flowing&&D.read()!==null;);}function W(D,M){return M.length===0?null:(M.objectMode?$=M.buffer.shift():!D||D>=M.length?($=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.first():M.buffer.concat(M.length),M.buffer.clear()):$=M.buffer.consume(D,M.decoder),$);var $}function Y(D){var M=D._readableState;h("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,s.nextTick(B,M,D))}function B(D,M){if(h("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,M.readable=!1,M.emit("end"),D.autoDestroy)){var $=M._writableState;(!$||$.autoDestroy&&$.finished)&&M.destroy()}}function G(D,M){for(var $=0,X=D.length;$<X;$++)if(D[$]===M)return $;return-1}O.prototype.read=function(D){h("read",D),D=parseInt(D,10);var M=this._readableState,$=D;if(D!==0&&(M.emittedReadable=!1),D===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return h("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?Y(this):v(this),null;if((D=E(D,M))===0&&M.ended)return M.length===0&&Y(this),null;var X,te=M.needReadable;return h("need readable",te),(M.length===0||M.length-D<M.highWaterMark)&&h("length less than watermark",te=!0),M.ended||M.reading?h("reading or ended",te=!1):te&&(h("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(D=E($,M))),(X=D>0?W(D,M):null)===null?(M.needReadable=M.length<=M.highWaterMark,D=0):(M.length-=D,M.awaitDrain=0),M.length===0&&(M.ended||(M.needReadable=!0),$!==D&&M.ended&&Y(this)),X!==null&&this.emit("data",X),X},O.prototype._read=function(D){N(this,new V("_read()"))},O.prototype.pipe=function(D,M){var $=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=D;break;case 1:X.pipes=[X.pipes,D];break;default:X.pipes.push(D)}X.pipesCount+=1,h("pipe count=%d opts=%j",X.pipesCount,M);var te=(!M||M.end!==!1)&&D!==s.stdout&&D!==s.stderr?ee:ue;function Q(fe,me){h("onunpipe"),fe===$&&me&&me.hasUnpiped===!1&&(me.hasUnpiped=!0,h("cleanup"),D.removeListener("close",ne),D.removeListener("finish",ce),D.removeListener("drain",le),D.removeListener("error",ie),D.removeListener("unpipe",Q),$.removeListener("end",ee),$.removeListener("end",ue),$.removeListener("data",J),oe=!0,!X.awaitDrain||D._writableState&&!D._writableState.needDrain||le())}function ee(){h("onend"),D.end()}X.endEmitted?s.nextTick(te):$.once("end",te),D.on("unpipe",Q);var le=function(fe){return function(){var me=fe._readableState;h("pipeOnDrain",me.awaitDrain),me.awaitDrain&&me.awaitDrain--,me.awaitDrain===0&&l(fe,"data")&&(me.flowing=!0,H(fe))}}($);D.on("drain",le);var oe=!1;function J(fe){h("ondata");var me=D.write(fe);h("dest.write",me),me===!1&&((X.pipesCount===1&&X.pipes===D||X.pipesCount>1&&G(X.pipes,D)!==-1)&&!oe&&(h("false write response, pause",X.awaitDrain),X.awaitDrain++),$.pause())}function ie(fe){h("onerror",fe),ue(),D.removeListener("error",ie),l(D,"error")===0&&N(D,fe)}function ne(){D.removeListener("finish",ce),ue()}function ce(){h("onfinish"),D.removeListener("close",ne),ue()}function ue(){h("unpipe"),$.unpipe(D)}return $.on("data",J),function(fe,me,ye){if(typeof fe.prependListener=="function")return fe.prependListener(me,ye);fe._events&&fe._events[me]?Array.isArray(fe._events[me])?fe._events[me].unshift(ye):fe._events[me]=[ye,fe._events[me]]:fe.on(me,ye)}(D,"error",ie),D.once("close",ne),D.once("finish",ce),D.emit("pipe",$),X.flowing||(h("pipe resume"),$.resume()),D},O.prototype.unpipe=function(D){var M=this._readableState,$={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return D&&D!==M.pipes||(D||(D=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,D&&D.emit("unpipe",this,$)),this;if(!D){var X=M.pipes,te=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var Q=0;Q<te;Q++)X[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=G(M.pipes,D);return ee===-1||(M.pipes.splice(ee,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),D.emit("unpipe",this,$)),this},O.prototype.on=function(D,M){var $=a.prototype.on.call(this,D,M),X=this._readableState;return D==="data"?(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1&&this.resume()):D==="readable"&&(X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,h("on readable",X.length,X.reading),X.length?v(this):X.reading||s.nextTick(j,this))),$},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(D,M){var $=a.prototype.removeListener.call(this,D,M);return D==="readable"&&s.nextTick(C,this),$},O.prototype.removeAllListeners=function(D){var M=a.prototype.removeAllListeners.apply(this,arguments);return D!=="readable"&&D!==void 0||s.nextTick(C,this),M},O.prototype.resume=function(){var D=this._readableState;return D.flowing||(h("resume"),D.flowing=!D.readableListening,function(M,$){$.resumeScheduled||($.resumeScheduled=!0,s.nextTick(F,M,$))}(this,D)),D.paused=!1,this},O.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(D){var M=this,$=this._readableState,X=!1;for(var te in D.on("end",function(){if(h("wrapped end"),$.decoder&&!$.ended){var ee=$.decoder.end();ee&&ee.length&&M.push(ee)}M.push(null)}),D.on("data",function(ee){h("wrapped data"),$.decoder&&(ee=$.decoder.write(ee)),$.objectMode&&ee==null||($.objectMode||ee&&ee.length)&&(M.push(ee)||(X=!0,D.pause()))}),D)this[te]===void 0&&typeof D[te]=="function"&&(this[te]=function(ee){return function(){return D[ee].apply(D,arguments)}}(te));for(var Q=0;Q<L.length;Q++)D.on(L[Q],this.emit.bind(this,L[Q]));return this._read=function(ee){h("wrapped _read",ee),X&&(X=!1,D.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=e("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),O._fromList=W,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(O.from=function(D,M){return p===void 0&&(p=e("./internal/streams/from")),p(O,D,M)})}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,i){n.exports=h;var s=e("../errors").codes,o=s.ERR_METHOD_NOT_IMPLEMENTED,u=s.ERR_MULTIPLE_CALLBACK,l=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=s.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function d(y,p){var b=this._transformState;b.transforming=!1;var g=b.writecb;if(g===null)return this.emit("error",new u);b.writechunk=null,b.writecb=null,p!=null&&this.push(p),g(y);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);c.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",f)}function f(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?m(this,null,null):this._flush(function(p,b){m(y,p,b)})}function m(y,p,b){if(p)return y.emit("error",p);if(b!=null&&y.push(b),y._writableState.length)throw new a;if(y._transformState.transforming)throw new l;return y.push(null)}e("inherits")(h,c),h.prototype.push=function(y,p){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,p)},h.prototype._transform=function(y,p,b){b(new o("_transform()"))},h.prototype._write=function(y,p,b){var g=this._transformState;if(g.writecb=b,g.writechunk=y,g.writeencoding=p,!g.transforming){var w=this._readableState;(g.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},h.prototype._read=function(y){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},h.prototype._destroy=function(y,p){c.prototype._destroy.call(this,y,function(b){p(b)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,i){(function(s,o){(function(){function u(S){var C=this;this.next=null,this.entry=null,this.finish=function(){(function(j,F,H){var W=j.entry;for(j.entry=null;W;){var Y=W.callback;F.pendingcb--,Y(H),W=W.next}F.corkedRequestsFree.next=j})(C,S)}}var l;n.exports=O,O.WritableState=z;var a={deprecate:e("util-deprecate")},c=e("./internal/streams/stream"),d=e("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,m=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_MULTIPLE_CALLBACK,k=p.ERR_STREAM_CANNOT_PIPE,A=p.ERR_STREAM_DESTROYED,U=p.ERR_STREAM_NULL_VALUES,V=p.ERR_STREAM_WRITE_AFTER_END,R=p.ERR_UNKNOWN_ENCODING,N=m.errorOrDestroy;function L(){}function z(S,C,j){l=l||e("./_stream_duplex"),S=S||{},typeof j!="boolean"&&(j=C instanceof l),this.objectMode=!!S.objectMode,j&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=y(this,S,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=S.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){(function(W,Y){var B=W._writableState,G=B.sync,D=B.writecb;if(typeof D!="function")throw new w;if(function($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}(B),Y)(function($,X,te,Q,ee){--X.pendingcb,te?(s.nextTick(ee,Q),s.nextTick(_,$,X),$._writableState.errorEmitted=!0,N($,Q)):(ee(Q),$._writableState.errorEmitted=!0,N($,Q),_($,X))})(W,B,G,Y,D);else{var M=v(B)||W.destroyed;M||B.corked||B.bufferProcessing||!B.bufferedRequest||E(W,B),G?s.nextTick(P,W,B,M,D):P(W,B,M,D)}})(C,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function O(S){var C=this instanceof(l=l||e("./_stream_duplex"));if(!C&&!f.call(O,this))return new O(S);this._writableState=new z(S,this,C),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}function T(S,C,j,F,H,W,Y){C.writelen=F,C.writecb=Y,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new A("write")):j?S._writev(H,C.onwrite):S._write(H,W,C.onwrite),C.sync=!1}function P(S,C,j,F){j||function(H,W){W.length===0&&W.needDrain&&(W.needDrain=!1,H.emit("drain"))}(S,C),C.pendingcb--,F(),_(S,C)}function E(S,C){C.bufferProcessing=!0;var j=C.bufferedRequest;if(S._writev&&j&&j.next){var F=C.bufferedRequestCount,H=new Array(F),W=C.corkedRequestsFree;W.entry=j;for(var Y=0,B=!0;j;)H[Y]=j,j.isBuf||(B=!1),j=j.next,Y+=1;H.allBuffers=B,T(S,C,!0,C.length,H,"",W.finish),C.pendingcb++,C.lastBufferedRequest=null,W.next?(C.corkedRequestsFree=W.next,W.next=null):C.corkedRequestsFree=new u(C),C.bufferedRequestCount=0}else{for(;j;){var G=j.chunk,D=j.encoding,M=j.callback;if(T(S,C,!1,C.objectMode?1:G.length,G,D,M),j=j.next,C.bufferedRequestCount--,C.writing)break}j===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=j,C.bufferProcessing=!1}function v(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function x(S,C){S._final(function(j){C.pendingcb--,j&&N(S,j),C.prefinished=!0,S.emit("prefinish"),_(S,C)})}function _(S,C){var j=v(C);if(j&&(function(H,W){W.prefinished||W.finalCalled||(typeof H._final!="function"||W.destroyed?(W.prefinished=!0,H.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,s.nextTick(x,H,W)))}(S,C),C.pendingcb===0&&(C.finished=!0,S.emit("finish"),C.autoDestroy))){var F=S._readableState;(!F||F.autoDestroy&&F.endEmitted)&&S.destroy()}return j}e("inherits")(O,c),z.prototype.getBuffer=function(){for(var S=this.bufferedRequest,C=[];S;)C.push(S),S=S.next;return C},function(){try{Object.defineProperty(z.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(S){return!!f.call(this,S)||this===O&&S&&S._writableState instanceof z}})):f=function(S){return S instanceof this},O.prototype.pipe=function(){N(this,new k)},O.prototype.write=function(S,C,j){var F,H=this._writableState,W=!1,Y=!H.objectMode&&(F=S,d.isBuffer(F)||F instanceof h);return Y&&!d.isBuffer(S)&&(S=function(B){return d.from(B)}(S)),typeof C=="function"&&(j=C,C=null),Y?C="buffer":C||(C=H.defaultEncoding),typeof j!="function"&&(j=L),H.ending?function(B,G){var D=new V;N(B,D),s.nextTick(G,D)}(this,j):(Y||function(B,G,D,M){var $;return D===null?$=new U:typeof D=="string"||G.objectMode||($=new b("chunk",["string","Buffer"],D)),!$||(N(B,$),s.nextTick(M,$),!1)}(this,H,S,j))&&(H.pendingcb++,W=function(B,G,D,M,$,X){if(!D){var te=function(oe,J,ie){return oe.objectMode||oe.decodeStrings===!1||typeof J!="string"||(J=d.from(J,ie)),J}(G,M,$);M!==te&&(D=!0,$="buffer",M=te)}var Q=G.objectMode?1:M.length;G.length+=Q;var ee=G.length<G.highWaterMark;if(ee||(G.needDrain=!0),G.writing||G.corked){var le=G.lastBufferedRequest;G.lastBufferedRequest={chunk:M,encoding:$,isBuf:D,callback:X,next:null},le?le.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else T(B,G,!1,Q,M,$,X);return ee}(this,H,Y,S,C,j)),W},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||E(this,S))},O.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new R(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(S,C,j){j(new g("_write()"))},O.prototype._writev=null,O.prototype.end=function(S,C,j){var F=this._writableState;return typeof S=="function"?(j=S,S=null,C=null):typeof C=="function"&&(j=C,C=null),S!=null&&this.write(S,C),F.corked&&(F.corked=1,this.uncork()),F.ending||function(H,W,Y){W.ending=!0,_(H,W),Y&&(W.finished?s.nextTick(Y):H.once("finish",Y)),W.ended=!0,H.writable=!1}(this,F,j),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),O.prototype.destroy=m.destroy,O.prototype._undestroy=m.undestroy,O.prototype._destroy=function(S,C){C(S)}}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,i){(function(s){(function(){var o;function u(A,U,V){return(U=function(R){var N=function(L,z){if(typeof L!="object"||L===null)return L;var O=L[Symbol.toPrimitive];if(O!==void 0){var T=O.call(L,z);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(L)}(R,"string");return typeof N=="symbol"?N:String(N)}(U))in A?Object.defineProperty(A,U,{value:V,enumerable:!0,configurable:!0,writable:!0}):A[U]=V,A}var l=e("./end-of-stream"),a=Symbol("lastResolve"),c=Symbol("lastReject"),d=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),m=Symbol("handlePromise"),y=Symbol("stream");function p(A,U){return{value:A,done:U}}function b(A){var U=A[a];if(U!==null){var V=A[y].read();V!==null&&(A[f]=null,A[a]=null,A[c]=null,U(p(V,!1)))}}function g(A){s.nextTick(b,A)}var w=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((u(o={get stream(){return this[y]},next:function(){var A=this,U=this[d];if(U!==null)return Promise.reject(U);if(this[h])return Promise.resolve(p(void 0,!0));if(this[y].destroyed)return new Promise(function(L,z){s.nextTick(function(){A[d]?z(A[d]):L(p(void 0,!0))})});var V,R=this[f];if(R)V=new Promise(function(L,z){return function(O,T){L.then(function(){z[h]?O(p(void 0,!0)):z[m](O,T)},T)}}(R,this));else{var N=this[y].read();if(N!==null)return Promise.resolve(p(N,!1));V=new Promise(this[m])}return this[f]=V,V}},Symbol.asyncIterator,function(){return this}),u(o,"return",function(){var A=this;return new Promise(function(U,V){A[y].destroy(null,function(R){R?V(R):U(p(void 0,!0))})})}),o),w);n.exports=function(A){var U,V=Object.create(k,(u(U={},y,{value:A,writable:!0}),u(U,a,{value:null,writable:!0}),u(U,c,{value:null,writable:!0}),u(U,d,{value:null,writable:!0}),u(U,h,{value:A._readableState.endEmitted,writable:!0}),u(U,m,{value:function(R,N){var L=V[y].read();L?(V[f]=null,V[a]=null,V[c]=null,R(p(L,!1))):(V[a]=R,V[c]=N)},writable:!0}),U));return V[f]=null,l(A,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N=V[c];return N!==null&&(V[f]=null,V[a]=null,V[c]=null,N(R)),void(V[d]=R)}var L=V[a];L!==null&&(V[f]=null,V[a]=null,V[c]=null,L(p(void 0,!0))),V[h]=!0}),A.on("readable",g.bind(null,V)),V}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,i){function s(f,m){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);m&&(p=p.filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable})),y.push.apply(y,p)}return y}function o(f){for(var m=1;m<arguments.length;m++){var y=arguments[m]!=null?arguments[m]:{};m%2?s(Object(y),!0).forEach(function(p){u(f,p,y[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):s(Object(y)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(y,p))})}return f}function u(f,m,y){return(m=a(m))in f?Object.defineProperty(f,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[m]=y,f}function l(f,m){for(var y=0;y<m.length;y++){var p=m[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,a(p.key),p)}}function a(f){var m=function(y,p){if(typeof y!="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var g=b.call(y,p);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(y)}(f,"string");return typeof m=="symbol"?m:String(m)}var c=e("buffer").Buffer,d=e("util").inspect,h=d&&d.custom||"inspect";n.exports=function(){function f(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var m,y;return m=f,(y=[{key:"push",value:function(p){var b={data:p,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(p){var b={data:p,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var b=this.head,g=""+b.data;b=b.next;)g+=p+b.data;return g}},{key:"concat",value:function(p){if(this.length===0)return c.alloc(0);for(var b,g,w,k=c.allocUnsafe(p>>>0),A=this.head,U=0;A;)b=A.data,g=k,w=U,c.prototype.copy.call(b,g,w),U+=A.data.length,A=A.next;return k}},{key:"consume",value:function(p,b){var g;return p<this.head.data.length?(g=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):g=p===this.head.data.length?this.shift():b?this._getString(p):this._getBuffer(p),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var b=this.head,g=1,w=b.data;for(p-=w.length;b=b.next;){var k=b.data,A=p>k.length?k.length:p;if(A===k.length?w+=k:w+=k.slice(0,p),(p-=A)==0){A===k.length?(++g,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=k.slice(A));break}++g}return this.length-=g,w}},{key:"_getBuffer",value:function(p){var b=c.allocUnsafe(p),g=this.head,w=1;for(g.data.copy(b),p-=g.data.length;g=g.next;){var k=g.data,A=p>k.length?k.length:p;if(k.copy(b,b.length-p,0,A),(p-=A)==0){A===k.length?(++w,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=k.slice(A));break}++w}return this.length-=w,b}},{key:h,value:function(p,b){return d(this,o(o({},b),{},{depth:0,customInspect:!1}))}}])&&l(m.prototype,y),Object.defineProperty(m,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(e,n,i){(function(s){(function(){function o(a,c){l(a,c),u(a)}function u(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function l(a,c){a.emit("error",c)}n.exports={destroy:function(a,c){var d=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(c?c(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(l,this,a)):s.nextTick(l,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(m){!c&&m?d._writableState?d._writableState.errorEmitted?s.nextTick(u,d):(d._writableState.errorEmitted=!0,s.nextTick(o,d,m)):s.nextTick(o,d,m):c?(s.nextTick(u,d),c(m)):s.nextTick(u,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,c){var d=a._readableState,h=a._writableState;d&&d.autoDestroy||h&&h.autoDestroy?a.destroy(c):a.emit("error",c)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,i){var s=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function u(l,a,c){if(typeof a=="function")return u(l,null,a);a||(a={}),c=function(A){var U=!1;return function(){if(!U){U=!0;for(var V=arguments.length,R=new Array(V),N=0;N<V;N++)R[N]=arguments[N];A.apply(this,R)}}}(c||o);var d=a.readable||a.readable!==!1&&l.readable,h=a.writable||a.writable!==!1&&l.writable,f=function(){l.writable||y()},m=l._writableState&&l._writableState.finished,y=function(){h=!1,m=!0,d||c.call(l)},p=l._readableState&&l._readableState.endEmitted,b=function(){d=!1,p=!0,h||c.call(l)},g=function(A){c.call(l,A)},w=function(){var A;return d&&!p?(l._readableState&&l._readableState.ended||(A=new s),c.call(l,A)):h&&!m?(l._writableState&&l._writableState.ended||(A=new s),c.call(l,A)):void 0},k=function(){l.req.on("finish",y)};return function(A){return A.setHeader&&typeof A.abort=="function"}(l)?(l.on("complete",y),l.on("abort",w),l.req?k():l.on("request",k)):h&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",b),l.on("finish",y),a.error!==!1&&l.on("error",g),l.on("close",w),function(){l.removeListener("complete",y),l.removeListener("abort",w),l.removeListener("request",k),l.req&&l.req.removeListener("finish",y),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",y),l.removeListener("end",b),l.removeListener("error",g),l.removeListener("close",w)}}},{"../../../errors":477}],487:[function(e,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,i){var s,o=e("../../../errors").codes,u=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function a(m){if(m)throw m}function c(m,y,p,b){b=function(k){var A=!1;return function(){A||(A=!0,k.apply(void 0,arguments))}}(b);var g=!1;m.on("close",function(){g=!0}),s===void 0&&(s=e("./end-of-stream")),s(m,{readable:y,writable:p},function(k){if(k)return b(k);g=!0,b()});var w=!1;return function(k){if(!g&&!w)return w=!0,function(A){return A.setHeader&&typeof A.abort=="function"}(m)?m.abort():typeof m.destroy=="function"?m.destroy():void b(k||new l("pipe"))}}function d(m){m()}function h(m,y){return m.pipe(y)}function f(m){return m.length?typeof m[m.length-1]!="function"?a:m.pop():a}n.exports=function(){for(var m=arguments.length,y=new Array(m),p=0;p<m;p++)y[p]=arguments[p];var b,g=f(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new u("streams");var w=y.map(function(k,A){var U=A<y.length-1;return c(k,U,A>0,function(V){b||(b=V),V&&w.forEach(d),U||(w.forEach(d),g(b))})});return y.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,i){var s=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,u,l,a){var c=function(d,h,f){return d.highWaterMark!=null?d.highWaterMark:h?d[f]:null}(u,a,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new s(a?l:"highWaterMark",c);return Math.floor(c)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,i){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js"),i.finished=e("./lib/internal/streams/end-of-stream.js"),i.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,i){var s=function(o){var u=Object.prototype,l=u.hasOwnProperty,a=Object.defineProperty||function(_,S,C){_[S]=C.value},c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function m(_,S,C){return Object.defineProperty(_,S,{value:C,enumerable:!0,configurable:!0,writable:!0}),_[S]}try{m({},"")}catch{m=function(S,C,j){return S[C]=j}}function y(_,S,C,j){var F=S&&S.prototype instanceof g?S:g,H=Object.create(F.prototype),W=new E(j||[]);return a(H,"_invoke",{value:z(_,C,W)}),H}function p(_,S,C){try{return{type:"normal",arg:_.call(S,C)}}catch(j){return{type:"throw",arg:j}}}o.wrap=y;var b={};function g(){}function w(){}function k(){}var A={};m(A,d,function(){return this});var U=Object.getPrototypeOf,V=U&&U(U(v([])));V&&V!==u&&l.call(V,d)&&(A=V);var R=k.prototype=g.prototype=Object.create(A);function N(_){["next","throw","return"].forEach(function(S){m(_,S,function(C){return this._invoke(S,C)})})}function L(_,S){var C;a(this,"_invoke",{value:function(j,F){function H(){return new S(function(W,Y){(function B(G,D,M,$){var X=p(_[G],_,D);if(X.type!=="throw"){var te=X.arg,Q=te.value;return Q&&typeof Q=="object"&&l.call(Q,"__await")?S.resolve(Q.__await).then(function(ee){B("next",ee,M,$)},function(ee){B("throw",ee,M,$)}):S.resolve(Q).then(function(ee){te.value=ee,M(te)},function(ee){return B("throw",ee,M,$)})}$(X.arg)})(j,F,W,Y)})}return C=C?C.then(H,H):H()}})}function z(_,S,C){var j="suspendedStart";return function(F,H){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(F==="throw")throw H;return x()}for(C.method=F,C.arg=H;;){var W=C.delegate;if(W){var Y=O(W,C);if(Y){if(Y===b)continue;return Y}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(j==="suspendedStart")throw j="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);j="executing";var B=p(_,S,C);if(B.type==="normal"){if(j=C.done?"completed":"suspendedYield",B.arg===b)continue;return{value:B.arg,done:C.done}}B.type==="throw"&&(j="completed",C.method="throw",C.arg=B.arg)}}}function O(_,S){var C=S.method,j=_.iterator[C];if(j===void 0)return S.delegate=null,C==="throw"&&_.iterator.return&&(S.method="return",S.arg=void 0,O(_,S),S.method==="throw")||C!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+C+"' method")),b;var F=p(j,_.iterator,S.arg);if(F.type==="throw")return S.method="throw",S.arg=F.arg,S.delegate=null,b;var H=F.arg;return H?H.done?(S[_.resultName]=H.value,S.next=_.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,b):H:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,b)}function T(_){var S={tryLoc:_[0]};1 in _&&(S.catchLoc=_[1]),2 in _&&(S.finallyLoc=_[2],S.afterLoc=_[3]),this.tryEntries.push(S)}function P(_){var S=_.completion||{};S.type="normal",delete S.arg,_.completion=S}function E(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(T,this),this.reset(!0)}function v(_){if(_){var S=_[d];if(S)return S.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var C=-1,j=function F(){for(;++C<_.length;)if(l.call(_,C))return F.value=_[C],F.done=!1,F;return F.value=void 0,F.done=!0,F};return j.next=j}}return{next:x}}function x(){return{value:void 0,done:!0}}return w.prototype=k,a(R,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:w,configurable:!0}),w.displayName=m(k,f,"GeneratorFunction"),o.isGeneratorFunction=function(_){var S=typeof _=="function"&&_.constructor;return!!S&&(S===w||(S.displayName||S.name)==="GeneratorFunction")},o.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,k):(_.__proto__=k,m(_,f,"GeneratorFunction")),_.prototype=Object.create(R),_},o.awrap=function(_){return{__await:_}},N(L.prototype),m(L.prototype,h,function(){return this}),o.AsyncIterator=L,o.async=function(_,S,C,j,F){F===void 0&&(F=Promise);var H=new L(y(_,S,C,j),F);return o.isGeneratorFunction(S)?H:H.next().then(function(W){return W.done?W.value:H.next()})},N(R),m(R,f,"Generator"),m(R,d,function(){return this}),m(R,"toString",function(){return"[object Generator]"}),o.keys=function(_){var S=Object(_),C=[];for(var j in S)C.push(j);return C.reverse(),function F(){for(;C.length;){var H=C.pop();if(H in S)return F.value=H,F.done=!1,F}return F.done=!0,F}},o.values=v,E.prototype={constructor:E,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!_)for(var S in this)S.charAt(0)==="t"&&l.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var S=this;function C(B,G){return H.type="throw",H.arg=_,S.next=B,G&&(S.method="next",S.arg=void 0),!!G}for(var j=this.tryEntries.length-1;j>=0;--j){var F=this.tryEntries[j],H=F.completion;if(F.tryLoc==="root")return C("end");if(F.tryLoc<=this.prev){var W=l.call(F,"catchLoc"),Y=l.call(F,"finallyLoc");if(W&&Y){if(this.prev<F.catchLoc)return C(F.catchLoc,!0);if(this.prev<F.finallyLoc)return C(F.finallyLoc)}else if(W){if(this.prev<F.catchLoc)return C(F.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return C(F.finallyLoc)}}}},abrupt:function(_,S){for(var C=this.tryEntries.length-1;C>=0;--C){var j=this.tryEntries[C];if(j.tryLoc<=this.prev&&l.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var F=j;break}}F&&(_==="break"||_==="continue")&&F.tryLoc<=S&&S<=F.finallyLoc&&(F=null);var H=F?F.completion:{};return H.type=_,H.arg=S,F?(this.method="next",this.next=F.finallyLoc,b):this.complete(H)},complete:function(_,S){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&S&&(this.next=S),b},finish:function(_){for(var S=this.tryEntries.length-1;S>=0;--S){var C=this.tryEntries[S];if(C.finallyLoc===_)return this.complete(C.completion,C.afterLoc),P(C),b}},catch:function(_){for(var S=this.tryEntries.length-1;S>=0;--S){var C=this.tryEntries[S];if(C.tryLoc===_){var j=C.completion;if(j.type==="throw"){var F=j.arg;P(C)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(_,S,C){return this.delegate={iterator:v(_),resultName:S,nextLoc:C},this.method==="next"&&(this.arg=void 0),b}},o}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(e,n,i){var s=e("buffer").Buffer,o=e("inherits"),u=e("hash-base"),l=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],m=[1352829926,1548603684,1836072691,2053994217,0];function y(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(U,V){return U<<V|U>>>32-V}function b(U,V,R,N,L,z,O,T){return p(U+(V^R^N)+z+O|0,T)+L|0}function g(U,V,R,N,L,z,O,T){return p(U+(V&R|~V&N)+z+O|0,T)+L|0}function w(U,V,R,N,L,z,O,T){return p(U+((V|~R)^N)+z+O|0,T)+L|0}function k(U,V,R,N,L,z,O,T){return p(U+(V&N|R&~N)+z+O|0,T)+L|0}function A(U,V,R,N,L,z,O,T){return p(U+(V^(R|~N))+z+O|0,T)+L|0}o(y,u),y.prototype._update=function(){for(var U=l,V=0;V<16;++V)U[V]=this._block.readInt32LE(4*V);for(var R=0|this._a,N=0|this._b,L=0|this._c,z=0|this._d,O=0|this._e,T=0|this._a,P=0|this._b,E=0|this._c,v=0|this._d,x=0|this._e,_=0;_<80;_+=1){var S,C;_<16?(S=b(R,N,L,z,O,U[a[_]],f[0],d[_]),C=A(T,P,E,v,x,U[c[_]],m[0],h[_])):_<32?(S=g(R,N,L,z,O,U[a[_]],f[1],d[_]),C=k(T,P,E,v,x,U[c[_]],m[1],h[_])):_<48?(S=w(R,N,L,z,O,U[a[_]],f[2],d[_]),C=w(T,P,E,v,x,U[c[_]],m[2],h[_])):_<64?(S=k(R,N,L,z,O,U[a[_]],f[3],d[_]),C=g(T,P,E,v,x,U[c[_]],m[3],h[_])):(S=A(R,N,L,z,O,U[a[_]],f[4],d[_]),C=b(T,P,E,v,x,U[c[_]],m[4],h[_])),R=O,O=z,z=p(L,10),L=N,N=S,T=x,x=v,v=p(E,10),E=P,P=C}var j=this._b+L+v|0;this._b=this._c+z+x|0,this._c=this._d+O+T|0,this._d=this._e+R+P|0,this._e=this._a+N+E|0,this._a=j},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var U=s.alloc?s.alloc(20):new s(20);return U.writeInt32LE(this._a,0),U.writeInt32LE(this._b,4),U.writeInt32LE(this._c,8),U.writeInt32LE(this._d,12),U.writeInt32LE(this._e,16),U},n.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=e("buffer"),o=s.Buffer;function u(a,c){for(var d in a)c[d]=a[d]}function l(a,c,d){return o(a,c,d)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(u(s,i),i.Buffer=l),l.prototype=Object.create(o.prototype),u(o,l),l.from=function(a,c,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,c,d)},l.alloc=function(a,c,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=o(a);return c!==void 0?typeof d=="string"?h.fill(c,d):h.fill(c):h.fill(0),h},l.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},l.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(a)}},{buffer:220}],495:[function(e,n,i){(function(s){(function(){var o,u=e("buffer"),l=u.Buffer,a={};for(o in u)u.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(a[o]=u[o]);var c=a.Buffer={};for(o in l)l.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(c[o]=l[o]);if(a.Buffer.prototype=l.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(d,h,f){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return l(d,h,f)}),c.alloc||(c.alloc=function(d,h,f){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var m=l(d);return h&&h.length!==0?typeof f=="string"?m.fill(h,f):m.fill(h):m.fill(0),m}),!a.kStringMaxLength)try{a.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),n.exports=a}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=e("xmlchars/xml/1.0/ed5"),o=e("xmlchars/xml/1.1/ed2"),u=e("xmlchars/xmlns/1.0/ed3");var l=s.isS,a=s.isChar,c=s.isNameStartChar,d=s.isNameChar,h=s.S_LIST,f=s.NAME_RE,m=o.isChar,y=u.isNCNameStartChar,p=u.isNCNameChar,b=u.NC_NAME_RE;const g="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",k={__proto__:null,xml:g,xmlns:w},A={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},U=v=>v===34||v===39,V=[34,39],R=[...V,91,62],N=[...V,60,93],L=[61,63,...h],z=[...h,62,38,60];function O(v,x,_){switch(x){case"xml":_!==g&&v.fail(`xml prefix must be bound to ${g}.`);break;case"xmlns":_!==w&&v.fail(`xmlns prefix must be bound to ${w}.`)}switch(_){case w:v.fail(x===""?`the default namespace may not be set to ${_}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case g:switch(x){case"xml":break;case"":v.fail(`the default namespace may not be set to ${_}.`);break;default:v.fail("may not assign the xml namespace to another prefix.")}}}const T=v=>b.test(v),P=v=>f.test(v);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const E={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(v){this.opt=v??{},this.fragmentOpt=!!this.opt.fragment;const x=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,x){this.nameStartCheck=y,this.nameCheck=p,this.isName=T,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},k);const _=this.opt.additionalNamespaces;_!=null&&(function(S,C){for(const j of Object.keys(C))O(S,j,C[j])}(this,_),Object.assign(this.ns,_))}else this.nameStartCheck=c,this.nameCheck=d,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var v;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:x}=this;this.state=x?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=x,this.xmlDeclPossible=!x,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:_}=this.opt;if(_===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");_="1.0"}this.setXMLVersion(_),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(A),(v=this.readyHandler)===null||v===void 0||v.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(v,x){this[E[v]]=x}off(v){this[E[v]]=void 0}makeError(v){var x;let _=(x=this.fileName)!==null&&x!==void 0?x:"";return this.trackPosition&&(_.length>0&&(_+=":"),_+=`${this.line}:${this.column}`),_.length>0&&(_+=": "),new Error(_+v)}fail(v){const x=this.makeError(v),_=this.errorHandler;if(_===void 0)throw x;return _(x),this}write(v){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let x=!1;v===null?(x=!0,v=""):typeof v=="object"&&(v=v.toString()),this.carriedFromPrevious!==void 0&&(v=`${this.carriedFromPrevious}${v}`,this.carriedFromPrevious=void 0);let _=v.length;const S=v.charCodeAt(_-1);!x&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=v[_-1],_--,v=v.slice(0,_));const{stateTable:C}=this;for(this.chunk=v,this.i=0;this.i<_;)C[this.state].call(this);return this.chunkPosition+=_,x?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:v,i:x}=this;if(this.prevI=x,this.i=x+1,x>=v.length)return-1;const _=v.charCodeAt(x);if(this.column++,_<55296){if(_>=32||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return v.charCodeAt(x+1)===10&&(this.i=x+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const S=65536+1024*(_-55296)+(v.charCodeAt(x+1)-56320);return this.i=x+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:v,i:x}=this;if(this.prevI=x,this.i=x+1,x>=v.length)return-1;const _=v.charCodeAt(x);if(this.column++,_<55296){if(_>31&&_<127||_>159&&_!==8232||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const C=v.charCodeAt(x+1);C!==10&&C!==133||(this.i=x+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const S=65536+1024*(_-55296)+(v.charCodeAt(x+1)-56320);return this.i=x+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const v=this.getCode();return v===-2?10:v}unget(){this.i=this.prevI,this.column--}captureTo(v){let{i:x}=this;const{chunk:_}=this;for(;;){const S=this.getCode(),C=S===-2,j=C?10:S;if(j===-1||v.includes(j))return this.text+=_.slice(x,this.prevI),j;C&&(this.text+=_.slice(x,this.prevI)+`
`,x=this.i)}}captureToChar(v){let{i:x}=this;const{chunk:_}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=_.slice(x,this.prevI)+`
`,x=this.i,S=10;break;case-1:return this.text+=_.slice(x),!1}if(S===v)return this.text+=_.slice(x,this.prevI),!0}}captureNameChars(){const{chunk:v,i:x}=this;for(;;){const _=this.getCode();if(_===-1)return this.name+=v.slice(x),-1;if(!d(_))return this.name+=v.slice(x,this.prevI),_===-2?10:_}}skipSpaces(){for(;;){const v=this.getCodeNorm();if(v===-1||!l(v))return v}}setXMLVersion(v){this.currentXMLVersion=v,v==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=m,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const v=this.i,x=this.skipSpaces();switch(this.prevI!==v&&(this.xmlDeclPossible=!1),x){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var v;const x=this.captureTo(R);switch(x){case 62:(v=this.doctypeHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(x),x===91?this.state=4:U(x)&&(this.state=3,this.q=x)}}sDoctypeQuote(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.q=null,this.state=2)}sDTD(){const v=this.captureTo(N);v!==-1&&(this.text+=String.fromCodePoint(v),v===93?this.state=2:v===60?this.state=6:U(v)&&(this.state=5,this.q=v))}sDTDQuoted(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.state=4,this.q=null)}sDTDOpenWaka(){const v=this.getCodeNorm();switch(this.text+=String.fromCodePoint(v),v){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const v=String.fromCodePoint(this.getCodeNorm()),x=this.openWakaBang+=v;this.text+=v,x!=="-"&&(this.state=x==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),this.state=v===45?10:8}sDTDCommentEnded(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:v}=this;const{chunk:x}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=x.slice(v,this.prevI)+`
`,v=this.i;break;case 59:{const{entityReturnState:_}=this,S=this.entity+x.slice(v,this.prevI);let C;this.state=_,S===""?(this.fail("empty entity name."),C="&;"):(C=this.parseEntity(S),this.entity=""),_===13&&this.textHandler===void 0||(this.text+=C);break e}case-1:this.entity+=x.slice(v);break e}}sOpenWaka(){const v=this.getCode();if(c(v))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(v){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var v;const x=this.getCodeNorm();x===45?(this.state=19,(v=this.commentHandler)===null||v===void 0||v.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(x),this.state=17)}sCommentEnded(){const v=this.getCodeNorm();v!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(v),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const v=this.getCodeNorm();v===93?this.state=22:(this.text+="]"+String.fromCodePoint(v),this.state=20)}sCDataEnding2(){var v;const x=this.getCodeNorm();switch(x){case 62:(v=this.cdataHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(x),this.state=20}}sPIFirstChar(){const v=this.getCodeNorm();this.nameStartCheck(v)?(this.piTarget+=String.fromCodePoint(v),this.state=24):v===63||l(v)?(this.fail("processing instruction without a target."),this.state=v===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v),this.state=24)}sPIRest(){const{chunk:v,i:x}=this;for(;;){const _=this.getCodeNorm();if(_===-1)return void(this.piTarget+=v.slice(x));if(!this.nameCheck(_)){this.piTarget+=v.slice(x,this.prevI);const S=_===63;S||l(_)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_));break}}}sPIBody(){if(this.text.length===0){const v=this.getCodeNorm();v===63?this.state=26:l(v)||(this.text=String.fromCodePoint(v))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var v;const x=this.getCodeNorm();if(x===62){const{piTarget:_}=this;_.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(v=this.piHandler)===null||v===void 0||v.call(this,{target:_,body:this.text}),this.piTarget=this.text="",this.state=13}else x===63?this.text+="?":(this.text+="?"+String.fromCodePoint(x),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const v=this.skipSpaces();v!==63?v!==-1&&(this.state=28,this.name=String.fromCodePoint(v)):this.state=33}sXMLDeclName(){const v=this.captureTo(L);if(v===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(v)||v===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=v===61?30:29}}sXMLDeclEq(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(v)||(v!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(v)||(U(v)?this.q=v:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const v=this.captureTo([this.q,63]);if(v===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(v===-1)return;const x=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const _=x;this.xmlDecl.version=_,/^1\.[0-9]+$/.test(_)?this.opt.forceXMLVersion||this.setXMLVersion(_):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(x)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=x;break;case"standalone":x!=="yes"&&x!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=x}this.name="",this.state=32}sXMLDeclSeparator(){const v=this.getCodeNorm();v!==63?(l(v)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var v;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(v=this.xmldeclHandler)===null||v===void 0||v.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var v;const x=this.captureNameChars();if(x===-1)return;const _=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=_.ns=Object.create(null)),(v=this.openTagStartHandler)===null||v===void 0||v.call(this,_),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),x){case 62:this.openTag();break;case 47:this.state=35;break;default:l(x)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const v=this.skipSpaces();v!==-1&&(c(v)?(this.unget(),this.state=37):v===62?this.openTag():v===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const v=this.captureNameChars();v===61?this.state=39:l(v)?this.state=38:v===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):v!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const v=this.skipSpaces();switch(v){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",v===62?this.openTag():c(v)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const v=this.getCodeNorm();U(v)?(this.q=v,this.state=40):l(v)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:v,chunk:x}=this;let{i:_}=this;for(;;)switch(this.getCode()){case v:return this.pushAttrib(this.name,this.text+x.slice(_,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=x.slice(_,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=x.slice(_,this.prevI)+" ",_=this.i;break;case 60:return this.text+=x.slice(_,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=x.slice(_))}}sAttribValueClosed(){const v=this.getCodeNorm();l(v)?this.state=36:v===62?this.openTag():v===47?this.state=35:c(v)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const v=this.captureTo(z);switch(v){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",v===62?this.openTag():this.state=36}}sCloseTag(){const v=this.captureNameChars();v===62?this.closeTag():l(v)?this.state=44:v!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:v,forbiddenState:x}=this;const{chunk:_,textHandler:S}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:C}=this,j=_.slice(v,this.prevI);C.length!==0?(S(C+j),this.text=""):j.length!==0&&S(j)}x=0;break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=_.slice(v,this.prevI)),x=0;break e;case 93:switch(x){case 0:x=1;break;case 1:x=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:x===2&&this.fail('the string "]]>" is disallowed in char data.'),x=0;break;case-2:S!==void 0&&(this.text+=_.slice(v,this.prevI)+`
`),v=this.i,x=0;break;case-1:S!==void 0&&(this.text+=_.slice(v));break e;default:x=0}this.forbiddenState=x}handleTextOutsideRoot(){let{i:v}=this;const{chunk:x,textHandler:_}=this;let S=!1;e:for(;;){const C=this.getCode();switch(C){case 60:if(this.state=15,_!==void 0){const{text:j}=this,F=x.slice(v,this.prevI);j.length!==0?(_(j+F),this.text=""):F.length!==0&&_(F)}break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=x.slice(v,this.prevI)),S=!0;break e;case-2:_!==void 0&&(this.text+=x.slice(v,this.prevI)+`
`),v=this.i;break;case-1:_!==void 0&&(this.text+=x.slice(v));break e;default:l(C)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(v,x){var _;const{prefix:S,local:C}=this.qname(v),j={name:v,prefix:S,local:C,value:x};if(this.attribList.push(j),(_=this.attributeHandler)===null||_===void 0||_.call(this,j),S==="xmlns"){const F=x.trim();this.currentXMLVersion==="1.0"&&F===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[C]=F,O(this,C,F)}else if(v==="xmlns"){const F=x.trim();this.topNS[""]=F,O(this,"",F)}}pushAttribPlain(v,x){var _;const S={name:v,value:x};this.attribList.push(S),(_=this.attributeHandler)===null||_===void 0||_.call(this,S)}end(){var v,x;this.sawRoot||this.fail("document must contain a root element.");const{tags:_}=this;for(;_.length>0;){const C=_.pop();this.fail("unclosed tag: "+C.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((v=this.textHandler)===null||v===void 0||v.call(this,S),this.text=""),this._closed=!0,(x=this.endHandler)===null||x===void 0||x.call(this),this._init(),this}resolve(v){var x,_;let S=this.topNS[v];if(S!==void 0)return S;const{tags:C}=this;for(let j=C.length-1;j>=0;j--)if(S=C[j].ns[v],S!==void 0)return S;return S=this.ns[v],S!==void 0?S:(_=(x=this.opt).resolvePrefix)===null||_===void 0?void 0:_.call(x,v)}qname(v){const x=v.indexOf(":");if(x===-1)return{prefix:"",local:v};const _=v.slice(x+1),S=v.slice(0,x);return(S===""||_===""||_.includes(":"))&&this.fail(`malformed name: ${v}.`),{prefix:S,local:_}}processAttribsNS(){var v;const{attribList:x}=this,_=this.tag;{const{prefix:j,local:F}=this.qname(_.name);_.prefix=j,_.local=F;const H=_.uri=(v=this.resolve(j))!==null&&v!==void 0?v:"";j!==""&&(j==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),H===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(j)}.`),_.uri=j))}if(x.length===0)return;const{attributes:S}=_,C=new Set;for(const j of x){const{name:F,prefix:H,local:W}=j;let Y,B;H===""?(Y=F==="xmlns"?w:"",B=F):(Y=this.resolve(H),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(H)}.`),Y=H),B=`{${Y}}${W}`),C.has(B)&&this.fail(`duplicate attribute: ${B}.`),C.add(B),j.uri=Y,S[F]=j}this.attribList=[]}processAttribsPlain(){const{attribList:v}=this,x=this.tag.attributes;for(const{name:_,value:S}of v)x[_]!==void 0&&this.fail(`duplicate attribute: ${_}.`),x[_]=S;this.attribList=[]}openTag(){var v;this.processAttribs();const{tags:x}=this,_=this.tag;_.isSelfClosing=!1,(v=this.openTagHandler)===null||v===void 0||v.call(this,_),x.push(_),this.state=13,this.name=""}openSelfClosingTag(){var v,x,_;this.processAttribs();const{tags:S}=this,C=this.tag;C.isSelfClosing=!0,(v=this.openTagHandler)===null||v===void 0||v.call(this,C),(x=this.closeTagHandler)===null||x===void 0||x.call(this,C),(this.tag=(_=S[S.length-1])!==null&&_!==void 0?_:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:v,name:x}=this;if(this.state=13,this.name="",x==="")return this.fail("weird empty close tag."),void(this.text+="</>");const _=this.closeTagHandler;let S=v.length;for(;S-- >0;){const C=this.tag=v.pop();if(this.topNS=C.ns,_==null||_(C),C.name===x)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${x}.`),this.text+=`</${x}>`)}parseEntity(v){if(v[0]!=="#"){const _=this.ENTITIES[v];return _!==void 0?_:(this.fail(this.isName(v)?"undefined entity.":"disallowed character in entity name."),`&${v};`)}let x=NaN;return v[1]==="x"&&/^#x[0-9a-f]+$/i.test(v)?x=parseInt(v.slice(2),16):/^#[0-9]+$/.test(v)&&(x=parseInt(v.slice(1),10)),this.isChar(x)?String.fromCodePoint(x):(this.fail("malformed character entity."),`&${v};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,i){var s=e("safe-buffer").Buffer;function o(u,l){this._block=s.alloc(u),this._finalSize=l,this._blockSize=u,this._len=0}o.prototype.update=function(u,l){typeof u=="string"&&(l=l||"utf8",u=s.from(u,l));for(var a=this._block,c=this._blockSize,d=u.length,h=this._len,f=0;f<d;){for(var m=h%c,y=Math.min(d-f,c-m),p=0;p<y;p++)a[m+p]=u[f+p];f+=y,(h+=y)%c==0&&this._update(a)}return this._len+=d,this},o.prototype.digest=function(u){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var c=(4294967295&a)>>>0,d=(a-c)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var h=this._hash();return u?h.toString(u):h},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(e,n,i){var s=n.exports=function(o){o=o.toLowerCase();var u=s[o];if(!u)throw new Error(o+" is not supported (we accept pull requests)");return new u};s.sha=e("./sha"),s.sha1=e("./sha1"),s.sha224=e("./sha224"),s.sha256=e("./sha256"),s.sha384=e("./sha384"),s.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,i){var s=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,o.call(this,64,56)}function d(f){return f<<30|f>>>2}function h(f,m,y,p){return f===0?m&y|~m&p:f===2?m&y|m&p|y&p:m^y^p}s(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(f){for(var m,y=this._w,p=0|this._a,b=0|this._b,g=0|this._c,w=0|this._d,k=0|this._e,A=0;A<16;++A)y[A]=f.readInt32BE(4*A);for(;A<80;++A)y[A]=y[A-3]^y[A-8]^y[A-14]^y[A-16];for(var U=0;U<80;++U){var V=~~(U/20),R=0|((m=p)<<5|m>>>27)+h(V,b,g,w)+k+y[U]+l[V];k=w,w=g,g=d(b),b=p,p=R}this._a=p+this._a|0,this._b=b+this._b|0,this._c=g+this._c|0,this._d=w+this._d|0,this._e=k+this._e|0},c.prototype._hash=function(){var f=u.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,i){var s=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,o.call(this,64,56)}function d(m){return m<<5|m>>>27}function h(m){return m<<30|m>>>2}function f(m,y,p,b){return m===0?y&p|~y&b:m===2?y&p|y&b|p&b:y^p^b}s(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(m){for(var y,p=this._w,b=0|this._a,g=0|this._b,w=0|this._c,k=0|this._d,A=0|this._e,U=0;U<16;++U)p[U]=m.readInt32BE(4*U);for(;U<80;++U)p[U]=(y=p[U-3]^p[U-8]^p[U-14]^p[U-16])<<1|y>>>31;for(var V=0;V<80;++V){var R=~~(V/20),N=d(b)+f(R,g,w,k)+A+p[V]+l[R]|0;A=k,k=w,w=h(g),g=b,b=N}this._a=b+this._a|0,this._b=g+this._b|0,this._c=w+this._c|0,this._d=k+this._d|0,this._e=A+this._e|0},c.prototype._hash=function(){var m=u.allocUnsafe(20);return m.writeInt32BE(0|this._a,0),m.writeInt32BE(0|this._b,4),m.writeInt32BE(0|this._c,8),m.writeInt32BE(0|this._d,12),m.writeInt32BE(0|this._e,16),m},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,i){var s=e("inherits"),o=e("./sha256"),u=e("./hash"),l=e("safe-buffer").Buffer,a=new Array(64);function c(){this.init(),this._w=a,u.call(this,64,56)}s(c,o),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var d=l.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},n.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,i){var s=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}function d(p,b,g){return g^p&(b^g)}function h(p,b,g){return p&b|g&(p|b)}function f(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function m(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function y(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}s(c,o),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(p){for(var b,g=this._w,w=0|this._a,k=0|this._b,A=0|this._c,U=0|this._d,V=0|this._e,R=0|this._f,N=0|this._g,L=0|this._h,z=0;z<16;++z)g[z]=p.readInt32BE(4*z);for(;z<64;++z)g[z]=0|(((b=g[z-2])>>>17|b<<15)^(b>>>19|b<<13)^b>>>10)+g[z-7]+y(g[z-15])+g[z-16];for(var O=0;O<64;++O){var T=L+m(V)+d(V,R,N)+l[O]+g[O]|0,P=f(w)+h(w,k,A)|0;L=N,N=R,R=V,V=U+T|0,U=A,A=k,k=w,w=T+P|0}this._a=w+this._a|0,this._b=k+this._b|0,this._c=A+this._c|0,this._d=U+this._d|0,this._e=V+this._e|0,this._f=R+this._f|0,this._g=N+this._g|0,this._h=L+this._h|0},c.prototype._hash=function(){var p=u.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,i){var s=e("inherits"),o=e("./sha512"),u=e("./hash"),l=e("safe-buffer").Buffer,a=new Array(160);function c(){this.init(),this._w=a,u.call(this,128,112)}s(c,o),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var d=l.allocUnsafe(48);function h(f,m,y){d.writeInt32BE(f,y),d.writeInt32BE(m,y+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),d},n.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,i){var s=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}function d(k,A,U){return U^k&(A^U)}function h(k,A,U){return k&A|U&(k|A)}function f(k,A){return(k>>>28|A<<4)^(A>>>2|k<<30)^(A>>>7|k<<25)}function m(k,A){return(k>>>14|A<<18)^(k>>>18|A<<14)^(A>>>9|k<<23)}function y(k,A){return(k>>>1|A<<31)^(k>>>8|A<<24)^k>>>7}function p(k,A){return(k>>>1|A<<31)^(k>>>8|A<<24)^(k>>>7|A<<25)}function b(k,A){return(k>>>19|A<<13)^(A>>>29|k<<3)^k>>>6}function g(k,A){return(k>>>19|A<<13)^(A>>>29|k<<3)^(k>>>6|A<<26)}function w(k,A){return k>>>0<A>>>0?1:0}s(c,o),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(k){for(var A=this._w,U=0|this._ah,V=0|this._bh,R=0|this._ch,N=0|this._dh,L=0|this._eh,z=0|this._fh,O=0|this._gh,T=0|this._hh,P=0|this._al,E=0|this._bl,v=0|this._cl,x=0|this._dl,_=0|this._el,S=0|this._fl,C=0|this._gl,j=0|this._hl,F=0;F<32;F+=2)A[F]=k.readInt32BE(4*F),A[F+1]=k.readInt32BE(4*F+4);for(;F<160;F+=2){var H=A[F-30],W=A[F-30+1],Y=y(H,W),B=p(W,H),G=b(H=A[F-4],W=A[F-4+1]),D=g(W,H),M=A[F-14],$=A[F-14+1],X=A[F-32],te=A[F-32+1],Q=B+$|0,ee=Y+M+w(Q,B)|0;ee=(ee=ee+G+w(Q=Q+D|0,D)|0)+X+w(Q=Q+te|0,te)|0,A[F]=ee,A[F+1]=Q}for(var le=0;le<160;le+=2){ee=A[le],Q=A[le+1];var oe=h(U,V,R),J=h(P,E,v),ie=f(U,P),ne=f(P,U),ce=m(L,_),ue=m(_,L),fe=l[le],me=l[le+1],ye=d(L,z,O),xe=d(_,S,C),Te=j+ue|0,ke=T+ce+w(Te,j)|0;ke=(ke=(ke=ke+ye+w(Te=Te+xe|0,xe)|0)+fe+w(Te=Te+me|0,me)|0)+ee+w(Te=Te+Q|0,Q)|0;var Pe=ne+J|0,We=ie+oe+w(Pe,ne)|0;T=O,j=C,O=z,C=S,z=L,S=_,L=N+ke+w(_=x+Te|0,x)|0,N=R,x=v,R=V,v=E,V=U,E=P,U=ke+We+w(P=Te+Pe|0,Te)|0}this._al=this._al+P|0,this._bl=this._bl+E|0,this._cl=this._cl+v|0,this._dl=this._dl+x|0,this._el=this._el+_|0,this._fl=this._fl+S|0,this._gl=this._gl+C|0,this._hl=this._hl+j|0,this._ah=this._ah+U+w(this._al,P)|0,this._bh=this._bh+V+w(this._bl,E)|0,this._ch=this._ch+R+w(this._cl,v)|0,this._dh=this._dh+N+w(this._dl,x)|0,this._eh=this._eh+L+w(this._el,_)|0,this._fh=this._fh+z+w(this._fl,S)|0,this._gh=this._gh+O+w(this._gl,C)|0,this._hh=this._hh+T+w(this._hl,j)|0},c.prototype._hash=function(){var k=u.allocUnsafe(64);function A(U,V,R){k.writeInt32BE(U,R),k.writeInt32BE(V,R+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),A(this._gh,this._gl,48),A(this._hh,this._hl,56),k},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,i){n.exports=o;var s=e("events").EventEmitter;function o(){s.call(this)}e("inherits")(o,s),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(u,l){var a=this;function c(b){u.writable&&u.write(b)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",c),u.on("drain",d),u._isStdio||l&&l.end===!1||(a.on("end",f),a.on("close",m));var h=!1;function f(){h||(h=!0,u.end())}function m(){h||(h=!0,typeof u.destroy=="function"&&u.destroy())}function y(b){if(p(),s.listenerCount(this,"error")===0)throw b}function p(){a.removeListener("data",c),u.removeListener("drain",d),a.removeListener("end",f),a.removeListener("close",m),a.removeListener("error",y),u.removeListener("error",y),a.removeListener("end",p),a.removeListener("close",p),u.removeListener("close",p)}return a.on("error",y),u.on("error",y),a.on("end",p),a.on("close",p),u.on("close",p),u.emit("pipe",a),u}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,i){var s={}.toString;n.exports=Array.isArray||function(o){return s.call(o)=="[object Array]"}},{}],507:[function(e,n,i){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,i){var s=e("process-nextick-args"),o=Object.keys||function(p){var b=[];for(var g in p)b.push(g);return b};n.exports=f;var u=Object.create(e("core-util-is"));u.inherits=e("inherits");var l=e("./_stream_readable"),a=e("./_stream_writable");u.inherits(f,l);for(var c=o(a.prototype),d=0;d<c.length;d++){var h=c[d];f.prototype[h]||(f.prototype[h]=a.prototype[h])}function f(p){if(!(this instanceof f))return new f(p);l.call(this,p),a.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||s.nextTick(y,this)}function y(p){p.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),f.prototype._destroy=function(p,b){this.push(null),this.end(),s.nextTick(b,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,i){n.exports=u;var s=e("./_stream_transform"),o=Object.create(e("core-util-is"));function u(l){if(!(this instanceof u))return new u(l);s.call(this,l)}o.inherits=e("inherits"),o.inherits(u,s),u.prototype._transform=function(l,a,c){c(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,i){(function(s,o){(function(){var u=e("process-nextick-args");n.exports=U;var l,a=e("isarray");U.ReadableState=A,e("events").EventEmitter;var c=function(j,F){return j.listeners(F).length},d=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m=Object.create(e("core-util-is"));m.inherits=e("inherits");var y=e("util"),p=void 0;p=y&&y.debuglog?y.debuglog("stream"):function(){};var b,g=e("./internal/streams/BufferList"),w=e("./internal/streams/destroy");m.inherits(U,d);var k=["error","close","destroy","pause","resume"];function A(j,F){j=j||{};var H=F instanceof(l=l||e("./_stream_duplex"));this.objectMode=!!j.objectMode,H&&(this.objectMode=this.objectMode||!!j.readableObjectMode);var W=j.highWaterMark,Y=j.readableHighWaterMark,B=this.objectMode?16:16384;this.highWaterMark=W||W===0?W:H&&(Y||Y===0)?Y:B,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(b||(b=e("string_decoder/").StringDecoder),this.decoder=new b(j.encoding),this.encoding=j.encoding)}function U(j){if(l=l||e("./_stream_duplex"),!(this instanceof U))return new U(j);this._readableState=new A(j,this),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),d.call(this)}function V(j,F,H,W,Y){var B,G=j._readableState;return F===null?(G.reading=!1,function(D,M){if(!M.ended){if(M.decoder){var $=M.decoder.end();$&&$.length&&(M.buffer.push($),M.length+=M.objectMode?1:$.length)}M.ended=!0,L(D)}}(j,G)):(Y||(B=function(D,M){var $;X=M,h.isBuffer(X)||X instanceof f||typeof M=="string"||M===void 0||D.objectMode||($=new TypeError("Invalid non-string/buffer chunk"));var X;return $}(G,F)),B?j.emit("error",B):G.objectMode||F&&F.length>0?(typeof F=="string"||G.objectMode||Object.getPrototypeOf(F)===h.prototype||(F=function(D){return h.from(D)}(F)),W?G.endEmitted?j.emit("error",new Error("stream.unshift() after end event")):R(j,G,F,!0):G.ended?j.emit("error",new Error("stream.push() after EOF")):(G.reading=!1,G.decoder&&!H?(F=G.decoder.write(F),G.objectMode||F.length!==0?R(j,G,F,!1):O(j,G)):R(j,G,F,!1))):W||(G.reading=!1)),function(D){return!D.ended&&(D.needReadable||D.length<D.highWaterMark||D.length===0)}(G)}function R(j,F,H,W){F.flowing&&F.length===0&&!F.sync?(j.emit("data",H),j.read(0)):(F.length+=F.objectMode?1:H.length,W?F.buffer.unshift(H):F.buffer.push(H),F.needReadable&&L(j)),O(j,F)}Object.defineProperty(U.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),U.prototype.destroy=w.destroy,U.prototype._undestroy=w.undestroy,U.prototype._destroy=function(j,F){this.push(null),F(j)},U.prototype.push=function(j,F){var H,W=this._readableState;return W.objectMode?H=!0:typeof j=="string"&&((F=F||W.defaultEncoding)!==W.encoding&&(j=h.from(j,F),F=""),H=!0),V(this,j,F,!1,H)},U.prototype.unshift=function(j){return V(this,j,null,!0,!1)},U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(j){return b||(b=e("string_decoder/").StringDecoder),this._readableState.decoder=new b(j),this._readableState.encoding=j,this};function N(j,F){return j<=0||F.length===0&&F.ended?0:F.objectMode?1:j!=j?F.flowing&&F.length?F.buffer.head.data.length:F.length:(j>F.highWaterMark&&(F.highWaterMark=function(H){return H>=8388608?H=8388608:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}(j)),j<=F.length?j:F.ended?F.length:(F.needReadable=!0,0))}function L(j){var F=j._readableState;F.needReadable=!1,F.emittedReadable||(p("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?u.nextTick(z,j):z(j))}function z(j){p("emit readable"),j.emit("readable"),v(j)}function O(j,F){F.readingMore||(F.readingMore=!0,u.nextTick(T,j,F))}function T(j,F){for(var H=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(p("maybeReadMore read 0"),j.read(0),H!==F.length);)H=F.length;F.readingMore=!1}function P(j){p("readable nexttick read 0"),j.read(0)}function E(j,F){F.reading||(p("resume read 0"),j.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,j.emit("resume"),v(j),F.flowing&&!F.reading&&j.read(0)}function v(j){var F=j._readableState;for(p("flow",F.flowing);F.flowing&&j.read()!==null;);}function x(j,F){return F.length===0?null:(F.objectMode?H=F.buffer.shift():!j||j>=F.length?(H=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):H=function(W,Y,B){var G;return W<Y.head.data.length?(G=Y.head.data.slice(0,W),Y.head.data=Y.head.data.slice(W)):G=W===Y.head.data.length?Y.shift():B?function(D,M){var $=M.head,X=1,te=$.data;for(D-=te.length;$=$.next;){var Q=$.data,ee=D>Q.length?Q.length:D;if(ee===Q.length?te+=Q:te+=Q.slice(0,D),(D-=ee)===0){ee===Q.length?(++X,$.next?M.head=$.next:M.head=M.tail=null):(M.head=$,$.data=Q.slice(ee));break}++X}return M.length-=X,te}(W,Y):function(D,M){var $=h.allocUnsafe(D),X=M.head,te=1;for(X.data.copy($),D-=X.data.length;X=X.next;){var Q=X.data,ee=D>Q.length?Q.length:D;if(Q.copy($,$.length-D,0,ee),(D-=ee)===0){ee===Q.length?(++te,X.next?M.head=X.next:M.head=M.tail=null):(M.head=X,X.data=Q.slice(ee));break}++te}return M.length-=te,$}(W,Y),G}(j,F.buffer,F.decoder),H);var H}function _(j){var F=j._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,u.nextTick(S,F,j))}function S(j,F){j.endEmitted||j.length!==0||(j.endEmitted=!0,F.readable=!1,F.emit("end"))}function C(j,F){for(var H=0,W=j.length;H<W;H++)if(j[H]===F)return H;return-1}U.prototype.read=function(j){p("read",j),j=parseInt(j,10);var F=this._readableState,H=j;if(j!==0&&(F.emittedReadable=!1),j===0&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return p("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?_(this):L(this),null;if((j=N(j,F))===0&&F.ended)return F.length===0&&_(this),null;var W,Y=F.needReadable;return p("need readable",Y),(F.length===0||F.length-j<F.highWaterMark)&&p("length less than watermark",Y=!0),F.ended||F.reading?p("reading or ended",Y=!1):Y&&(p("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(j=N(H,F))),(W=j>0?x(j,F):null)===null?(F.needReadable=!0,j=0):F.length-=j,F.length===0&&(F.ended||(F.needReadable=!0),H!==j&&F.ended&&_(this)),W!==null&&this.emit("data",W),W},U.prototype._read=function(j){this.emit("error",new Error("_read() is not implemented"))},U.prototype.pipe=function(j,F){var H=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=j;break;case 1:W.pipes=[W.pipes,j];break;default:W.pipes.push(j)}W.pipesCount+=1,p("pipe count=%d opts=%j",W.pipesCount,F);var Y=(!F||F.end!==!1)&&j!==s.stdout&&j!==s.stderr?G:le;function B(oe,J){p("onunpipe"),oe===H&&J&&J.hasUnpiped===!1&&(J.hasUnpiped=!0,p("cleanup"),j.removeListener("close",Q),j.removeListener("finish",ee),j.removeListener("drain",D),j.removeListener("error",te),j.removeListener("unpipe",B),H.removeListener("end",G),H.removeListener("end",le),H.removeListener("data",X),M=!0,!W.awaitDrain||j._writableState&&!j._writableState.needDrain||D())}function G(){p("onend"),j.end()}W.endEmitted?u.nextTick(Y):H.once("end",Y),j.on("unpipe",B);var D=function(oe){return function(){var J=oe._readableState;p("pipeOnDrain",J.awaitDrain),J.awaitDrain&&J.awaitDrain--,J.awaitDrain===0&&c(oe,"data")&&(J.flowing=!0,v(oe))}}(H);j.on("drain",D);var M=!1,$=!1;function X(oe){p("ondata"),$=!1,j.write(oe)!==!1||$||((W.pipesCount===1&&W.pipes===j||W.pipesCount>1&&C(W.pipes,j)!==-1)&&!M&&(p("false write response, pause",W.awaitDrain),W.awaitDrain++,$=!0),H.pause())}function te(oe){p("onerror",oe),le(),j.removeListener("error",te),c(j,"error")===0&&j.emit("error",oe)}function Q(){j.removeListener("finish",ee),le()}function ee(){p("onfinish"),j.removeListener("close",Q),le()}function le(){p("unpipe"),H.unpipe(j)}return H.on("data",X),function(oe,J,ie){if(typeof oe.prependListener=="function")return oe.prependListener(J,ie);oe._events&&oe._events[J]?a(oe._events[J])?oe._events[J].unshift(ie):oe._events[J]=[ie,oe._events[J]]:oe.on(J,ie)}(j,"error",te),j.once("close",Q),j.once("finish",ee),j.emit("pipe",H),W.flowing||(p("pipe resume"),H.resume()),j},U.prototype.unpipe=function(j){var F=this._readableState,H={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return j&&j!==F.pipes||(j||(j=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,j&&j.emit("unpipe",this,H)),this;if(!j){var W=F.pipes,Y=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var B=0;B<Y;B++)W[B].emit("unpipe",this,{hasUnpiped:!1});return this}var G=C(F.pipes,j);return G===-1||(F.pipes.splice(G,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),j.emit("unpipe",this,H)),this},U.prototype.on=function(j,F){var H=d.prototype.on.call(this,j,F);if(j==="data")this._readableState.flowing!==!1&&this.resume();else if(j==="readable"){var W=this._readableState;W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&L(this):u.nextTick(P,this))}return H},U.prototype.addListener=U.prototype.on,U.prototype.resume=function(){var j=this._readableState;return j.flowing||(p("resume"),j.flowing=!0,function(F,H){H.resumeScheduled||(H.resumeScheduled=!0,u.nextTick(E,F,H))}(this,j)),this},U.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},U.prototype.wrap=function(j){var F=this,H=this._readableState,W=!1;for(var Y in j.on("end",function(){if(p("wrapped end"),H.decoder&&!H.ended){var G=H.decoder.end();G&&G.length&&F.push(G)}F.push(null)}),j.on("data",function(G){p("wrapped data"),H.decoder&&(G=H.decoder.write(G)),H.objectMode&&G==null||(H.objectMode||G&&G.length)&&(F.push(G)||(W=!0,j.pause()))}),j)this[Y]===void 0&&typeof j[Y]=="function"&&(this[Y]=function(G){return function(){return j[G].apply(j,arguments)}}(Y));for(var B=0;B<k.length;B++)j.on(k[B],this.emit.bind(this,k[B]));return this._read=function(G){p("wrapped _read",G),W&&(W=!1,j.resume())},this},Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),U._fromList=x}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,i){n.exports=l;var s=e("./_stream_duplex"),o=Object.create(e("core-util-is"));function u(d,h){var f=this._transformState;f.transforming=!1;var m=f.writecb;if(!m)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,h!=null&&this.push(h),m(d);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function l(d){if(!(this instanceof l))return new l(d);s.call(this,d),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",a)}function a(){var d=this;typeof this._flush=="function"?this._flush(function(h,f){c(d,h,f)}):c(this,null,null)}function c(d,h,f){if(h)return d.emit("error",h);if(f!=null&&d.push(f),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}o.inherits=e("inherits"),o.inherits(l,s),l.prototype.push=function(d,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,h)},l.prototype._transform=function(d,h,f){throw new Error("_transform() is not implemented")},l.prototype._write=function(d,h,f){var m=this._transformState;if(m.writecb=f,m.writechunk=d,m.writeencoding=h,!m.transforming){var y=this._readableState;(m.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},l.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(d,h){var f=this;s.prototype._destroy.call(this,d,function(m){h(m),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,i){(function(s,o,u){(function(){var l=e("process-nextick-args");function a(O){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(P,E,v){var x=P.entry;for(P.entry=null;x;){var _=x.callback;E.pendingcb--,_(v),x=x.next}E.corkedRequestsFree.next=P})(T,O)}}n.exports=A;var c,d=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?u:l.nextTick;A.WritableState=k;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var f={deprecate:e("util-deprecate")},m=e("./internal/streams/stream"),y=e("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b,g=e("./internal/streams/destroy");function w(){}function k(O,T){c=c||e("./_stream_duplex"),O=O||{};var P=T instanceof c;this.objectMode=!!O.objectMode,P&&(this.objectMode=this.objectMode||!!O.writableObjectMode);var E=O.highWaterMark,v=O.writableHighWaterMark,x=this.objectMode?16:16384;this.highWaterMark=E||E===0?E:P&&(v||v===0)?v:x,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _=O.decodeStrings===!1;this.decodeStrings=!_,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(C,j){var F=C._writableState,H=F.sync,W=F.writecb;if(function(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}(F),j)(function(B,G,D,M,$){--G.pendingcb,D?(l.nextTick($,M),l.nextTick(z,B,G),B._writableState.errorEmitted=!0,B.emit("error",M)):($(M),B._writableState.errorEmitted=!0,B.emit("error",M),z(B,G))})(C,F,H,j,W);else{var Y=N(F);Y||F.corked||F.bufferProcessing||!F.bufferedRequest||R(C,F),H?d(V,C,F,Y,W):V(C,F,Y,W)}})(T,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function A(O){if(c=c||e("./_stream_duplex"),!(b.call(A,this)||this instanceof c))return new A(O);this._writableState=new k(O,this),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),m.call(this)}function U(O,T,P,E,v,x,_){T.writelen=E,T.writecb=_,T.writing=!0,T.sync=!0,P?O._writev(v,T.onwrite):O._write(v,x,T.onwrite),T.sync=!1}function V(O,T,P,E){P||function(v,x){x.length===0&&x.needDrain&&(x.needDrain=!1,v.emit("drain"))}(O,T),T.pendingcb--,E(),z(O,T)}function R(O,T){T.bufferProcessing=!0;var P=T.bufferedRequest;if(O._writev&&P&&P.next){var E=T.bufferedRequestCount,v=new Array(E),x=T.corkedRequestsFree;x.entry=P;for(var _=0,S=!0;P;)v[_]=P,P.isBuf||(S=!1),P=P.next,_+=1;v.allBuffers=S,U(O,T,!0,T.length,v,"",x.finish),T.pendingcb++,T.lastBufferedRequest=null,x.next?(T.corkedRequestsFree=x.next,x.next=null):T.corkedRequestsFree=new a(T),T.bufferedRequestCount=0}else{for(;P;){var C=P.chunk,j=P.encoding,F=P.callback;if(U(O,T,!1,T.objectMode?1:C.length,C,j,F),P=P.next,T.bufferedRequestCount--,T.writing)break}P===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=P,T.bufferProcessing=!1}function N(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function L(O,T){O._final(function(P){T.pendingcb--,P&&O.emit("error",P),T.prefinished=!0,O.emit("prefinish"),z(O,T)})}function z(O,T){var P=N(T);return P&&(function(E,v){v.prefinished||v.finalCalled||(typeof E._final=="function"?(v.pendingcb++,v.finalCalled=!0,l.nextTick(L,E,v)):(v.prefinished=!0,E.emit("prefinish")))}(O,T),T.pendingcb===0&&(T.finished=!0,O.emit("finish"))),P}h.inherits(A,m),k.prototype.getBuffer=function(){for(var O=this.bufferedRequest,T=[];O;)T.push(O),O=O.next;return T},function(){try{Object.defineProperty(k.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(O){return!!b.call(this,O)||this===A&&O&&O._writableState instanceof k}})):b=function(O){return O instanceof this},A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},A.prototype.write=function(O,T,P){var E,v=this._writableState,x=!1,_=!v.objectMode&&(E=O,y.isBuffer(E)||E instanceof p);return _&&!y.isBuffer(O)&&(O=function(S){return y.from(S)}(O)),typeof T=="function"&&(P=T,T=null),_?T="buffer":T||(T=v.defaultEncoding),typeof P!="function"&&(P=w),v.ended?function(S,C){var j=new Error("write after end");S.emit("error",j),l.nextTick(C,j)}(this,P):(_||function(S,C,j,F){var H=!0,W=!1;return j===null?W=new TypeError("May not write null values to stream"):typeof j=="string"||j===void 0||C.objectMode||(W=new TypeError("Invalid non-string/buffer chunk")),W&&(S.emit("error",W),l.nextTick(F,W),H=!1),H}(this,v,O,P))&&(v.pendingcb++,x=function(S,C,j,F,H,W){if(!j){var Y=function(M,$,X){return M.objectMode||M.decodeStrings===!1||typeof $!="string"||($=y.from($,X)),$}(C,F,H);F!==Y&&(j=!0,H="buffer",F=Y)}var B=C.objectMode?1:F.length;C.length+=B;var G=C.length<C.highWaterMark;if(G||(C.needDrain=!0),C.writing||C.corked){var D=C.lastBufferedRequest;C.lastBufferedRequest={chunk:F,encoding:H,isBuf:j,callback:W,next:null},D?D.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else U(S,C,!1,B,F,H,W);return G}(this,v,_,O,T,P)),x},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,O.writing||O.corked||O.bufferProcessing||!O.bufferedRequest||R(this,O))},A.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(O,T,P){P(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(O,T,P){var E=this._writableState;typeof O=="function"?(P=O,O=null,T=null):typeof T=="function"&&(P=T,T=null),O!=null&&this.write(O,T),E.corked&&(E.corked=1,this.uncork()),E.ending||function(v,x,_){x.ending=!0,z(v,x),_&&(x.finished?l.nextTick(_):v.once("finish",_)),x.ended=!0,v.writable=!1}(this,E,P)},Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),A.prototype.destroy=g.destroy,A.prototype._undestroy=g.undestroy,A.prototype._destroy=function(O,T){this.end(),T(O)}}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("util");n.exports=function(){function u(){(function(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(l){var a={data:l,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},u.prototype.unshift=function(l){var a={data:l,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},u.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(l){if(this.length===0)return"";for(var a=this.head,c=""+a.data;a=a.next;)c+=l+a.data;return c},u.prototype.concat=function(l){if(this.length===0)return s.alloc(0);for(var a,c,d,h=s.allocUnsafe(l>>>0),f=this.head,m=0;f;)a=f.data,c=h,d=m,a.copy(c,d),m+=f.data.length,f=f.next;return h},u}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var u=o.inspect({length:this.length});return this.constructor.name+" "+u})},{"safe-buffer":520,util:188}],514:[function(e,n,i){var s=e("process-nextick-args");function o(u,l){u.emit("error",l)}n.exports={destroy:function(u,l){var a=this,c=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return c||d?(l?l(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(o,this,u)):s.nextTick(o,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(h){!l&&h?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,s.nextTick(o,a,h)):s.nextTick(o,a,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(e,n,i){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,i){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,i){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,i){(function(s,o){(function(){var u=e("process/browser.js").nextTick,l=Function.prototype.apply,a=Array.prototype.slice,c={},d=0;function h(f,m){this._id=f,this._clearFn=m}i.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(f){f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(f,m){clearTimeout(f._idleTimeoutId),f._idleTimeout=m},i.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},i._unrefActive=i.active=function(f){clearTimeout(f._idleTimeoutId);var m=f._idleTimeout;m>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},m))},i.setImmediate=typeof s=="function"?s:function(f){var m=d++,y=!(arguments.length<2)&&a.call(arguments,1);return c[m]=!0,u(function(){c[m]&&(y?f.apply(null,y):f.call(null),i.clearImmediate(m))}),m},i.clearImmediate=typeof o=="function"?o:function(f){delete c[f]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,i){(function(s){(function(){function o(u){try{if(!s.localStorage)return!1}catch{return!1}var l=s.localStorage[u];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(u,l){if(o("noDeprecation"))return u;var a=!1;return function(){if(!a){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),a=!0}return u.apply(this,arguments)}}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,o){s.super_=o;var u=function(){};u.prototype=o.prototype,s.prototype=new u,s.prototype.constructor=s}},{}],526:[function(e,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(e,n,i){(function(s,o){(function(){var u=/%[sdj%]/g;i.format=function(v){if(!k(v)){for(var x=[],_=0;_<arguments.length;_++)x.push(c(arguments[_]));return x.join(" ")}_=1;for(var S=arguments,C=S.length,j=String(v).replace(u,function(H){if(H==="%%")return"%";if(_>=C)return H;switch(H){case"%s":return String(S[_++]);case"%d":return Number(S[_++]);case"%j":try{return JSON.stringify(S[_++])}catch{return"[Circular]"}default:return H}}),F=S[_];_<C;F=S[++_])g(F)||!V(F)?j+=" "+F:j+=" "+c(F);return j},i.deprecate=function(v,x){if(A(o.process))return function(){return i.deprecate(v,x).apply(this,arguments)};if(s.noDeprecation===!0)return v;var _=!1;return function(){if(!_){if(s.throwDeprecation)throw new Error(x);s.traceDeprecation?console.trace(x):console.error(x),_=!0}return v.apply(this,arguments)}};var l,a={};function c(v,x){var _={seen:[],stylize:h};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),b(x)?_.showHidden=x:x&&i._extend(_,x),A(_.showHidden)&&(_.showHidden=!1),A(_.depth)&&(_.depth=2),A(_.colors)&&(_.colors=!1),A(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=d),f(_,v,_.depth)}function d(v,x){var _=c.styles[x];return _?"\x1B["+c.colors[_][0]+"m"+v+"\x1B["+c.colors[_][1]+"m":v}function h(v,x){return v}function f(v,x,_){if(v.customInspect&&x&&L(x.inspect)&&x.inspect!==i.inspect&&(!x.constructor||x.constructor.prototype!==x)){var S=x.inspect(_,v);return k(S)||(S=f(v,S,_)),S}var C=function(D,M){if(A(M))return D.stylize("undefined","undefined");if(k(M)){var $="'"+JSON.stringify(M).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize($,"string")}if(w(M))return D.stylize(""+M,"number");if(b(M))return D.stylize(""+M,"boolean");if(g(M))return D.stylize("null","null")}(v,x);if(C)return C;var j=Object.keys(x),F=function(D){var M={};return D.forEach(function($,X){M[$]=!0}),M}(j);if(v.showHidden&&(j=Object.getOwnPropertyNames(x)),N(x)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return m(x);if(j.length===0){if(L(x)){var H=x.name?": "+x.name:"";return v.stylize("[Function"+H+"]","special")}if(U(x))return v.stylize(RegExp.prototype.toString.call(x),"regexp");if(R(x))return v.stylize(Date.prototype.toString.call(x),"date");if(N(x))return m(x)}var W,Y="",B=!1,G=["{","}"];return p(x)&&(B=!0,G=["[","]"]),L(x)&&(Y=" [Function"+(x.name?": "+x.name:"")+"]"),U(x)&&(Y=" "+RegExp.prototype.toString.call(x)),R(x)&&(Y=" "+Date.prototype.toUTCString.call(x)),N(x)&&(Y=" "+m(x)),j.length!==0||B&&x.length!=0?_<0?U(x)?v.stylize(RegExp.prototype.toString.call(x),"regexp"):v.stylize("[Object]","special"):(v.seen.push(x),W=B?function(D,M,$,X,te){for(var Q=[],ee=0,le=M.length;ee<le;++ee)E(M,String(ee))?Q.push(y(D,M,$,X,String(ee),!0)):Q.push("");return te.forEach(function(oe){oe.match(/^\d+$/)||Q.push(y(D,M,$,X,oe,!0))}),Q}(v,x,_,F,j):j.map(function(D){return y(v,x,_,F,D,B)}),v.seen.pop(),function(D,M,$){return D.reduce(function(X,te){return te.indexOf(`
`)>=0,X+te.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(M===""?"":M+`
 `)+" "+D.join(`,
  `)+" "+$[1]:$[0]+M+" "+D.join(", ")+" "+$[1]}(W,Y,G)):G[0]+Y+G[1]}function m(v){return"["+Error.prototype.toString.call(v)+"]"}function y(v,x,_,S,C,j){var F,H,W;if((W=Object.getOwnPropertyDescriptor(x,C)||{value:x[C]}).get?H=W.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):W.set&&(H=v.stylize("[Setter]","special")),E(S,C)||(F="["+C+"]"),H||(v.seen.indexOf(W.value)<0?(H=g(_)?f(v,W.value,null):f(v,W.value,_-1)).indexOf(`
`)>-1&&(H=j?H.split(`
`).map(function(Y){return"  "+Y}).join(`
`).substr(2):`
`+H.split(`
`).map(function(Y){return"   "+Y}).join(`
`)):H=v.stylize("[Circular]","special")),A(F)){if(j&&C.match(/^\d+$/))return H;(F=JSON.stringify(""+C)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.substr(1,F.length-2),F=v.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=v.stylize(F,"string"))}return F+": "+H}function p(v){return Array.isArray(v)}function b(v){return typeof v=="boolean"}function g(v){return v===null}function w(v){return typeof v=="number"}function k(v){return typeof v=="string"}function A(v){return v===void 0}function U(v){return V(v)&&z(v)==="[object RegExp]"}function V(v){return typeof v=="object"&&v!==null}function R(v){return V(v)&&z(v)==="[object Date]"}function N(v){return V(v)&&(z(v)==="[object Error]"||v instanceof Error)}function L(v){return typeof v=="function"}function z(v){return Object.prototype.toString.call(v)}function O(v){return v<10?"0"+v.toString(10):v.toString(10)}i.debuglog=function(v){if(A(l)&&(l=s.env.NODE_DEBUG||""),v=v.toUpperCase(),!a[v])if(new RegExp("\\b"+v+"\\b","i").test(l)){var x=s.pid;a[v]=function(){var _=i.format.apply(i,arguments);console.error("%s %d: %s",v,x,_)}}else a[v]=function(){};return a[v]},i.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=b,i.isNull=g,i.isNullOrUndefined=function(v){return v==null},i.isNumber=w,i.isString=k,i.isSymbol=function(v){return typeof v=="symbol"},i.isUndefined=A,i.isRegExp=U,i.isObject=V,i.isDate=R,i.isError=N,i.isFunction=L,i.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},i.isBuffer=e("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var v=new Date,x=[O(v.getHours()),O(v.getMinutes()),O(v.getSeconds())].join(":");return[v.getDate(),T[v.getMonth()],x].join(" ")}function E(v,x){return Object.prototype.hasOwnProperty.call(v,x)}i.log=function(){console.log("%s - %s",P(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(v,x){if(!x||!V(x))return v;for(var _=Object.keys(x),S=_.length;S--;)v[_[S]]=x[_[S]];return v}}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return f.default}});var s=m(e("./v1.js")),o=m(e("./v3.js")),u=m(e("./v4.js")),l=m(e("./v5.js")),a=m(e("./nil.js")),c=m(e("./version.js")),d=m(e("./validate.js")),h=m(e("./stringify.js")),f=m(e("./parse.js"));function m(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,i){function s(f){return 14+(f+64>>>9<<4)+1}function o(f,m){const y=(65535&f)+(65535&m);return(f>>16)+(m>>16)+(y>>16)<<16|65535&y}function u(f,m,y,p,b,g){return o((w=o(o(m,f),o(p,g)))<<(k=b)|w>>>32-k,y);var w,k}function l(f,m,y,p,b,g,w){return u(m&y|~m&p,f,m,b,g,w)}function a(f,m,y,p,b,g,w){return u(m&p|y&~p,f,m,b,g,w)}function c(f,m,y,p,b,g,w){return u(m^y^p,f,m,b,g,w)}function d(f,m,y,p,b,g,w){return u(y^(m|~p),f,m,b,g,w)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=function(f){if(typeof f=="string"){const m=unescape(encodeURIComponent(f));f=new Uint8Array(m.length);for(let y=0;y<m.length;++y)f[y]=m.charCodeAt(y)}return function(m){const y=[],p=32*m.length;for(let b=0;b<p;b+=8){const g=m[b>>5]>>>b%32&255,w=parseInt("0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(15&g),16);y.push(w)}return y}(function(m,y){m[y>>5]|=128<<y%32,m[s(y)-1]=y;let p=1732584193,b=-271733879,g=-1732584194,w=271733878;for(let k=0;k<m.length;k+=16){const A=p,U=b,V=g,R=w;p=l(p,b,g,w,m[k],7,-680876936),w=l(w,p,b,g,m[k+1],12,-389564586),g=l(g,w,p,b,m[k+2],17,606105819),b=l(b,g,w,p,m[k+3],22,-1044525330),p=l(p,b,g,w,m[k+4],7,-176418897),w=l(w,p,b,g,m[k+5],12,1200080426),g=l(g,w,p,b,m[k+6],17,-1473231341),b=l(b,g,w,p,m[k+7],22,-45705983),p=l(p,b,g,w,m[k+8],7,1770035416),w=l(w,p,b,g,m[k+9],12,-1958414417),g=l(g,w,p,b,m[k+10],17,-42063),b=l(b,g,w,p,m[k+11],22,-1990404162),p=l(p,b,g,w,m[k+12],7,1804603682),w=l(w,p,b,g,m[k+13],12,-40341101),g=l(g,w,p,b,m[k+14],17,-1502002290),b=l(b,g,w,p,m[k+15],22,1236535329),p=a(p,b,g,w,m[k+1],5,-165796510),w=a(w,p,b,g,m[k+6],9,-1069501632),g=a(g,w,p,b,m[k+11],14,643717713),b=a(b,g,w,p,m[k],20,-373897302),p=a(p,b,g,w,m[k+5],5,-701558691),w=a(w,p,b,g,m[k+10],9,38016083),g=a(g,w,p,b,m[k+15],14,-660478335),b=a(b,g,w,p,m[k+4],20,-405537848),p=a(p,b,g,w,m[k+9],5,568446438),w=a(w,p,b,g,m[k+14],9,-1019803690),g=a(g,w,p,b,m[k+3],14,-187363961),b=a(b,g,w,p,m[k+8],20,1163531501),p=a(p,b,g,w,m[k+13],5,-1444681467),w=a(w,p,b,g,m[k+2],9,-51403784),g=a(g,w,p,b,m[k+7],14,1735328473),b=a(b,g,w,p,m[k+12],20,-1926607734),p=c(p,b,g,w,m[k+5],4,-378558),w=c(w,p,b,g,m[k+8],11,-2022574463),g=c(g,w,p,b,m[k+11],16,1839030562),b=c(b,g,w,p,m[k+14],23,-35309556),p=c(p,b,g,w,m[k+1],4,-1530992060),w=c(w,p,b,g,m[k+4],11,1272893353),g=c(g,w,p,b,m[k+7],16,-155497632),b=c(b,g,w,p,m[k+10],23,-1094730640),p=c(p,b,g,w,m[k+13],4,681279174),w=c(w,p,b,g,m[k],11,-358537222),g=c(g,w,p,b,m[k+3],16,-722521979),b=c(b,g,w,p,m[k+6],23,76029189),p=c(p,b,g,w,m[k+9],4,-640364487),w=c(w,p,b,g,m[k+12],11,-421815835),g=c(g,w,p,b,m[k+15],16,530742520),b=c(b,g,w,p,m[k+2],23,-995338651),p=d(p,b,g,w,m[k],6,-198630844),w=d(w,p,b,g,m[k+7],10,1126891415),g=d(g,w,p,b,m[k+14],15,-1416354905),b=d(b,g,w,p,m[k+5],21,-57434055),p=d(p,b,g,w,m[k+12],6,1700485571),w=d(w,p,b,g,m[k+3],10,-1894986606),g=d(g,w,p,b,m[k+10],15,-1051523),b=d(b,g,w,p,m[k+1],21,-2054922799),p=d(p,b,g,w,m[k+8],6,1873313359),w=d(w,p,b,g,m[k+15],10,-30611744),g=d(g,w,p,b,m[k+6],15,-1560198380),b=d(b,g,w,p,m[k+13],21,1309151649),p=d(p,b,g,w,m[k+4],6,-145523070),w=d(w,p,b,g,m[k+11],10,-1120210379),g=d(g,w,p,b,m[k+2],15,718787259),b=d(b,g,w,p,m[k+9],21,-343485551),p=o(p,A),b=o(b,U),g=o(g,V),w=o(w,R)}return[p,b,g,w]}(function(m){if(m.length===0)return[];const y=8*m.length,p=new Uint32Array(s(y));for(let b=0;b<y;b+=8)p[b>>5]|=(255&m[b/8])<<b%32;return p}(f),8*f.length))};i.default=h},{}],530:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=e("./validate.js"))&&s.__esModule?s:{default:s},u=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");let a;const c=new Uint8Array(16);return c[0]=(a=parseInt(l.slice(0,8),16))>>>24,c[1]=a>>>16&255,c[2]=a>>>8&255,c[3]=255&a,c[4]=(a=parseInt(l.slice(9,13),16))>>>8,c[5]=255&a,c[6]=(a=parseInt(l.slice(14,18),16))>>>8,c[7]=255&a,c[8]=(a=parseInt(l.slice(19,23),16))>>>8,c[9]=255&a,c[10]=(a=parseInt(l.slice(24,36),16))/1099511627776&255,c[11]=a/4294967296&255,c[12]=a>>>24&255,c[13]=a>>>16&255,c[14]=a>>>8&255,c[15]=255&a,c};i.default=u},{"./validate.js":541}],532:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)};const o=new Uint8Array(16)},{}],534:[function(e,n,i){function s(l,a,c,d){switch(l){case 0:return a&c^~a&d;case 1:return a^c^d;case 2:return a&c^a&d^c&d;case 3:return a^c^d}}function o(l,a){return l<<a|l>>>32-a}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var u=function(l){const a=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const m=unescape(encodeURIComponent(l));l=[];for(let y=0;y<m.length;++y)l.push(m.charCodeAt(y))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const d=l.length/4+2,h=Math.ceil(d/16),f=new Array(h);for(let m=0;m<h;++m){const y=new Uint32Array(16);for(let p=0;p<16;++p)y[p]=l[64*m+4*p]<<24|l[64*m+4*p+1]<<16|l[64*m+4*p+2]<<8|l[64*m+4*p+3];f[m]=y}f[h-1][14]=8*(l.length-1)/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=8*(l.length-1)&4294967295;for(let m=0;m<h;++m){const y=new Uint32Array(80);for(let A=0;A<16;++A)y[A]=f[m][A];for(let A=16;A<80;++A)y[A]=o(y[A-3]^y[A-8]^y[A-14]^y[A-16],1);let p=c[0],b=c[1],g=c[2],w=c[3],k=c[4];for(let A=0;A<80;++A){const U=Math.floor(A/20),V=o(p,5)+s(U,b,g,w)+k+a[U]+y[A]>>>0;k=w,w=g,g=o(b,30)>>>0,b=p,p=V}c[0]=c[0]+p>>>0,c[1]=c[1]+b>>>0,c[2]=c[2]+g>>>0,c[3]=c[3]+w>>>0,c[4]=c[4]+k>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};i.default=u},{}],535:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=e("./validate.js"))&&s.__esModule?s:{default:s};const u=[];for(let a=0;a<256;++a)u.push((a+256).toString(16).substr(1));var l=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const d=(u[a[c+0]]+u[a[c+1]]+u[a[c+2]]+u[a[c+3]]+"-"+u[a[c+4]]+u[a[c+5]]+"-"+u[a[c+6]]+u[a[c+7]]+"-"+u[a[c+8]]+u[a[c+9]]+"-"+u[a[c+10]]+u[a[c+11]]+u[a[c+12]]+u[a[c+13]]+u[a[c+14]]+u[a[c+15]]).toLowerCase();if(!(0,o.default)(d))throw TypeError("Stringified UUID is invalid");return d};i.default=l},{"./validate.js":541}],536:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=u(e("./rng.js")),o=u(e("./stringify.js"));function u(f){return f&&f.__esModule?f:{default:f}}let l,a,c=0,d=0;var h=function(f,m,y){let p=m&&y||0;const b=m||new Array(16);let g=(f=f||{}).node||l,w=f.clockseq!==void 0?f.clockseq:a;if(g==null||w==null){const N=f.random||(f.rng||s.default)();g==null&&(g=l=[1|N[0],N[1],N[2],N[3],N[4],N[5]]),w==null&&(w=a=16383&(N[6]<<8|N[7]))}let k=f.msecs!==void 0?f.msecs:Date.now(),A=f.nsecs!==void 0?f.nsecs:d+1;const U=k-c+(A-d)/1e4;if(U<0&&f.clockseq===void 0&&(w=w+1&16383),(U<0||k>c)&&f.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=k,d=A,a=w,k+=122192928e5;const V=(1e4*(268435455&k)+A)%4294967296;b[p++]=V>>>24&255,b[p++]=V>>>16&255,b[p++]=V>>>8&255,b[p++]=255&V;const R=k/4294967296*1e4&268435455;b[p++]=R>>>8&255,b[p++]=255&R,b[p++]=R>>>24&15|16,b[p++]=R>>>16&255,b[p++]=w>>>8|128,b[p++]=255&w;for(let N=0;N<6;++N)b[p+N]=g[N];return m||(0,o.default)(b)};i.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=u(e("./v35.js")),o=u(e("./md5.js"));function u(a){return a&&a.__esModule?a:{default:a}}var l=(0,s.default)("v3",48,o.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c,d,h){function f(m,y,p,b){if(typeof m=="string"&&(m=function(w){w=unescape(encodeURIComponent(w));const k=[];for(let A=0;A<w.length;++A)k.push(w.charCodeAt(A));return k}(m)),typeof y=="string"&&(y=(0,o.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+m.length);if(g.set(y),g.set(m,y.length),g=h(g),g[6]=15&g[6]|d,g[8]=63&g[8]|128,p){b=b||0;for(let w=0;w<16;++w)p[b+w]=g[w];return p}return(0,s.default)(g)}try{f.name=c}catch{}return f.DNS=l,f.URL=a,f},i.URL=i.DNS=void 0;var s=u(e("./stringify.js")),o=u(e("./parse.js"));function u(c){return c&&c.__esModule?c:{default:c}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=u(e("./rng.js")),o=u(e("./stringify.js"));function u(a){return a&&a.__esModule?a:{default:a}}var l=function(a,c,d){const h=(a=a||{}).random||(a.rng||s.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,c){d=d||0;for(let f=0;f<16;++f)c[d+f]=h[f];return c}return(0,o.default)(h)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=u(e("./v35.js")),o=u(e("./sha1.js"));function u(a){return a&&a.__esModule?a:{default:a}}var l=(0,s.default)("v5",80,o.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=e("./regex.js"))&&s.__esModule?s:{default:s},u=function(l){return typeof l=="string"&&o.default.test(l)};i.default=u},{"./regex.js":532}],542:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=e("./validate.js"))&&s.__esModule?s:{default:s},u=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=u},{"./validate.js":541}],543:[function(e,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(e,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},i.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(e,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(o){return s(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(f_);var Sk=f_.exports;const Ek=iy(Sk);function Tk(r){if(!r.length)return;const t=Object.keys(r[0]),e=[t.join(","),...r.map(o=>t.map(u=>'"'+(o[u]??"")+'"').join(","))].join(`
`),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download="candidates_export.csv",s.click(),URL.revokeObjectURL(i)}const ry=[{key:"cpfImgUrl",label:"CPF"},{key:"pisImgUrl",label:"PIS"},{key:"rgFrenteImgUrl",label:"RG Frente"},{key:"rgVersoImgUrl",label:"RG Verso"},{key:"enderecoImgUrl",label:"Endereo"}],kk={"image/jpeg":"jpeg","image/jpg":"jpeg","image/png":"png"};async function Ck(r){const t=await fetch(r,{mode:"cors"});if(!t.ok)throw new Error("Falha ao baixar imagem");const e=await t.blob(),n=await e.arrayBuffer(),i=kk[e.type]||"jpeg";return{buffer:new Uint8Array(n),extension:i}}function ny(r){return r&&typeof r.toDate=="function"?r.toDate().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}async function Ik(r){if(!r.length)return;const t=new Ek.Workbook;t.created=new Date,t.modified=new Date,t.calcProperties.fullCalcOnLoad=!0;const e=t.addWorksheet("Candidatos",{views:[{state:"frozen",ySplit:1}]});e.columns=[{header:"Nome",key:"nome",width:35},{header:"CPF",key:"cpf",width:18},{header:"Idade",key:"idade",width:8},{header:"Telefone",key:"telefone",width:18},{header:"Cidade",key:"cidade",width:25},{header:"Status",key:"status",width:15},{header:"Documentos",key:"documentos",width:45},{header:"Data de Cadastro",key:"criado",width:22},{header:"ltima Atualizao",key:"atualizado",width:22}],e.getRow(1).font={bold:!0},r.forEach(f=>{const m=ry.filter(y=>f[y.key]).map(y=>y.label).join(", ");e.addRow({nome:f.nome||"",cpf:f.cpf||"",idade:f.idade||"",telefone:f.telefone||"",cidade:f.cidade||"Sem cidade",status:f.status||"Backlog",documentos:m,criado:ny(f.createdAt),atualizado:ny(f.updatedAt)})}),e.autoFilter="A1:I1";const n=t.addWorksheet("Documentos",{views:[{state:"frozen",ySplit:1}]});n.columns=[{header:"Candidato",key:"candidato",width:35},{header:"Documento",key:"documento",width:22},{header:"Imagem",key:"imagem",width:45},{header:"Link",key:"link",width:50}],n.getRow(1).font={bold:!0},n.getColumn(4).style={font:{color:{argb:"FF1F4E79"},underline:!0}};const i=new Map;for(const f of r)for(const m of ry){const y=f[m.key];if(!y)continue;const p=n.addRow({candidato:f.nome||"",documento:m.label,imagem:"",link:""}),b=p.number;n.getCell(`D${b}`).value={text:"Abrir documento",hyperlink:y,tooltip:`Abrir ${m.label}`},p.alignment={vertical:"middle"};try{let g=i.get(y);g||(g=await Ck(y),i.set(y,g));const w=t.addImage({buffer:g.buffer,extension:g.extension});n.addImage(w,{tl:{col:2,row:b-1+.15},ext:{width:220,height:130}}),p.height=Math.max(p.height||0,110),n.getCell(`C${b}`).value=""}catch{n.getCell(`C${b}`).value="Imagem indisponvel"}}n.autoFilter="A1:D1",n.rowCount===1&&n.addRow({candidato:"Nenhum documento disponvel",documento:"",imagem:"",link:""});const s=new Date,o=s.toLocaleDateString("pt-BR").replace(/\//g,"-"),u=s.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}).replace(/:/g,""),l=`candidatos_${o}_${u}.xlsx`,a=await t.xlsx.writeBuffer(),c=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),d=URL.createObjectURL(c),h=document.createElement("a");h.href=d,h.download=l,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(d)}function Rk(){var z;const{candidates:r,loading:t,updateCandidateStatus:e,deleteCandidate:n}=c_(),{requireAuth:i,logout:s}=h_(),[o,u]=Ee.useState("All"),[l,a]=Ee.useState("All"),[c,d]=Ee.useState(""),[h,f]=Ee.useState(null),[m,y]=Ee.useState({isOpen:!1,candidate:null}),[p,b]=Ee.useState(!1);Yc(),Ee.useEffect(()=>{i()},[i]);const g=Ee.useMemo(()=>[...new Set(r.map(T=>T.cidade).filter(Boolean))].sort(),[r]),w=Ee.useMemo(()=>r.filter(O=>!O.cidade).length,[r]),k=Ee.useMemo(()=>r.filter(O=>{if(o!=="All"&&O.status!==o)return!1;if(l==="SemCidade"){if(O.cidade)return!1}else if(l!=="All"&&O.cidade!==l)return!1;if(!c)return!0;const T=c.toLowerCase();return O.nome&&O.nome.toLowerCase().includes(T)||O.cpf&&O.cpf.toLowerCase().includes(T)||O.cidade&&O.cidade.toLowerCase().includes(T)}),[r,o,l,c]),A=async(O,T)=>{await e(O,T)},U=O=>{y({isOpen:!0,candidate:O})},V=async()=>{m.candidate&&(await n(m.candidate.id),y({isOpen:!1,candidate:null}))},R=()=>{y({isOpen:!1,candidate:null})},N=async(O,T)=>{const P=await fetch(O,{mode:"cors"});if(!P.ok)throw new Error("Falha ao baixar");const E=await P.blob(),v=URL.createObjectURL(E),x=document.createElement("a");x.href=v,x.download=T,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v)},L=async O=>{try{const T=(O.nome||"documento").replace(/\s+/g,"_"),P=[];if(O.cpfImgUrl&&P.push(N(O.cpfImgUrl,`${T}_CPF.jpg`)),O.pisImgUrl&&P.push(N(O.pisImgUrl,`${T}_PIS.jpg`)),O.rgFrenteImgUrl&&P.push(N(O.rgFrenteImgUrl,`${T}_RG_FRENTE.jpg`)),O.rgVersoImgUrl&&P.push(N(O.rgVersoImgUrl,`${T}_RG_VERSO.jpg`)),O.enderecoImgUrl&&P.push(N(O.enderecoImgUrl,`${T}_ENDERECO.jpg`)),P.length===0){cn("Nenhum documento para baixar.","warning");return}for(const E of P)await E;cn("Documentos baixados com sucesso!","success")}catch{cn("Falha ao baixar documentos.","error")}};return t?ae.jsx("div",{className:"admin-panel",children:ae.jsx("div",{className:"loading",children:"Carregando painel administrativo..."})}):ae.jsxs("div",{className:"admin-panel",children:[ae.jsxs("div",{className:"admin-header",children:[ae.jsx("h1",{children:"Painel Administrativo"}),ae.jsxs("div",{className:"admin-actions",children:[ae.jsx(_k,{}),ae.jsx("button",{onClick:s,className:"logout-button",children:"Sair"}),ae.jsx(Mu,{to:"/",className:"back-link",children:"Voltar ao formulrio"})]})]}),ae.jsxs("div",{className:"admin-controls",children:[ae.jsxs("div",{className:"filter-group",children:[ae.jsx("label",{htmlFor:"status-filter",children:"Filtrar por status:"}),ae.jsxs("select",{id:"status-filter",value:o,onChange:O=>u(O.target.value),"aria-label":"Filtrar candidatos por status",children:[ae.jsx("option",{value:"All",children:"Todos"}),ae.jsx("option",{value:"Backlog",children:"Backlog"}),ae.jsx("option",{value:"Aprovado",children:"Aprovado"}),ae.jsx("option",{value:"Rejeitado",children:"Rejeitado"})]})]}),ae.jsxs("div",{className:"filter-group",children:[ae.jsx("label",{htmlFor:"city-filter",children:"Filtrar por cidade:"}),ae.jsxs("select",{id:"city-filter",value:l,onChange:O=>a(O.target.value),"aria-label":"Filtrar candidatos por cidade",children:[ae.jsxs("option",{value:"All",children:["Todas as cidades (",r.length,")"]}),w>0&&ae.jsxs("option",{value:"SemCidade",children:["Sem cidade cadastrada (",w,")"]}),g.map(O=>ae.jsx("option",{value:O,children:O},O))]})]}),ae.jsxs("div",{className:"search-group",children:[ae.jsx("label",{htmlFor:"search-input",children:"Buscar:"}),ae.jsx("input",{id:"search-input",type:"text",placeholder:"Buscar por nome, CPF ou cidade",value:c,onChange:O=>d(O.target.value),"aria-label":"Buscar candidatos"})]}),ae.jsxs("div",{className:"export-buttons",children:[ae.jsxs("button",{onClick:()=>Tk(k),className:"export-button export-csv",disabled:k.length===0,title:"Exportar para CSV",children:["Exportar CSV (",k.length,")"]}),ae.jsx("button",{onClick:async()=>{try{b(!0),await Ik(k),cn("Exportao para Excel concluda!","success")}catch(O){console.error("Erro ao exportar Excel:",O),cn("Falha ao exportar Excel. Tente novamente.","error")}finally{b(!1)}},className:"export-button export-excel",disabled:k.length===0||p,title:"Exportar para Excel com formatao","aria-busy":p,children:p?"Exportando...":`Exportar Excel (${k.length})`})]})]}),ae.jsxs("div",{className:"table-container",children:[ae.jsxs("table",{className:"candidates-table",children:[ae.jsx("thead",{children:ae.jsxs("tr",{children:[ae.jsx("th",{children:"Nome"}),ae.jsx("th",{children:"CPF"}),ae.jsx("th",{children:"Idade"}),ae.jsx("th",{children:"Telefone"}),ae.jsx("th",{children:"Cidade"}),ae.jsx("th",{children:"Status"}),ae.jsx("th",{children:"Documentos"}),ae.jsx("th",{children:"Aes"})]})}),ae.jsx("tbody",{children:k.map(O=>{var T;return ae.jsxs("tr",{children:[ae.jsx("td",{className:"candidate-name",children:O.nome}),ae.jsx("td",{children:O.cpf}),ae.jsxs("td",{children:[O.idade," anos"]}),ae.jsx("td",{children:O.telefone}),ae.jsx("td",{className:"candidate-city",children:O.cidade?ae.jsx("span",{className:"city-name",children:O.cidade}):ae.jsx("span",{className:"no-city",title:"Candidato cadastrado antes da implementao do campo cidade",children:"Sem cidade"})}),ae.jsx("td",{children:ae.jsx("span",{className:`status status-${((T=O.status)==null?void 0:T.toLowerCase())||"backlog"}`,children:O.status||"Backlog"})}),ae.jsx("td",{children:ae.jsxs("div",{className:"documents",children:[O.cpfImgUrl&&ae.jsx("img",{src:O.cpfImgUrl,alt:"CPF",className:"document-thumb",onClick:()=>f(O.cpfImgUrl),role:"button",tabIndex:0,onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&f(O.cpfImgUrl)},title:"CPF"}),O.pisImgUrl&&ae.jsx("img",{src:O.pisImgUrl,alt:"PIS",className:"document-thumb",onClick:()=>f(O.pisImgUrl),role:"button",tabIndex:0,onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&f(O.pisImgUrl)},title:"PIS"}),O.rgFrenteImgUrl&&ae.jsx("img",{src:O.rgFrenteImgUrl,alt:"RG Frente",className:"document-thumb",onClick:()=>f(O.rgFrenteImgUrl),role:"button",tabIndex:0,onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&f(O.rgFrenteImgUrl)},title:"RG Frente"}),O.rgVersoImgUrl&&ae.jsx("img",{src:O.rgVersoImgUrl,alt:"RG Verso",className:"document-thumb",onClick:()=>f(O.rgVersoImgUrl),role:"button",tabIndex:0,onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&f(O.rgVersoImgUrl)},title:"RG Verso"}),O.enderecoImgUrl&&ae.jsx("img",{src:O.enderecoImgUrl,alt:"Endereo",className:"document-thumb",onClick:()=>f(O.enderecoImgUrl),role:"button",tabIndex:0,onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&f(O.enderecoImgUrl)},title:"Comprovante de Endereo"})]})}),ae.jsx("td",{children:ae.jsxs("div",{className:"action-buttons",children:[ae.jsx("button",{onClick:()=>A(O.id,"Aprovado"),className:"approve-button",disabled:O.status==="Aprovado",children:"Aprovar"}),ae.jsx("button",{onClick:()=>A(O.id,"Rejeitado"),className:"reject-button",disabled:O.status==="Rejeitado",children:"Rejeitar"}),ae.jsx("button",{onClick:()=>U(O),className:"delete-button",title:"Deletar candidato",children:"Deletar"}),ae.jsx("button",{onClick:()=>L(O),className:"download-all-button",title:"Baixar todos os documentos do candidato",disabled:!O.cpfImgUrl&&!O.pisImgUrl&&!O.rgFrenteImgUrl&&!O.rgVersoImgUrl&&!O.enderecoImgUrl,children:"Baixar documentos"})]})})]},O.id)})})]}),k.length===0&&ae.jsx("div",{className:"no-results",children:c||o!=="All"||l!=="All"?"Nenhum candidato encontrado com os filtros aplicados.":"Nenhum candidato cadastrado ainda."})]}),h&&ae.jsx("div",{className:"modal-overlay",onClick:()=>f(null),role:"dialog","aria-modal":"true","aria-label":"Visualizar documento",children:ae.jsxs("div",{className:"modal-content",children:[ae.jsx("img",{src:h,alt:"Documento",className:"preview-image"}),ae.jsx("button",{className:"close-modal",onClick:()=>f(null),"aria-label":"Fechar visualizao",children:""})]})}),ae.jsx(xk,{isOpen:m.isOpen,onClose:R,onConfirm:V,title:"Confirmar Excluso",message:`Tem certeza que deseja deletar o candidato "${(z=m.candidate)==null?void 0:z.nome}"? Esta ao no pode ser desfeita e todos os documentos sero removidos permanentemente.`,confirmText:"Deletar",cancelText:"Cancelar",type:"danger"})]})}function Ak(){return ae.jsxs(W6,{children:[ae.jsx(Y6,{}),ae.jsxs(V6,{children:[ae.jsx(Pu,{path:"/",element:ae.jsx(bk,{})}),ae.jsx(Pu,{path:"/admin",element:ae.jsx(vk,{})}),ae.jsx(Pu,{path:"/admin/panel",element:ae.jsx(Rk,{})})]})]})}ff.createRoot(document.getElementById("root")).render(ae.jsx(my.StrictMode,{children:ae.jsx(Ak,{})}));
